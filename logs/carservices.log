2025-12-11T07:38:53.872+04:00  WARN 31548 --- [carservices] [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=9h52m54s827ms341Âµs100ns).
2025-12-11T09:11:22.015+04:00  WARN 31548 --- [carservices] [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=22m26s618ms611Âµs500ns).
2025-12-11T09:42:34.142+04:00  WARN 31548 --- [carservices] [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=2m11s222ms803Âµs500ns).
2025-12-11T09:57:33.309+04:00  WARN 31548 --- [carservices] [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=14m59s388ms87Âµs800ns).
2025-12-11T10:30:43.226+04:00  WARN 31548 --- [carservices] [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=5m39s61ms48Âµs500ns).
2025-12-11T10:50:23.279+04:00  WARN 31548 --- [carservices] [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=2m9s567ms936Âµs200ns).
2025-12-11T10:55:08.598+04:00  WARN 31548 --- [carservices] [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=4m45s322ms610Âµs600ns).
2025-12-11T11:03:01.612+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-4] c.c.c.c.ReservationQueryController       : POST /api/reservations/by-branch body: {"branch_id":1}
2025-12-11T11:03:01.612+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-6] c.c.c.c.ReservationQueryController       : POST /api/reservations/by-branch body: {"branch_id":1}
2025-12-11T11:03:01.920+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1765436581920 | took 175ms | statement | connection 401| url jdbc:p6spy:postgresql://localhost:5433/testdb
SELECT
    r.user_id                  AS user_id,                 -- ðŸ”¹ NEW
    r.reservation_id           AS reservation_id,
    r.reservation_date         AS reservation_date,
    r.reservation_time         AS reservation_time,
    b.branch_name              AS branch_name,
    b.address                  AS address,
    b.city                     AS city,
    b.logo_img                 AS logo_img,
    br.brand_name              AS brand_name,
    cd.car_model               AS model_name,
    s.service_name             AS service_name,
    r.reservation_status       AS reservation_status,
    bbs.id                     AS branch_brand_serviceid,
    cd.plate_number            AS plate_number,
    COALESCE(AVG(re.stars), 0) AS stars
FROM reservation_service_request r
JOIN branch b ON b.branch_id = r.branch_id
JOIN car_details cd ON cd.car_id = r.car_id
JOIN brand br ON br.brand_id = cd.brand_id
JOIN service_entity s ON s.service_id = r.service_id
LEFT JOIN branch_brand_service bbs
  ON bbs.branch_id = r.branch_id
 AND bbs.service_id = r.service_id
 AND bbs.brand_id   = cd.brand_id
LEFT JOIN rate_experience re
  ON re.branch_brand_serviceid = bbs.id
WHERE r.branch_id = ?
GROUP BY
    r.user_id,                                           -- ðŸ”¹ NEW
    r.reservation_id, r.reservation_date, r.reservation_time,
    b.branch_name, b.address, b.city, b.logo_img,
    br.brand_name, cd.car_model, s.service_name,
    r.reservation_status, bbs.id, cd.plate_number
ORDER BY r.reservation_date DESC, r.reservation_time DESC

SELECT
    r.user_id                  AS user_id,                 -- ðŸ”¹ NEW
    r.reservation_id           AS reservation_id,
    r.reservation_date         AS reservation_date,
    r.reservation_time         AS reservation_time,
    b.branch_name              AS branch_name,
    b.address                  AS address,
    b.city                     AS city,
    b.logo_img                 AS logo_img,
    br.brand_name              AS brand_name,
    cd.car_model               AS model_name,
    s.service_name             AS service_name,
    r.reservation_status       AS reservation_status,
    bbs.id                     AS branch_brand_serviceid,
    cd.plate_number            AS plate_number,
    COALESCE(AVG(re.stars), 0) AS stars
FROM reservation_service_request r
JOIN branch b ON b.branch_id = r.branch_id
JOIN car_details cd ON cd.car_id = r.car_id
JOIN brand br ON br.brand_id = cd.brand_id
JOIN service_entity s ON s.service_id = r.service_id
LEFT JOIN branch_brand_service bbs
  ON bbs.branch_id = r.branch_id
 AND bbs.service_id = r.service_id
 AND bbs.brand_id   = cd.brand_id
LEFT JOIN rate_experience re
  ON re.branch_brand_serviceid = bbs.id
WHERE r.branch_id = 1
GROUP BY
    r.user_id,                                           -- ðŸ”¹ NEW
    r.reservation_id, r.reservation_date, r.reservation_time,
    b.branch_name, b.address, b.city, b.logo_img,
    br.brand_name, cd.car_model, s.service_name,
    r.reservation_status, bbs.id, cd.plate_number
ORDER BY r.reservation_date DESC, r.reservation_time DESC
;
2025-12-11T11:03:01.920+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-6] p6spy                                    : #1765436581920 | took 175ms | statement | connection 400| url jdbc:p6spy:postgresql://localhost:5433/testdb
SELECT
    r.user_id                  AS user_id,                 -- ðŸ”¹ NEW
    r.reservation_id           AS reservation_id,
    r.reservation_date         AS reservation_date,
    r.reservation_time         AS reservation_time,
    b.branch_name              AS branch_name,
    b.address                  AS address,
    b.city                     AS city,
    b.logo_img                 AS logo_img,
    br.brand_name              AS brand_name,
    cd.car_model               AS model_name,
    s.service_name             AS service_name,
    r.reservation_status       AS reservation_status,
    bbs.id                     AS branch_brand_serviceid,
    cd.plate_number            AS plate_number,
    COALESCE(AVG(re.stars), 0) AS stars
FROM reservation_service_request r
JOIN branch b ON b.branch_id = r.branch_id
JOIN car_details cd ON cd.car_id = r.car_id
JOIN brand br ON br.brand_id = cd.brand_id
JOIN service_entity s ON s.service_id = r.service_id
LEFT JOIN branch_brand_service bbs
  ON bbs.branch_id = r.branch_id
 AND bbs.service_id = r.service_id
 AND bbs.brand_id   = cd.brand_id
LEFT JOIN rate_experience re
  ON re.branch_brand_serviceid = bbs.id
WHERE r.branch_id = ?
GROUP BY
    r.user_id,                                           -- ðŸ”¹ NEW
    r.reservation_id, r.reservation_date, r.reservation_time,
    b.branch_name, b.address, b.city, b.logo_img,
    br.brand_name, cd.car_model, s.service_name,
    r.reservation_status, bbs.id, cd.plate_number
ORDER BY r.reservation_date DESC, r.reservation_time DESC

SELECT
    r.user_id                  AS user_id,                 -- ðŸ”¹ NEW
    r.reservation_id           AS reservation_id,
    r.reservation_date         AS reservation_date,
    r.reservation_time         AS reservation_time,
    b.branch_name              AS branch_name,
    b.address                  AS address,
    b.city                     AS city,
    b.logo_img                 AS logo_img,
    br.brand_name              AS brand_name,
    cd.car_model               AS model_name,
    s.service_name             AS service_name,
    r.reservation_status       AS reservation_status,
    bbs.id                     AS branch_brand_serviceid,
    cd.plate_number            AS plate_number,
    COALESCE(AVG(re.stars), 0) AS stars
FROM reservation_service_request r
JOIN branch b ON b.branch_id = r.branch_id
JOIN car_details cd ON cd.car_id = r.car_id
JOIN brand br ON br.brand_id = cd.brand_id
JOIN service_entity s ON s.service_id = r.service_id
LEFT JOIN branch_brand_service bbs
  ON bbs.branch_id = r.branch_id
 AND bbs.service_id = r.service_id
 AND bbs.brand_id   = cd.brand_id
LEFT JOIN rate_experience re
  ON re.branch_brand_serviceid = bbs.id
WHERE r.branch_id = 1
GROUP BY
    r.user_id,                                           -- ðŸ”¹ NEW
    r.reservation_id, r.reservation_date, r.reservation_time,
    b.branch_name, b.address, b.city, b.logo_img,
    br.brand_name, cd.car_model, s.service_name,
    r.reservation_status, bbs.id, cd.plate_number
ORDER BY r.reservation_date DESC, r.reservation_time DESC
;
2025-12-11T11:03:02.001+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-6] p6spy                                    : #1765436582001 | took 15ms | statement | connection 400| url jdbc:p6spy:postgresql://localhost:5433/testdb
SELECT
  rss.reservation_service_sparepart_id,
  rss.part_name,
  rss.qty,
  rss.spareparts_id,
  sp.spareparts_type,
  rss.reservation_id
FROM reservation_service_sparepart rss
LEFT JOIN spare_parts sp
  ON sp.spareparts_id = rss.spareparts_id
WHERE rss.reservation_id IN (?,?,?,?,?,?)
ORDER BY rss.reservation_service_sparepart_id

SELECT
  rss.reservation_service_sparepart_id,
  rss.part_name,
  rss.qty,
  rss.spareparts_id,
  sp.spareparts_type,
  rss.reservation_id
FROM reservation_service_sparepart rss
LEFT JOIN spare_parts sp
  ON sp.spareparts_id = rss.spareparts_id
WHERE rss.reservation_id IN (89,90,87,88,1,5)
ORDER BY rss.reservation_service_sparepart_id
;
2025-12-11T11:03:02.001+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1765436582001 | took 17ms | statement | connection 401| url jdbc:p6spy:postgresql://localhost:5433/testdb
SELECT
  rss.reservation_service_sparepart_id,
  rss.part_name,
  rss.qty,
  rss.spareparts_id,
  sp.spareparts_type,
  rss.reservation_id
FROM reservation_service_sparepart rss
LEFT JOIN spare_parts sp
  ON sp.spareparts_id = rss.spareparts_id
WHERE rss.reservation_id IN (?,?,?,?,?,?)
ORDER BY rss.reservation_service_sparepart_id

SELECT
  rss.reservation_service_sparepart_id,
  rss.part_name,
  rss.qty,
  rss.spareparts_id,
  sp.spareparts_type,
  rss.reservation_id
FROM reservation_service_sparepart rss
LEFT JOIN spare_parts sp
  ON sp.spareparts_id = rss.spareparts_id
WHERE rss.reservation_id IN (89,90,87,88,1,5)
ORDER BY rss.reservation_service_sparepart_id
;
2025-12-11T11:03:02.530+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-7] c.c.c.c.ReservationQueryController       : POST /api/reservations/by-user body: {"userId":1}
2025-12-11T11:03:02.548+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-7] p6spy                                    : #1765436582548 | took 10ms | statement | connection 400| url jdbc:p6spy:postgresql://localhost:5433/testdb
SELECT
    r.user_id                  AS user_id,                 -- ðŸ”¹ NEW
    r.reservation_id           AS reservation_id,
    r.reservation_date         AS reservation_date,
    r.reservation_time         AS reservation_time,
    b.branch_name              AS branch_name,
    b.address                  AS address,
    b.city                     AS city,
    b.logo_img                 AS logo_img,
    br.brand_name              AS brand_name,
    cd.car_model               AS model_name,
    s.service_name             AS service_name,
    r.reservation_status       AS reservation_status,
    bbs.id                     AS branch_brand_serviceid,
    cd.plate_number            AS plate_number,
    COALESCE(AVG(re.stars), 0) AS stars
FROM reservation_service_request r
JOIN branch b ON b.branch_id = r.branch_id
JOIN car_details cd ON cd.car_id = r.car_id
JOIN brand br ON br.brand_id = cd.brand_id
JOIN service_entity s ON s.service_id = r.service_id
LEFT JOIN branch_brand_service bbs
  ON bbs.branch_id = r.branch_id
 AND bbs.service_id = r.service_id
 AND bbs.brand_id   = cd.brand_id
LEFT JOIN rate_experience re
  ON re.branch_brand_serviceid = bbs.id
WHERE r.user_id = ?
GROUP BY
    r.user_id,                                           -- ðŸ”¹ NEW
    r.reservation_id, r.reservation_date, r.reservation_time,
    b.branch_name, b.address, b.city, b.logo_img,
    br.brand_name, cd.car_model, s.service_name,
    r.reservation_status, bbs.id, cd.plate_number
ORDER BY r.reservation_date DESC, r.reservation_time DESC

SELECT
    r.user_id                  AS user_id,                 -- ðŸ”¹ NEW
    r.reservation_id           AS reservation_id,
    r.reservation_date         AS reservation_date,
    r.reservation_time         AS reservation_time,
    b.branch_name              AS branch_name,
    b.address                  AS address,
    b.city                     AS city,
    b.logo_img                 AS logo_img,
    br.brand_name              AS brand_name,
    cd.car_model               AS model_name,
    s.service_name             AS service_name,
    r.reservation_status       AS reservation_status,
    bbs.id                     AS branch_brand_serviceid,
    cd.plate_number            AS plate_number,
    COALESCE(AVG(re.stars), 0) AS stars
FROM reservation_service_request r
JOIN branch b ON b.branch_id = r.branch_id
JOIN car_details cd ON cd.car_id = r.car_id
JOIN brand br ON br.brand_id = cd.brand_id
JOIN service_entity s ON s.service_id = r.service_id
LEFT JOIN branch_brand_service bbs
  ON bbs.branch_id = r.branch_id
 AND bbs.service_id = r.service_id
 AND bbs.brand_id   = cd.brand_id
LEFT JOIN rate_experience re
  ON re.branch_brand_serviceid = bbs.id
WHERE r.user_id = 1
GROUP BY
    r.user_id,                                           -- ðŸ”¹ NEW
    r.reservation_id, r.reservation_date, r.reservation_time,
    b.branch_name, b.address, b.city, b.logo_img,
    br.brand_name, cd.car_model, s.service_name,
    r.reservation_status, bbs.id, cd.plate_number
ORDER BY r.reservation_date DESC, r.reservation_time DESC
;
2025-12-11T11:03:02.561+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-7] p6spy                                    : #1765436582561 | took 2ms | statement | connection 400| url jdbc:p6spy:postgresql://localhost:5433/testdb
SELECT
  rss.reservation_service_sparepart_id,
  rss.part_name,
  rss.qty,
  rss.spareparts_id,
  sp.spareparts_type,
  rss.reservation_id
FROM reservation_service_sparepart rss
LEFT JOIN spare_parts sp
  ON sp.spareparts_id = rss.spareparts_id
WHERE rss.reservation_id IN (?,?,?,?,?,?)
ORDER BY rss.reservation_service_sparepart_id

SELECT
  rss.reservation_service_sparepart_id,
  rss.part_name,
  rss.qty,
  rss.spareparts_id,
  sp.spareparts_type,
  rss.reservation_id
FROM reservation_service_sparepart rss
LEFT JOIN spare_parts sp
  ON sp.spareparts_id = rss.spareparts_id
WHERE rss.reservation_id IN (89,90,87,88,1,5)
ORDER BY rss.reservation_service_sparepart_id
;
2025-12-11T11:06:03.087+04:00 DEBUG 31548 --- [carservices] [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    SELECT
        DISTINCT     bbs.service_id AS serviceId,
        se.service_name AS serviceName 
    FROM
        branch_brand_service bbs 
    JOIN
        service_entity se 
            ON bbs.service_id = se.service_id 
    WHERE
        bbs.branch_id = ?  
    ORDER BY
        se.service_name ASC 
2025-12-11T11:06:03.087+04:00 DEBUG 31548 --- [carservices] [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    SELECT
        DISTINCT     bbs.service_id AS serviceId,
        se.service_name AS serviceName 
    FROM
        branch_brand_service bbs 
    JOIN
        service_entity se 
            ON bbs.service_id = se.service_id 
    WHERE
        bbs.branch_id = ?  
    ORDER BY
        se.service_name ASC 
2025-12-11T11:06:03.104+04:00 TRACE 31548 --- [carservices] [http-nio-8081-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-12-11T11:06:03.104+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1765436763104 | took 27ms | statement | connection 400| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT working_day, "from", "to"
    FROM work_days
    WHERE branch_id = ?
      AND LOWER(working_day) = ?
      AND status = 'active'
    LIMIT 1

    SELECT working_day, "from", "to"
    FROM work_days
    WHERE branch_id = 1
      AND LOWER(working_day) = 'thursday'
      AND status = 'active'
    LIMIT 1
;
2025-12-11T11:06:03.104+04:00 TRACE 31548 --- [carservices] [http-nio-8081-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-12-11T11:06:03.104+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-9] p6spy                                    : #1765436763104 | took 18ms | statement | connection 402| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT working_day, "from", "to"
    FROM work_days
    WHERE branch_id = ?
      AND LOWER(working_day) = ?
      AND status = 'active'
    LIMIT 1

    SELECT working_day, "from", "to"
    FROM work_days
    WHERE branch_id = 1
      AND LOWER(working_day) = 'thursday'
      AND status = 'active'
    LIMIT 1
;
2025-12-11T11:06:03.124+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1765436763124 | took 20ms | statement | connection 403| url jdbc:p6spy:postgresql://localhost:5433/testdb
SELECT DISTINCT
    bbs.service_id AS serviceId,
    se.service_name AS serviceName
FROM branch_brand_service bbs
JOIN service_entity se ON bbs.service_id = se.service_id
WHERE bbs.branch_id = ?

ORDER BY se.service_name ASC

SELECT DISTINCT
    bbs.service_id AS serviceId,
    se.service_name AS serviceName
FROM branch_brand_service bbs
JOIN service_entity se ON bbs.service_id = se.service_id
WHERE bbs.branch_id = 1

ORDER BY se.service_name ASC
;
2025-12-11T11:06:03.126+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1765436763126 | took 20ms | statement | connection 400| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        r.reservation_id,
        r.reservation_date,
        r.reservation_time,
        r.brand_id,
        b.brand_name,
        r.model_id,
        m.model_name,
        cd.plate_number,
        r.service_id,
        s.service_name,
        u.email
    FROM reservation_service_request r
    JOIN brand b
      ON b.brand_id = r.brand_id
    JOIN car_brand_model m
      ON m.id = r.model_id
    JOIN car_details cd
      ON cd.car_id = r.car_id
    JOIN service_entity s
      ON s.service_id = r.service_id
    JOIN user_registration u
      ON u.id = r.user_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
    ORDER BY r.reservation_time

    SELECT
        r.reservation_id,
        r.reservation_date,
        r.reservation_time,
        r.brand_id,
        b.brand_name,
        r.model_id,
        m.model_name,
        cd.plate_number,
        r.service_id,
        s.service_name,
        u.email
    FROM reservation_service_request r
    JOIN brand b
      ON b.brand_id = r.brand_id
    JOIN car_brand_model m
      ON m.id = r.model_id
    JOIN car_details cd
      ON cd.car_id = r.car_id
    JOIN service_entity s
      ON s.service_id = r.service_id
    JOIN user_registration u
      ON u.id = r.user_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
    ORDER BY r.reservation_time
;
2025-12-11T11:06:03.129+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-9] p6spy                                    : #1765436763129 | took 23ms | statement | connection 402| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        r.reservation_id,
        r.reservation_date,
        r.reservation_time,
        r.brand_id,
        b.brand_name,
        r.model_id,
        m.model_name,
        cd.plate_number,
        r.service_id,
        s.service_name,
        u.email
    FROM reservation_service_request r
    JOIN brand b
      ON b.brand_id = r.brand_id
    JOIN car_brand_model m
      ON m.id = r.model_id
    JOIN car_details cd
      ON cd.car_id = r.car_id
    JOIN service_entity s
      ON s.service_id = r.service_id
    JOIN user_registration u
      ON u.id = r.user_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
    ORDER BY r.reservation_time

    SELECT
        r.reservation_id,
        r.reservation_date,
        r.reservation_time,
        r.brand_id,
        b.brand_name,
        r.model_id,
        m.model_name,
        cd.plate_number,
        r.service_id,
        s.service_name,
        u.email
    FROM reservation_service_request r
    JOIN brand b
      ON b.brand_id = r.brand_id
    JOIN car_brand_model m
      ON m.id = r.model_id
    JOIN car_details cd
      ON cd.car_id = r.car_id
    JOIN service_entity s
      ON s.service_id = r.service_id
    JOIN user_registration u
      ON u.id = r.user_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
    ORDER BY r.reservation_time
;
2025-12-11T11:06:03.133+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-8] p6spy                                    : #1765436763133 | took 28ms | statement | connection 404| url jdbc:p6spy:postgresql://localhost:5433/testdb
SELECT DISTINCT
    bbs.service_id AS serviceId,
    se.service_name AS serviceName
FROM branch_brand_service bbs
JOIN service_entity se ON bbs.service_id = se.service_id
WHERE bbs.branch_id = ?

ORDER BY se.service_name ASC

SELECT DISTINCT
    bbs.service_id AS serviceId,
    se.service_name AS serviceName
FROM branch_brand_service bbs
JOIN service_entity se ON bbs.service_id = se.service_id
WHERE bbs.branch_id = 1

ORDER BY se.service_name ASC
;
2025-12-11T11:06:03.137+04:00 DEBUG 31548 --- [carservices] [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        dts1_0.disable_time_slot_id,
        dts1_0.branch_id,
        dts1_0.service_id,
        dts1_0.time_slot 
    from
        disable_time_slot dts1_0
2025-12-11T11:06:03.146+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-7] p6spy                                    : #1765436763146 | took 7ms | statement | connection 401| url jdbc:p6spy:postgresql://localhost:5433/testdb
select dts1_0.disable_time_slot_id,dts1_0.branch_id,dts1_0.service_id,dts1_0.time_slot from disable_time_slot dts1_0
select dts1_0.disable_time_slot_id,dts1_0.branch_id,dts1_0.service_id,dts1_0.time_slot from disable_time_slot dts1_0;
2025-12-11T11:06:03.150+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-7] p6spy                                    : #1765436763150 | took 1ms | commit | connection 401| url jdbc:p6spy:postgresql://localhost:5433/testdb

;
2025-12-11T11:06:03.183+04:00 DEBUG 31548 --- [carservices] [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        dts1_0.disable_time_slot_id,
        dts1_0.branch_id,
        dts1_0.service_id,
        dts1_0.time_slot 
    from
        disable_time_slot dts1_0
2025-12-11T11:06:03.184+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1765436763184 | took 0ms | statement | connection 401| url jdbc:p6spy:postgresql://localhost:5433/testdb
select dts1_0.disable_time_slot_id,dts1_0.branch_id,dts1_0.service_id,dts1_0.time_slot from disable_time_slot dts1_0
select dts1_0.disable_time_slot_id,dts1_0.branch_id,dts1_0.service_id,dts1_0.time_slot from disable_time_slot dts1_0;
2025-12-11T11:06:03.188+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1765436763188 | took 0ms | commit | connection 401| url jdbc:p6spy:postgresql://localhost:5433/testdb

;
2025-12-11T11:06:03.466+04:00 DEBUG 31548 --- [carservices] [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        bbs1_0.id,
        bbs1_0.branch_id,
        bbs1_0.brand_id,
        bbs1_0.experts,
        bbs1_0.qty,
        bbs1_0.service_id,
        bbs1_0.status 
    from
        branch_brand_service bbs1_0
2025-12-11T11:06:03.471+04:00 DEBUG 31548 --- [carservices] [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        dts1_0.disable_time_slot_id,
        dts1_0.branch_id,
        dts1_0.service_id,
        dts1_0.time_slot 
    from
        disable_time_slot dts1_0
2025-12-11T11:06:03.474+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-10] p6spy                                    : #1765436763474 | took 2ms | statement | connection 400| url jdbc:p6spy:postgresql://localhost:5433/testdb
select bbs1_0.id,bbs1_0.branch_id,bbs1_0.brand_id,bbs1_0.experts,bbs1_0.qty,bbs1_0.service_id,bbs1_0.status from branch_brand_service bbs1_0
select bbs1_0.id,bbs1_0.branch_id,bbs1_0.brand_id,bbs1_0.experts,bbs1_0.qty,bbs1_0.service_id,bbs1_0.status from branch_brand_service bbs1_0;
2025-12-11T11:06:03.477+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-1] p6spy                                    : #1765436763477 | took 1ms | statement | connection 401| url jdbc:p6spy:postgresql://localhost:5433/testdb
select dts1_0.disable_time_slot_id,dts1_0.branch_id,dts1_0.service_id,dts1_0.time_slot from disable_time_slot dts1_0
select dts1_0.disable_time_slot_id,dts1_0.branch_id,dts1_0.service_id,dts1_0.time_slot from disable_time_slot dts1_0;
2025-12-11T11:06:03.480+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-1] p6spy                                    : #1765436763480 | took 0ms | commit | connection 401| url jdbc:p6spy:postgresql://localhost:5433/testdb

;
2025-12-11T11:06:03.493+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-10] p6spy                                    : #1765436763493 | took 0ms | commit | connection 400| url jdbc:p6spy:postgresql://localhost:5433/testdb

;
2025-12-11T11:06:03.867+04:00 DEBUG 31548 --- [carservices] [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        bbs1_0.id,
        bbs1_0.branch_id,
        bbs1_0.brand_id,
        bbs1_0.experts,
        bbs1_0.qty,
        bbs1_0.service_id,
        bbs1_0.status 
    from
        branch_brand_service bbs1_0
2025-12-11T11:06:03.867+04:00 DEBUG 31548 --- [carservices] [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        dts1_0.disable_time_slot_id,
        dts1_0.branch_id,
        dts1_0.service_id,
        dts1_0.time_slot 
    from
        disable_time_slot dts1_0
2025-12-11T11:06:03.874+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1765436763874 | took 1ms | statement | connection 401| url jdbc:p6spy:postgresql://localhost:5433/testdb
select bbs1_0.id,bbs1_0.branch_id,bbs1_0.brand_id,bbs1_0.experts,bbs1_0.qty,bbs1_0.service_id,bbs1_0.status from branch_brand_service bbs1_0
select bbs1_0.id,bbs1_0.branch_id,bbs1_0.brand_id,bbs1_0.experts,bbs1_0.qty,bbs1_0.service_id,bbs1_0.status from branch_brand_service bbs1_0;
2025-12-11T11:06:03.878+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-6] p6spy                                    : #1765436763878 | took 4ms | statement | connection 400| url jdbc:p6spy:postgresql://localhost:5433/testdb
select dts1_0.disable_time_slot_id,dts1_0.branch_id,dts1_0.service_id,dts1_0.time_slot from disable_time_slot dts1_0
select dts1_0.disable_time_slot_id,dts1_0.branch_id,dts1_0.service_id,dts1_0.time_slot from disable_time_slot dts1_0;
2025-12-11T11:06:03.881+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-6] p6spy                                    : #1765436763881 | took 0ms | commit | connection 400| url jdbc:p6spy:postgresql://localhost:5433/testdb

;
2025-12-11T11:06:03.894+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1765436763894 | took 0ms | commit | connection 401| url jdbc:p6spy:postgresql://localhost:5433/testdb

;
2025-12-11T11:06:32.913+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-5] c.c.c.c.ReservationQueryController       : POST /api/reservations/by-branch body: {"branch_id":1}
2025-12-11T11:06:32.925+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-1] c.c.c.c.ReservationQueryController       : POST /api/reservations/by-branch body: {"branch_id":1}
2025-12-11T11:06:32.944+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-1] p6spy                                    : #1765436792944 | took 15ms | statement | connection 401| url jdbc:p6spy:postgresql://localhost:5433/testdb
SELECT
    r.user_id                  AS user_id,                 -- ðŸ”¹ NEW
    r.reservation_id           AS reservation_id,
    r.reservation_date         AS reservation_date,
    r.reservation_time         AS reservation_time,
    b.branch_name              AS branch_name,
    b.address                  AS address,
    b.city                     AS city,
    b.logo_img                 AS logo_img,
    br.brand_name              AS brand_name,
    cd.car_model               AS model_name,
    s.service_name             AS service_name,
    r.reservation_status       AS reservation_status,
    bbs.id                     AS branch_brand_serviceid,
    cd.plate_number            AS plate_number,
    COALESCE(AVG(re.stars), 0) AS stars
FROM reservation_service_request r
JOIN branch b ON b.branch_id = r.branch_id
JOIN car_details cd ON cd.car_id = r.car_id
JOIN brand br ON br.brand_id = cd.brand_id
JOIN service_entity s ON s.service_id = r.service_id
LEFT JOIN branch_brand_service bbs
  ON bbs.branch_id = r.branch_id
 AND bbs.service_id = r.service_id
 AND bbs.brand_id   = cd.brand_id
LEFT JOIN rate_experience re
  ON re.branch_brand_serviceid = bbs.id
WHERE r.branch_id = ?
GROUP BY
    r.user_id,                                           -- ðŸ”¹ NEW
    r.reservation_id, r.reservation_date, r.reservation_time,
    b.branch_name, b.address, b.city, b.logo_img,
    br.brand_name, cd.car_model, s.service_name,
    r.reservation_status, bbs.id, cd.plate_number
ORDER BY r.reservation_date DESC, r.reservation_time DESC

SELECT
    r.user_id                  AS user_id,                 -- ðŸ”¹ NEW
    r.reservation_id           AS reservation_id,
    r.reservation_date         AS reservation_date,
    r.reservation_time         AS reservation_time,
    b.branch_name              AS branch_name,
    b.address                  AS address,
    b.city                     AS city,
    b.logo_img                 AS logo_img,
    br.brand_name              AS brand_name,
    cd.car_model               AS model_name,
    s.service_name             AS service_name,
    r.reservation_status       AS reservation_status,
    bbs.id                     AS branch_brand_serviceid,
    cd.plate_number            AS plate_number,
    COALESCE(AVG(re.stars), 0) AS stars
FROM reservation_service_request r
JOIN branch b ON b.branch_id = r.branch_id
JOIN car_details cd ON cd.car_id = r.car_id
JOIN brand br ON br.brand_id = cd.brand_id
JOIN service_entity s ON s.service_id = r.service_id
LEFT JOIN branch_brand_service bbs
  ON bbs.branch_id = r.branch_id
 AND bbs.service_id = r.service_id
 AND bbs.brand_id   = cd.brand_id
LEFT JOIN rate_experience re
  ON re.branch_brand_serviceid = bbs.id
WHERE r.branch_id = 1
GROUP BY
    r.user_id,                                           -- ðŸ”¹ NEW
    r.reservation_id, r.reservation_date, r.reservation_time,
    b.branch_name, b.address, b.city, b.logo_img,
    br.brand_name, cd.car_model, s.service_name,
    r.reservation_status, bbs.id, cd.plate_number
ORDER BY r.reservation_date DESC, r.reservation_time DESC
;
2025-12-11T11:06:32.953+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-1] p6spy                                    : #1765436792953 | took 4ms | statement | connection 401| url jdbc:p6spy:postgresql://localhost:5433/testdb
SELECT
  rss.reservation_service_sparepart_id,
  rss.part_name,
  rss.qty,
  rss.spareparts_id,
  sp.spareparts_type,
  rss.reservation_id
FROM reservation_service_sparepart rss
LEFT JOIN spare_parts sp
  ON sp.spareparts_id = rss.spareparts_id
WHERE rss.reservation_id IN (?,?,?,?,?,?)
ORDER BY rss.reservation_service_sparepart_id

SELECT
  rss.reservation_service_sparepart_id,
  rss.part_name,
  rss.qty,
  rss.spareparts_id,
  sp.spareparts_type,
  rss.reservation_id
FROM reservation_service_sparepart rss
LEFT JOIN spare_parts sp
  ON sp.spareparts_id = rss.spareparts_id
WHERE rss.reservation_id IN (89,90,87,88,1,5)
ORDER BY rss.reservation_service_sparepart_id
;
2025-12-11T11:06:32.953+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1765436792953 | took 34ms | statement | connection 403| url jdbc:p6spy:postgresql://localhost:5433/testdb
SELECT
    r.user_id                  AS user_id,                 -- ðŸ”¹ NEW
    r.reservation_id           AS reservation_id,
    r.reservation_date         AS reservation_date,
    r.reservation_time         AS reservation_time,
    b.branch_name              AS branch_name,
    b.address                  AS address,
    b.city                     AS city,
    b.logo_img                 AS logo_img,
    br.brand_name              AS brand_name,
    cd.car_model               AS model_name,
    s.service_name             AS service_name,
    r.reservation_status       AS reservation_status,
    bbs.id                     AS branch_brand_serviceid,
    cd.plate_number            AS plate_number,
    COALESCE(AVG(re.stars), 0) AS stars
FROM reservation_service_request r
JOIN branch b ON b.branch_id = r.branch_id
JOIN car_details cd ON cd.car_id = r.car_id
JOIN brand br ON br.brand_id = cd.brand_id
JOIN service_entity s ON s.service_id = r.service_id
LEFT JOIN branch_brand_service bbs
  ON bbs.branch_id = r.branch_id
 AND bbs.service_id = r.service_id
 AND bbs.brand_id   = cd.brand_id
LEFT JOIN rate_experience re
  ON re.branch_brand_serviceid = bbs.id
WHERE r.branch_id = ?
GROUP BY
    r.user_id,                                           -- ðŸ”¹ NEW
    r.reservation_id, r.reservation_date, r.reservation_time,
    b.branch_name, b.address, b.city, b.logo_img,
    br.brand_name, cd.car_model, s.service_name,
    r.reservation_status, bbs.id, cd.plate_number
ORDER BY r.reservation_date DESC, r.reservation_time DESC

SELECT
    r.user_id                  AS user_id,                 -- ðŸ”¹ NEW
    r.reservation_id           AS reservation_id,
    r.reservation_date         AS reservation_date,
    r.reservation_time         AS reservation_time,
    b.branch_name              AS branch_name,
    b.address                  AS address,
    b.city                     AS city,
    b.logo_img                 AS logo_img,
    br.brand_name              AS brand_name,
    cd.car_model               AS model_name,
    s.service_name             AS service_name,
    r.reservation_status       AS reservation_status,
    bbs.id                     AS branch_brand_serviceid,
    cd.plate_number            AS plate_number,
    COALESCE(AVG(re.stars), 0) AS stars
FROM reservation_service_request r
JOIN branch b ON b.branch_id = r.branch_id
JOIN car_details cd ON cd.car_id = r.car_id
JOIN brand br ON br.brand_id = cd.brand_id
JOIN service_entity s ON s.service_id = r.service_id
LEFT JOIN branch_brand_service bbs
  ON bbs.branch_id = r.branch_id
 AND bbs.service_id = r.service_id
 AND bbs.brand_id   = cd.brand_id
LEFT JOIN rate_experience re
  ON re.branch_brand_serviceid = bbs.id
WHERE r.branch_id = 1
GROUP BY
    r.user_id,                                           -- ðŸ”¹ NEW
    r.reservation_id, r.reservation_date, r.reservation_time,
    b.branch_name, b.address, b.city, b.logo_img,
    br.brand_name, cd.car_model, s.service_name,
    r.reservation_status, bbs.id, cd.plate_number
ORDER BY r.reservation_date DESC, r.reservation_time DESC
;
2025-12-11T11:06:32.972+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1765436792972 | took 11ms | statement | connection 403| url jdbc:p6spy:postgresql://localhost:5433/testdb
SELECT
  rss.reservation_service_sparepart_id,
  rss.part_name,
  rss.qty,
  rss.spareparts_id,
  sp.spareparts_type,
  rss.reservation_id
FROM reservation_service_sparepart rss
LEFT JOIN spare_parts sp
  ON sp.spareparts_id = rss.spareparts_id
WHERE rss.reservation_id IN (?,?,?,?,?,?)
ORDER BY rss.reservation_service_sparepart_id

SELECT
  rss.reservation_service_sparepart_id,
  rss.part_name,
  rss.qty,
  rss.spareparts_id,
  sp.spareparts_type,
  rss.reservation_id
FROM reservation_service_sparepart rss
LEFT JOIN spare_parts sp
  ON sp.spareparts_id = rss.spareparts_id
WHERE rss.reservation_id IN (89,90,87,88,1,5)
ORDER BY rss.reservation_service_sparepart_id
;
2025-12-11T11:10:39.716+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-8] p6spy                                    : #1765437039716 | took 14ms | statement | connection 404| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT status,
           "from" AS from_time,
           "to"   AS to_time
    FROM work_days
    WHERE branch_id = ?
      AND UPPER(working_day) = ?
    LIMIT 1

    SELECT status,
           "from" AS from_time,
           "to"   AS to_time
    FROM work_days
    WHERE branch_id = 1
      AND UPPER(working_day) = 'TUESDAY'
    LIMIT 1
;
2025-12-11T11:10:39.744+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-8] p6spy                                    : #1765437039744 | took 3ms | statement | connection 404| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT COALESCE(SUM(qty), 0) AS total_qty
    FROM branch_brand_service
    WHERE branch_id = ?
 AND brand_id = 1 AND service_id = 1
    SELECT COALESCE(SUM(qty), 0) AS total_qty
    FROM branch_brand_service
    WHERE branch_id = 1
 AND brand_id = 1 AND service_id = 1;
2025-12-11T11:10:39.748+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-8] p6spy                                    : #1765437039748 | took 0ms | statement | connection 404| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT COALESCE(SUM(experts), 0) AS total_experts
    FROM branch_brand_service
    WHERE branch_id = ?
 AND brand_id = 1 AND service_id = 1
    SELECT COALESCE(SUM(experts), 0) AS total_experts
    FROM branch_brand_service
    WHERE branch_id = 1
 AND brand_id = 1 AND service_id = 1;
2025-12-11T11:10:39.764+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-8] p6spy                                    : #1765437039764 | took 1ms | statement | connection 404| url jdbc:p6spy:postgresql://localhost:5433/testdb
SELECT UPPER(service_type) FROM service_entity WHERE service_id = ?
SELECT UPPER(service_type) FROM service_entity WHERE service_id = 1;
2025-12-11T11:10:39.791+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-8] p6spy                                    : #1765437039791 | took 9ms | statement | connection 404| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-06-10'
      AND r.reservation_time = '1970-01-01T09:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1;
2025-12-11T11:10:39.796+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-8] p6spy                                    : #1765437039796 | took 1ms | statement | connection 404| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-06-10'
      AND r.reservation_time = '1970-01-01T09:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1;
2025-12-11T11:10:39.801+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-8] p6spy                                    : #1765437039801 | took 1ms | statement | connection 404| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-06-10'
      AND r.reservation_time = '1970-01-01T10:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1;
2025-12-11T11:10:39.805+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-8] p6spy                                    : #1765437039805 | took 1ms | statement | connection 404| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-06-10'
      AND r.reservation_time = '1970-01-01T10:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1;
2025-12-11T11:10:39.809+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-8] p6spy                                    : #1765437039809 | took 1ms | statement | connection 404| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-06-10'
      AND r.reservation_time = '1970-01-01T11:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1;
2025-12-11T11:10:39.812+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-8] p6spy                                    : #1765437039812 | took 1ms | statement | connection 404| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-06-10'
      AND r.reservation_time = '1970-01-01T11:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1;
2025-12-11T11:10:39.816+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-8] p6spy                                    : #1765437039816 | took 1ms | statement | connection 404| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-06-10'
      AND r.reservation_time = '1970-01-01T12:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1;
2025-12-11T11:10:39.821+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-8] p6spy                                    : #1765437039821 | took 1ms | statement | connection 404| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-06-10'
      AND r.reservation_time = '1970-01-01T12:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1;
2025-12-11T11:10:39.825+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-8] p6spy                                    : #1765437039825 | took 1ms | statement | connection 404| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-06-10'
      AND r.reservation_time = '1970-01-01T13:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1;
2025-12-11T11:10:39.828+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-8] p6spy                                    : #1765437039828 | took 1ms | statement | connection 404| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-06-10'
      AND r.reservation_time = '1970-01-01T13:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1;
2025-12-11T11:10:39.831+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-8] p6spy                                    : #1765437039831 | took 0ms | statement | connection 404| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-06-10'
      AND r.reservation_time = '1970-01-01T14:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1;
2025-12-11T11:10:39.833+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-8] p6spy                                    : #1765437039833 | took 0ms | statement | connection 404| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-06-10'
      AND r.reservation_time = '1970-01-01T14:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1;
2025-12-11T11:10:39.835+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-8] p6spy                                    : #1765437039835 | took 0ms | statement | connection 404| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-06-10'
      AND r.reservation_time = '1970-01-01T15:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1;
2025-12-11T11:10:39.840+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-8] p6spy                                    : #1765437039840 | took 0ms | statement | connection 404| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-06-10'
      AND r.reservation_time = '1970-01-01T15:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1;
2025-12-11T11:10:39.842+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-8] p6spy                                    : #1765437039842 | took 0ms | statement | connection 404| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-06-10'
      AND r.reservation_time = '1970-01-01T16:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1;
2025-12-11T11:10:39.845+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-8] p6spy                                    : #1765437039845 | took 0ms | statement | connection 404| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-06-10'
      AND r.reservation_time = '1970-01-01T16:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1;
2025-12-11T11:10:39.846+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-8] p6spy                                    : #1765437039846 | took 0ms | statement | connection 404| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-06-10'
      AND r.reservation_time = '1970-01-01T17:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1;
2025-12-11T11:10:39.848+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-8] p6spy                                    : #1765437039848 | took 0ms | statement | connection 404| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-06-10'
      AND r.reservation_time = '1970-01-01T17:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1;
2025-12-11T11:10:39.850+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-8] p6spy                                    : #1765437039850 | took 0ms | statement | connection 404| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-06-10'
      AND r.reservation_time = '1970-01-01T18:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1;
2025-12-11T11:21:02.029+04:00 DEBUG 31548 --- [carservices] [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        wd1_0.work_id,
        wd1_0.branch_id,
        wd1_0."from",
        wd1_0.status,
        wd1_0."to",
        wd1_0.working_day 
    from
        work_days wd1_0 
    where
        wd1_0.branch_id=?
2025-12-11T11:21:02.029+04:00 DEBUG 31548 --- [carservices] [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        wd1_0.work_id,
        wd1_0.branch_id,
        wd1_0."from",
        wd1_0.status,
        wd1_0."to",
        wd1_0.working_day 
    from
        work_days wd1_0 
    where
        wd1_0.branch_id=?
2025-12-11T11:21:02.047+04:00 TRACE 31548 --- [carservices] [http-nio-8081-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-12-11T11:21:02.047+04:00 TRACE 31548 --- [carservices] [http-nio-8081-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-12-11T11:21:02.115+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1765437662115 | took 65ms | statement | connection 411| url jdbc:p6spy:postgresql://localhost:5433/testdb
select wd1_0.work_id,wd1_0.branch_id,wd1_0."from",wd1_0.status,wd1_0."to",wd1_0.working_day from work_days wd1_0 where wd1_0.branch_id=?
select wd1_0.work_id,wd1_0.branch_id,wd1_0."from",wd1_0.status,wd1_0."to",wd1_0.working_day from work_days wd1_0 where wd1_0.branch_id=1;
2025-12-11T11:21:02.115+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-10] p6spy                                    : #1765437662115 | took 65ms | statement | connection 410| url jdbc:p6spy:postgresql://localhost:5433/testdb
select wd1_0.work_id,wd1_0.branch_id,wd1_0."from",wd1_0.status,wd1_0."to",wd1_0.working_day from work_days wd1_0 where wd1_0.branch_id=?
select wd1_0.work_id,wd1_0.branch_id,wd1_0."from",wd1_0.status,wd1_0."to",wd1_0.working_day from work_days wd1_0 where wd1_0.branch_id=1;
2025-12-11T11:21:02.151+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1765437662151 | took 2ms | commit | connection 411| url jdbc:p6spy:postgresql://localhost:5433/testdb

;
2025-12-11T11:21:02.151+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-10] p6spy                                    : #1765437662151 | took 2ms | commit | connection 410| url jdbc:p6spy:postgresql://localhost:5433/testdb

;
2025-12-11T11:26:30.753+04:00  WARN 31548 --- [carservices] [http-nio-8081-exec-7] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'GET' is not supported]
2025-12-11T11:52:09.362+04:00  INFO 31548 --- [carservices] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 2 class path changes (0 additions, 0 deletions, 2 modifications)
2025-12-11T11:52:09.609+04:00  INFO 31548 --- [carservices] [Thread-5] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-12-11T11:52:09.678+04:00  INFO 31548 --- [carservices] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-12-11T11:52:09.771+04:00  INFO 31548 --- [carservices] [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-11T11:52:10.014+04:00  INFO 31548 --- [carservices] [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-12-11T11:52:10.105+04:00  INFO 31548 --- [carservices] [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-12-11T11:52:10.917+04:00  INFO 31548 --- [carservices] [restartedMain] c.c.carservices.CarservicesApplication   : Starting CarservicesApplication using Java 21.0.7 with PID 31548 (C:\Grand BackUp\Sheikh-2\Private\Sheikhkashifiqbal\temp\Spare Parts Project\SpringBoot\car-dev-1\carservices\target\classes started by lenovo in C:\Grand BackUp\Sheikh-2\Private\Sheikhkashifiqbal\temp\Spare Parts Project\SpringBoot\car-dev-1\carservices)
2025-12-11T11:52:10.920+04:00  INFO 31548 --- [carservices] [restartedMain] c.c.carservices.CarservicesApplication   : No active profile set, falling back to 1 default profile: "default"
2025-12-11T11:52:12.678+04:00  INFO 31548 --- [carservices] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-11T11:52:12.942+04:00  INFO 31548 --- [carservices] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 266 ms. Found 40 JPA repository interfaces.
2025-12-11T11:52:13.542+04:00  INFO 31548 --- [carservices] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-12-11T11:52:13.549+04:00  INFO 31548 --- [carservices] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-11T11:52:13.549+04:00  INFO 31548 --- [carservices] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-12-11T11:52:13.619+04:00  INFO 31548 --- [carservices] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-11T11:52:13.619+04:00  INFO 31548 --- [carservices] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2692 ms
2025-12-11T11:52:13.822+04:00  INFO 31548 --- [carservices] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-11T11:52:13.842+04:00  INFO 31548 --- [carservices] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-12-11T11:52:13.903+04:00  INFO 31548 --- [carservices] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-11T11:52:13.908+04:00  INFO 31548 --- [carservices] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2025-12-11T11:52:14.060+04:00  INFO 31548 --- [carservices] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Added connection com.p6spy.engine.wrapper.ConnectionWrapper@5b410f1a
2025-12-11T11:52:14.060+04:00  INFO 31548 --- [carservices] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2025-12-11T11:52:14.100+04:00  WARN 31548 --- [carservices] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-11T11:52:14.100+04:00  INFO 31548 --- [carservices] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-2)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-11T11:52:14.941+04:00  INFO 31548 --- [carservices] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-11T11:52:14.976+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439534976 | took 30ms | statement | connection 430| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from information_schema.sequences
select * from information_schema.sequences;
2025-12-11T11:52:15.047+04:00  INFO 31548 --- [carservices] [restartedMain] t.s.e.i.AbstractInformationExtractorImpl : HHH000475: Cannot locate column information using identifier [lower((manager_email)::text)]; ignoring index [ux_company_manager_email]
2025-12-11T11:52:15.048+04:00 DEBUG 31548 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       drop constraint if exists ux_company_company_name_ci
2025-12-11T11:52:15.058+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439535058 | took 11ms | statement | connection 430| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       drop constraint if exists ux_company_company_name_ci

    alter table if exists company 
       drop constraint if exists ux_company_company_name_ci;
2025-12-11T11:52:15.058+04:00  WARN 31548 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2025-12-11T11:52:15.058+04:00  WARN 31548 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "ux_company_company_name_ci" of relation "company" does not exist, skipping
2025-12-11T11:52:15.058+04:00 DEBUG 31548 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       add constraint ux_company_company_name_ci unique (company_name)
2025-12-11T11:52:15.095+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439535095 | took 33ms | statement | connection 430| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       add constraint ux_company_company_name_ci unique (company_name)

    alter table if exists company 
       add constraint ux_company_company_name_ci unique (company_name);
2025-12-11T11:52:15.095+04:00 DEBUG 31548 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       drop constraint if exists ux_company_brand_name_ci
2025-12-11T11:52:15.097+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439535097 | took 1ms | statement | connection 430| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       drop constraint if exists ux_company_brand_name_ci

    alter table if exists company 
       drop constraint if exists ux_company_brand_name_ci;
2025-12-11T11:52:15.097+04:00  WARN 31548 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2025-12-11T11:52:15.097+04:00  WARN 31548 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "ux_company_brand_name_ci" of relation "company" does not exist, skipping
2025-12-11T11:52:15.097+04:00 DEBUG 31548 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       add constraint ux_company_brand_name_ci unique (brand_name)
2025-12-11T11:52:15.100+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439535100 | took 3ms | statement | connection 430| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       add constraint ux_company_brand_name_ci unique (brand_name)

    alter table if exists company 
       add constraint ux_company_brand_name_ci unique (brand_name);
2025-12-11T11:52:15.195+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439535195 | took 3ms | statement | connection 430| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."company" where 1=0
select * from "public"."company" where 1=0;
2025-12-11T11:52:15.291+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439535291 | took 4ms | statement | connection 430| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."branch" where 1=0
select * from "public"."branch" where 1=0;
2025-12-11T11:52:15.302+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439535302 | took 3ms | statement | connection 430| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-12-11T11:52:15.311+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439535310 | took 4ms | statement | connection 430| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."service_entity" where 1=0
select * from "public"."service_entity" where 1=0;
2025-12-11T11:52:15.423+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439535423 | took 0ms | statement | connection 430| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."branch" where 1=0
select * from "public"."branch" where 1=0;
2025-12-11T11:52:15.426+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439535426 | took 0ms | statement | connection 430| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-12-11T11:52:15.430+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439535430 | took 2ms | statement | connection 430| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."spare_parts" where 1=0
select * from "public"."spare_parts" where 1=0;
2025-12-11T11:52:15.523+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439535523 | took 0ms | statement | connection 430| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-12-11T11:52:15.611+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439535611 | took 0ms | statement | connection 430| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-12-11T11:52:15.616+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439535616 | took 3ms | statement | connection 430| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."user_registration" where 1=0
select * from "public"."user_registration" where 1=0;
2025-12-11T11:52:15.709+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439535709 | took 0ms | statement | connection 430| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."spare_parts" where 1=0
select * from "public"."spare_parts" where 1=0;
2025-12-11T11:52:15.804+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439535804 | took 2ms | statement | connection 430| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."problem" where 1=0
select * from "public"."problem" where 1=0;
2025-12-11T11:52:15.910+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439535910 | took 0ms | statement | connection 430| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."branch" where 1=0
select * from "public"."branch" where 1=0;
2025-12-11T11:52:15.910+04:00  INFO 31548 --- [carservices] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-11T11:52:17.289+04:00  WARN 31548 --- [carservices] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-11T11:52:17.627+04:00  INFO 31548 --- [carservices] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-12-11T11:52:17.654+04:00  INFO 31548 --- [carservices] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2025-12-11T11:52:17.660+04:00  INFO 31548 --- [carservices] [restartedMain] c.c.carservices.CarservicesApplication   : Started CarservicesApplication in 6.913 seconds (process running for 163239.09)
2025-12-11T11:52:17.663+04:00  INFO 31548 --- [carservices] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-12-11T11:54:38.675+04:00  INFO 31548 --- [carservices] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 2 class path changes (0 additions, 0 deletions, 2 modifications)
2025-12-11T11:54:38.696+04:00  INFO 31548 --- [carservices] [Thread-7] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-12-11T11:54:38.714+04:00  INFO 31548 --- [carservices] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-12-11T11:54:38.735+04:00  INFO 31548 --- [carservices] [Thread-7] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-11T11:54:38.744+04:00  INFO 31548 --- [carservices] [Thread-7] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2025-12-11T11:54:38.754+04:00  INFO 31548 --- [carservices] [Thread-7] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2025-12-11T11:54:39.128+04:00  INFO 31548 --- [carservices] [restartedMain] c.c.carservices.CarservicesApplication   : Starting CarservicesApplication using Java 21.0.7 with PID 31548 (C:\Grand BackUp\Sheikh-2\Private\Sheikhkashifiqbal\temp\Spare Parts Project\SpringBoot\car-dev-1\carservices\target\classes started by lenovo in C:\Grand BackUp\Sheikh-2\Private\Sheikhkashifiqbal\temp\Spare Parts Project\SpringBoot\car-dev-1\carservices)
2025-12-11T11:54:39.129+04:00  INFO 31548 --- [carservices] [restartedMain] c.c.carservices.CarservicesApplication   : No active profile set, falling back to 1 default profile: "default"
2025-12-11T11:54:40.076+04:00  INFO 31548 --- [carservices] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-11T11:54:40.309+04:00  INFO 31548 --- [carservices] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 231 ms. Found 40 JPA repository interfaces.
2025-12-11T11:54:40.590+04:00  INFO 31548 --- [carservices] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-12-11T11:54:40.591+04:00  INFO 31548 --- [carservices] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-11T11:54:40.591+04:00  INFO 31548 --- [carservices] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-12-11T11:54:40.626+04:00  INFO 31548 --- [carservices] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-11T11:54:40.627+04:00  INFO 31548 --- [carservices] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1495 ms
2025-12-11T11:54:40.757+04:00  INFO 31548 --- [carservices] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-11T11:54:40.761+04:00  INFO 31548 --- [carservices] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-12-11T11:54:40.785+04:00  INFO 31548 --- [carservices] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-11T11:54:40.788+04:00  INFO 31548 --- [carservices] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Starting...
2025-12-11T11:54:40.855+04:00  INFO 31548 --- [carservices] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Added connection com.p6spy.engine.wrapper.ConnectionWrapper@9dcadc3
2025-12-11T11:54:40.856+04:00  INFO 31548 --- [carservices] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Start completed.
2025-12-11T11:54:40.870+04:00  WARN 31548 --- [carservices] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-11T11:54:40.872+04:00  INFO 31548 --- [carservices] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-3)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-11T11:54:41.359+04:00  INFO 31548 --- [carservices] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-11T11:54:41.373+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439681373 | took 11ms | statement | connection 440| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from information_schema.sequences
select * from information_schema.sequences;
2025-12-11T11:54:41.402+04:00  INFO 31548 --- [carservices] [restartedMain] t.s.e.i.AbstractInformationExtractorImpl : HHH000475: Cannot locate column information using identifier [lower((manager_email)::text)]; ignoring index [ux_company_manager_email]
2025-12-11T11:54:41.402+04:00 DEBUG 31548 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       drop constraint if exists ux_company_company_name_ci
2025-12-11T11:54:41.407+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439681407 | took 4ms | statement | connection 440| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       drop constraint if exists ux_company_company_name_ci

    alter table if exists company 
       drop constraint if exists ux_company_company_name_ci;
2025-12-11T11:54:41.407+04:00  WARN 31548 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2025-12-11T11:54:41.407+04:00  WARN 31548 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "ux_company_company_name_ci" of relation "company" does not exist, skipping
2025-12-11T11:54:41.409+04:00 DEBUG 31548 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       add constraint ux_company_company_name_ci unique (company_name)
2025-12-11T11:54:41.421+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439681421 | took 12ms | statement | connection 440| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       add constraint ux_company_company_name_ci unique (company_name)

    alter table if exists company 
       add constraint ux_company_company_name_ci unique (company_name);
2025-12-11T11:54:41.422+04:00 DEBUG 31548 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       drop constraint if exists ux_company_brand_name_ci
2025-12-11T11:54:41.424+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439681424 | took 1ms | statement | connection 440| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       drop constraint if exists ux_company_brand_name_ci

    alter table if exists company 
       drop constraint if exists ux_company_brand_name_ci;
2025-12-11T11:54:41.424+04:00  WARN 31548 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2025-12-11T11:54:41.424+04:00  WARN 31548 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "ux_company_brand_name_ci" of relation "company" does not exist, skipping
2025-12-11T11:54:41.424+04:00 DEBUG 31548 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       add constraint ux_company_brand_name_ci unique (brand_name)
2025-12-11T11:54:41.428+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439681428 | took 3ms | statement | connection 440| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       add constraint ux_company_brand_name_ci unique (brand_name)

    alter table if exists company 
       add constraint ux_company_brand_name_ci unique (brand_name);
2025-12-11T11:54:41.560+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439681560 | took 2ms | statement | connection 440| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."company" where 1=0
select * from "public"."company" where 1=0;
2025-12-11T11:54:41.672+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439681672 | took 2ms | statement | connection 440| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."branch" where 1=0
select * from "public"."branch" where 1=0;
2025-12-11T11:54:41.681+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439681681 | took 1ms | statement | connection 440| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-12-11T11:54:41.688+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439681688 | took 1ms | statement | connection 440| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."service_entity" where 1=0
select * from "public"."service_entity" where 1=0;
2025-12-11T11:54:41.794+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439681794 | took 0ms | statement | connection 440| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."branch" where 1=0
select * from "public"."branch" where 1=0;
2025-12-11T11:54:41.797+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439681797 | took 0ms | statement | connection 440| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-12-11T11:54:41.801+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439681801 | took 1ms | statement | connection 440| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."spare_parts" where 1=0
select * from "public"."spare_parts" where 1=0;
2025-12-11T11:54:41.906+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439681906 | took 0ms | statement | connection 440| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-12-11T11:54:41.999+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439681999 | took 0ms | statement | connection 440| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-12-11T11:54:42.004+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439682004 | took 2ms | statement | connection 440| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."user_registration" where 1=0
select * from "public"."user_registration" where 1=0;
2025-12-11T11:54:42.099+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439682099 | took 0ms | statement | connection 440| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."spare_parts" where 1=0
select * from "public"."spare_parts" where 1=0;
2025-12-11T11:54:42.203+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439682203 | took 1ms | statement | connection 440| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."problem" where 1=0
select * from "public"."problem" where 1=0;
2025-12-11T11:54:42.310+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439682310 | took 0ms | statement | connection 440| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."branch" where 1=0
select * from "public"."branch" where 1=0;
2025-12-11T11:54:42.311+04:00  INFO 31548 --- [carservices] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-11T11:54:43.166+04:00  WARN 31548 --- [carservices] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'disableServiceController' defined in file [C:\Grand BackUp\Sheikh-2\Private\Sheikhkashifiqbal\temp\Spare Parts Project\SpringBoot\car-dev-1\carservices\target\classes\com\car\carservices\controller\DisableServiceController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'disableService' defined in file [C:\Grand BackUp\Sheikh-2\Private\Sheikhkashifiqbal\temp\Spare Parts Project\SpringBoot\car-dev-1\carservices\target\classes\com\car\carservices\service\DisableService.class]: Failed to instantiate [com.car.carservices.service.DisableService]: Constructor threw exception
2025-12-11T11:54:43.168+04:00  INFO 31548 --- [carservices] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-11T11:54:43.168+04:00  INFO 31548 --- [carservices] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown initiated...
2025-12-11T11:54:43.172+04:00  INFO 31548 --- [carservices] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown completed.
2025-12-11T11:54:43.176+04:00  INFO 31548 --- [carservices] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-12-11T11:54:43.190+04:00  INFO 31548 --- [carservices] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-12-11T11:54:43.224+04:00 ERROR 31548 --- [carservices] [restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'disableServiceController' defined in file [C:\Grand BackUp\Sheikh-2\Private\Sheikhkashifiqbal\temp\Spare Parts Project\SpringBoot\car-dev-1\carservices\target\classes\com\car\carservices\controller\DisableServiceController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'disableService' defined in file [C:\Grand BackUp\Sheikh-2\Private\Sheikhkashifiqbal\temp\Spare Parts Project\SpringBoot\car-dev-1\carservices\target\classes\com\car\carservices\service\DisableService.class]: Failed to instantiate [com.car.carservices.service.DisableService]: Constructor threw exception
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1387) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1224) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1221) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1187) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1122) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987) ~[spring-context-6.2.6.jar:6.2.6]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.6.jar:6.2.6]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.5.jar:3.4.5]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753) ~[spring-boot-3.4.5.jar:3.4.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.5.jar:3.4.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.5.jar:3.4.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362) ~[spring-boot-3.4.5.jar:3.4.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351) ~[spring-boot-3.4.5.jar:3.4.5]
	at com.car.carservices.CarservicesApplication.main(CarservicesApplication.java:11) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.4.5.jar:3.4.5]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'disableService' defined in file [C:\Grand BackUp\Sheikh-2\Private\Sheikhkashifiqbal\temp\Spare Parts Project\SpringBoot\car-dev-1\carservices\target\classes\com\car\carservices\service\DisableService.class]: Failed to instantiate [com.car.carservices.service.DisableService]: Constructor threw exception
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:321) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:309) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1387) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1224) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1681) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-6.2.6.jar:6.2.6]
	... 24 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.car.carservices.service.DisableService]: Constructor threw exception
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:222) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:145) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:318) ~[spring-beans-6.2.6.jar:6.2.6]
	... 37 common frames omitted
Caused by: java.lang.Error: Unresolved compilation problems: 
	The public type DisableService must be defined in its own file
	The method countActiveReservations(Long, Long) is undefined for the type DisableServiceRepository
	The method updateServiceStatus(Long, Long, String) is undefined for the type DisableServiceRepository

	at com.car.carservices.service.DisableService.<init>(DisableServiceService.java:13) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:62) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:502) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:486) ~[na:na]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:209) ~[spring-beans-6.2.6.jar:6.2.6]
	... 39 common frames omitted

2025-12-11T11:54:49.424+04:00  INFO 31548 --- [carservices] [restartedMain] c.c.carservices.CarservicesApplication   : Starting CarservicesApplication using Java 21.0.7 with PID 31548 (C:\Grand BackUp\Sheikh-2\Private\Sheikhkashifiqbal\temp\Spare Parts Project\SpringBoot\car-dev-1\carservices\target\classes started by lenovo in C:\Grand BackUp\Sheikh-2\Private\Sheikhkashifiqbal\temp\Spare Parts Project\SpringBoot\car-dev-1\carservices)
2025-12-11T11:54:49.424+04:00  INFO 31548 --- [carservices] [restartedMain] c.c.carservices.CarservicesApplication   : No active profile set, falling back to 1 default profile: "default"
2025-12-11T11:54:50.230+04:00  INFO 31548 --- [carservices] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-11T11:54:50.462+04:00  INFO 31548 --- [carservices] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 231 ms. Found 40 JPA repository interfaces.
2025-12-11T11:54:50.682+04:00  INFO 31548 --- [carservices] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-12-11T11:54:50.685+04:00  INFO 31548 --- [carservices] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-11T11:54:50.686+04:00  INFO 31548 --- [carservices] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-12-11T11:54:50.715+04:00  INFO 31548 --- [carservices] [restartedMain] o.a.c.c.C.[Tomcat-1].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2025-12-11T11:54:50.716+04:00  INFO 31548 --- [carservices] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1287 ms
2025-12-11T11:54:50.791+04:00  INFO 31548 --- [carservices] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-11T11:54:50.797+04:00  INFO 31548 --- [carservices] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-12-11T11:54:50.817+04:00  INFO 31548 --- [carservices] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-11T11:54:50.820+04:00  INFO 31548 --- [carservices] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Starting...
2025-12-11T11:54:50.907+04:00  INFO 31548 --- [carservices] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-4 - Added connection com.p6spy.engine.wrapper.ConnectionWrapper@2813b9dd
2025-12-11T11:54:50.907+04:00  INFO 31548 --- [carservices] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Start completed.
2025-12-11T11:54:50.921+04:00  WARN 31548 --- [carservices] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-11T11:54:50.923+04:00  INFO 31548 --- [carservices] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-4)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-11T11:54:51.409+04:00  INFO 31548 --- [carservices] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-11T11:54:51.422+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439691422 | took 11ms | statement | connection 450| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from information_schema.sequences
select * from information_schema.sequences;
2025-12-11T11:54:51.456+04:00  INFO 31548 --- [carservices] [restartedMain] t.s.e.i.AbstractInformationExtractorImpl : HHH000475: Cannot locate column information using identifier [lower((manager_email)::text)]; ignoring index [ux_company_manager_email]
2025-12-11T11:54:51.457+04:00 DEBUG 31548 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       drop constraint if exists ux_company_company_name_ci
2025-12-11T11:54:51.461+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439691461 | took 2ms | statement | connection 450| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       drop constraint if exists ux_company_company_name_ci

    alter table if exists company 
       drop constraint if exists ux_company_company_name_ci;
2025-12-11T11:54:51.461+04:00  WARN 31548 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2025-12-11T11:54:51.461+04:00  WARN 31548 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "ux_company_company_name_ci" of relation "company" does not exist, skipping
2025-12-11T11:54:51.461+04:00 DEBUG 31548 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       add constraint ux_company_company_name_ci unique (company_name)
2025-12-11T11:54:51.469+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439691469 | took 7ms | statement | connection 450| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       add constraint ux_company_company_name_ci unique (company_name)

    alter table if exists company 
       add constraint ux_company_company_name_ci unique (company_name);
2025-12-11T11:54:51.469+04:00 DEBUG 31548 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       drop constraint if exists ux_company_brand_name_ci
2025-12-11T11:54:51.472+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439691472 | took 2ms | statement | connection 450| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       drop constraint if exists ux_company_brand_name_ci

    alter table if exists company 
       drop constraint if exists ux_company_brand_name_ci;
2025-12-11T11:54:51.472+04:00  WARN 31548 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2025-12-11T11:54:51.473+04:00  WARN 31548 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "ux_company_brand_name_ci" of relation "company" does not exist, skipping
2025-12-11T11:54:51.473+04:00 DEBUG 31548 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       add constraint ux_company_brand_name_ci unique (brand_name)
2025-12-11T11:54:51.476+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439691476 | took 2ms | statement | connection 450| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       add constraint ux_company_brand_name_ci unique (brand_name)

    alter table if exists company 
       add constraint ux_company_brand_name_ci unique (brand_name);
2025-12-11T11:54:51.585+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439691585 | took 1ms | statement | connection 450| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."company" where 1=0
select * from "public"."company" where 1=0;
2025-12-11T11:54:51.681+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439691681 | took 2ms | statement | connection 450| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."branch" where 1=0
select * from "public"."branch" where 1=0;
2025-12-11T11:54:51.688+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439691688 | took 2ms | statement | connection 450| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-12-11T11:54:51.696+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439691696 | took 2ms | statement | connection 450| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."service_entity" where 1=0
select * from "public"."service_entity" where 1=0;
2025-12-11T11:54:51.824+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439691824 | took 0ms | statement | connection 450| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."branch" where 1=0
select * from "public"."branch" where 1=0;
2025-12-11T11:54:51.826+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439691826 | took 0ms | statement | connection 450| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-12-11T11:54:51.830+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439691830 | took 1ms | statement | connection 450| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."spare_parts" where 1=0
select * from "public"."spare_parts" where 1=0;
2025-12-11T11:54:51.931+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439691931 | took 0ms | statement | connection 450| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-12-11T11:54:52.014+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439692014 | took 0ms | statement | connection 450| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-12-11T11:54:52.019+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439692019 | took 3ms | statement | connection 450| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."user_registration" where 1=0
select * from "public"."user_registration" where 1=0;
2025-12-11T11:54:52.122+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439692122 | took 0ms | statement | connection 450| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."spare_parts" where 1=0
select * from "public"."spare_parts" where 1=0;
2025-12-11T11:54:52.199+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439692199 | took 1ms | statement | connection 450| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."problem" where 1=0
select * from "public"."problem" where 1=0;
2025-12-11T11:54:52.275+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439692275 | took 0ms | statement | connection 450| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."branch" where 1=0
select * from "public"."branch" where 1=0;
2025-12-11T11:54:52.276+04:00  INFO 31548 --- [carservices] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-11T11:54:52.919+04:00  WARN 31548 --- [carservices] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'disableServiceController': Resolution of declared constructors on bean Class [com.car.carservices.controller.DisableServiceController] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@32d70088] failed
2025-12-11T11:54:52.921+04:00  INFO 31548 --- [carservices] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-11T11:54:52.923+04:00  INFO 31548 --- [carservices] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Shutdown initiated...
2025-12-11T11:54:52.925+04:00  INFO 31548 --- [carservices] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Shutdown completed.
2025-12-11T11:54:52.926+04:00  INFO 31548 --- [carservices] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-12-11T11:54:52.942+04:00  INFO 31548 --- [carservices] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-12-11T11:54:52.947+04:00 ERROR 31548 --- [carservices] [restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'disableServiceController': Resolution of declared constructors on bean Class [com.car.carservices.controller.DisableServiceController] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@32d70088] failed
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:384) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineConstructorsFromBeanPostProcessors(AbstractAutowireCapableBeanFactory.java:1326) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1221) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1221) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1187) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1122) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987) ~[spring-context-6.2.6.jar:6.2.6]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.6.jar:6.2.6]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.5.jar:3.4.5]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753) ~[spring-boot-3.4.5.jar:3.4.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.5.jar:3.4.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.5.jar:3.4.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362) ~[spring-boot-3.4.5.jar:3.4.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351) ~[spring-boot-3.4.5.jar:3.4.5]
	at com.car.carservices.CarservicesApplication.main(CarservicesApplication.java:11) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.4.5.jar:3.4.5]
Caused by: java.lang.NoClassDefFoundError: DisableService
	at java.base/java.lang.Class.getDeclaredConstructors0(Native Method) ~[na:na]
	at java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3549) ~[na:na]
	at java.base/java.lang.Class.getDeclaredConstructors(Class.java:2727) ~[na:na]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:379) ~[spring-beans-6.2.6.jar:6.2.6]
	... 23 common frames omitted
Caused by: java.lang.ClassNotFoundException: DisableService
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526) ~[na:na]
	at java.base/java.lang.Class.forName0(Native Method) ~[na:na]
	at java.base/java.lang.Class.forName(Class.java:534) ~[na:na]
	at java.base/java.lang.Class.forName(Class.java:513) ~[na:na]
	at org.springframework.boot.devtools.restart.classloader.RestartClassLoader.loadClass(RestartClassLoader.java:121) ~[spring-boot-devtools-3.4.5.jar:3.4.5]
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526) ~[na:na]
	... 27 common frames omitted

2025-12-11T11:54:54.798+04:00  INFO 31548 --- [carservices] [restartedMain] c.c.carservices.CarservicesApplication   : Starting CarservicesApplication using Java 21.0.7 with PID 31548 (C:\Grand BackUp\Sheikh-2\Private\Sheikhkashifiqbal\temp\Spare Parts Project\SpringBoot\car-dev-1\carservices\target\classes started by lenovo in C:\Grand BackUp\Sheikh-2\Private\Sheikhkashifiqbal\temp\Spare Parts Project\SpringBoot\car-dev-1\carservices)
2025-12-11T11:54:54.798+04:00  INFO 31548 --- [carservices] [restartedMain] c.c.carservices.CarservicesApplication   : No active profile set, falling back to 1 default profile: "default"
2025-12-11T11:54:55.734+04:00  INFO 31548 --- [carservices] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-11T11:54:56.077+04:00  INFO 31548 --- [carservices] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 341 ms. Found 40 JPA repository interfaces.
2025-12-11T11:54:56.309+04:00  INFO 31548 --- [carservices] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-12-11T11:54:56.310+04:00  INFO 31548 --- [carservices] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-11T11:54:56.312+04:00  INFO 31548 --- [carservices] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-12-11T11:54:56.376+04:00  INFO 31548 --- [carservices] [restartedMain] o.a.c.c.C.[Tomcat-2].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2025-12-11T11:54:56.378+04:00  INFO 31548 --- [carservices] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1576 ms
2025-12-11T11:54:56.535+04:00  INFO 31548 --- [carservices] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-11T11:54:56.539+04:00  INFO 31548 --- [carservices] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-12-11T11:54:56.556+04:00  INFO 31548 --- [carservices] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-11T11:54:56.557+04:00  INFO 31548 --- [carservices] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Starting...
2025-12-11T11:54:56.631+04:00  INFO 31548 --- [carservices] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-5 - Added connection com.p6spy.engine.wrapper.ConnectionWrapper@4dc18ab2
2025-12-11T11:54:56.631+04:00  INFO 31548 --- [carservices] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Start completed.
2025-12-11T11:54:56.642+04:00  WARN 31548 --- [carservices] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-11T11:54:56.644+04:00  INFO 31548 --- [carservices] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-5)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-11T11:54:57.029+04:00  INFO 31548 --- [carservices] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-11T11:54:57.042+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439697042 | took 11ms | statement | connection 460| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from information_schema.sequences
select * from information_schema.sequences;
2025-12-11T11:54:57.068+04:00  INFO 31548 --- [carservices] [restartedMain] t.s.e.i.AbstractInformationExtractorImpl : HHH000475: Cannot locate column information using identifier [lower((manager_email)::text)]; ignoring index [ux_company_manager_email]
2025-12-11T11:54:57.068+04:00 DEBUG 31548 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       drop constraint if exists ux_company_company_name_ci
2025-12-11T11:54:57.071+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439697071 | took 1ms | statement | connection 460| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       drop constraint if exists ux_company_company_name_ci

    alter table if exists company 
       drop constraint if exists ux_company_company_name_ci;
2025-12-11T11:54:57.071+04:00  WARN 31548 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2025-12-11T11:54:57.071+04:00  WARN 31548 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "ux_company_company_name_ci" of relation "company" does not exist, skipping
2025-12-11T11:54:57.071+04:00 DEBUG 31548 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       add constraint ux_company_company_name_ci unique (company_name)
2025-12-11T11:54:57.080+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439697080 | took 7ms | statement | connection 460| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       add constraint ux_company_company_name_ci unique (company_name)

    alter table if exists company 
       add constraint ux_company_company_name_ci unique (company_name);
2025-12-11T11:54:57.081+04:00 DEBUG 31548 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       drop constraint if exists ux_company_brand_name_ci
2025-12-11T11:54:57.082+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439697082 | took 0ms | statement | connection 460| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       drop constraint if exists ux_company_brand_name_ci

    alter table if exists company 
       drop constraint if exists ux_company_brand_name_ci;
2025-12-11T11:54:57.082+04:00  WARN 31548 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2025-12-11T11:54:57.082+04:00  WARN 31548 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "ux_company_brand_name_ci" of relation "company" does not exist, skipping
2025-12-11T11:54:57.082+04:00 DEBUG 31548 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       add constraint ux_company_brand_name_ci unique (brand_name)
2025-12-11T11:54:57.085+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439697085 | took 2ms | statement | connection 460| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       add constraint ux_company_brand_name_ci unique (brand_name)

    alter table if exists company 
       add constraint ux_company_brand_name_ci unique (brand_name);
2025-12-11T11:54:57.196+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439697196 | took 2ms | statement | connection 460| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."company" where 1=0
select * from "public"."company" where 1=0;
2025-12-11T11:54:57.295+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439697295 | took 3ms | statement | connection 460| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."branch" where 1=0
select * from "public"."branch" where 1=0;
2025-12-11T11:54:57.304+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439697304 | took 2ms | statement | connection 460| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-12-11T11:54:57.309+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439697309 | took 1ms | statement | connection 460| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."service_entity" where 1=0
select * from "public"."service_entity" where 1=0;
2025-12-11T11:54:57.397+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439697397 | took 0ms | statement | connection 460| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."branch" where 1=0
select * from "public"."branch" where 1=0;
2025-12-11T11:54:57.399+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439697399 | took 0ms | statement | connection 460| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-12-11T11:54:57.405+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439697405 | took 3ms | statement | connection 460| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."spare_parts" where 1=0
select * from "public"."spare_parts" where 1=0;
2025-12-11T11:54:57.513+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439697513 | took 0ms | statement | connection 460| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-12-11T11:54:57.624+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439697624 | took 0ms | statement | connection 460| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-12-11T11:54:57.632+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439697632 | took 4ms | statement | connection 460| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."user_registration" where 1=0
select * from "public"."user_registration" where 1=0;
2025-12-11T11:54:57.743+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439697743 | took 0ms | statement | connection 460| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."spare_parts" where 1=0
select * from "public"."spare_parts" where 1=0;
2025-12-11T11:54:57.872+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439697872 | took 1ms | statement | connection 460| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."problem" where 1=0
select * from "public"."problem" where 1=0;
2025-12-11T11:54:57.964+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439697964 | took 0ms | statement | connection 460| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."branch" where 1=0
select * from "public"."branch" where 1=0;
2025-12-11T11:54:57.964+04:00  INFO 31548 --- [carservices] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-11T11:54:58.517+04:00  WARN 31548 --- [carservices] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'disableServiceController': Resolution of declared constructors on bean Class [com.car.carservices.controller.DisableServiceController] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@6d45121c] failed
2025-12-11T11:54:58.518+04:00  INFO 31548 --- [carservices] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-11T11:54:58.519+04:00  INFO 31548 --- [carservices] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Shutdown initiated...
2025-12-11T11:54:58.521+04:00  INFO 31548 --- [carservices] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Shutdown completed.
2025-12-11T11:54:58.527+04:00  INFO 31548 --- [carservices] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-12-11T11:54:58.536+04:00  INFO 31548 --- [carservices] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-12-11T11:54:58.540+04:00 ERROR 31548 --- [carservices] [restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'disableServiceController': Resolution of declared constructors on bean Class [com.car.carservices.controller.DisableServiceController] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@6d45121c] failed
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:384) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineConstructorsFromBeanPostProcessors(AbstractAutowireCapableBeanFactory.java:1326) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1221) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1221) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1187) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1122) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987) ~[spring-context-6.2.6.jar:6.2.6]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.6.jar:6.2.6]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.5.jar:3.4.5]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753) ~[spring-boot-3.4.5.jar:3.4.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.5.jar:3.4.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.5.jar:3.4.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362) ~[spring-boot-3.4.5.jar:3.4.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351) ~[spring-boot-3.4.5.jar:3.4.5]
	at com.car.carservices.CarservicesApplication.main(CarservicesApplication.java:11) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.4.5.jar:3.4.5]
Caused by: java.lang.NoClassDefFoundError: DisableService
	at java.base/java.lang.Class.getDeclaredConstructors0(Native Method) ~[na:na]
	at java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3549) ~[na:na]
	at java.base/java.lang.Class.getDeclaredConstructors(Class.java:2727) ~[na:na]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:379) ~[spring-beans-6.2.6.jar:6.2.6]
	... 23 common frames omitted
Caused by: java.lang.ClassNotFoundException: DisableService
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526) ~[na:na]
	at java.base/java.lang.Class.forName0(Native Method) ~[na:na]
	at java.base/java.lang.Class.forName(Class.java:534) ~[na:na]
	at java.base/java.lang.Class.forName(Class.java:513) ~[na:na]
	at org.springframework.boot.devtools.restart.classloader.RestartClassLoader.loadClass(RestartClassLoader.java:121) ~[spring-boot-devtools-3.4.5.jar:3.4.5]
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526) ~[na:na]
	... 27 common frames omitted

2025-12-11T11:55:31.233+04:00  INFO 31548 --- [carservices] [restartedMain] c.c.carservices.CarservicesApplication   : Starting CarservicesApplication using Java 21.0.7 with PID 31548 (C:\Grand BackUp\Sheikh-2\Private\Sheikhkashifiqbal\temp\Spare Parts Project\SpringBoot\car-dev-1\carservices\target\classes started by lenovo in C:\Grand BackUp\Sheikh-2\Private\Sheikhkashifiqbal\temp\Spare Parts Project\SpringBoot\car-dev-1\carservices)
2025-12-11T11:55:31.233+04:00  INFO 31548 --- [carservices] [restartedMain] c.c.carservices.CarservicesApplication   : No active profile set, falling back to 1 default profile: "default"
2025-12-11T11:55:31.967+04:00  INFO 31548 --- [carservices] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-11T11:55:32.277+04:00  INFO 31548 --- [carservices] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 307 ms. Found 40 JPA repository interfaces.
2025-12-11T11:55:32.436+04:00  INFO 31548 --- [carservices] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-12-11T11:55:32.437+04:00  INFO 31548 --- [carservices] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-11T11:55:32.437+04:00  INFO 31548 --- [carservices] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-12-11T11:55:32.470+04:00  INFO 31548 --- [carservices] [restartedMain] o.a.c.c.C.[Tomcat-3].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2025-12-11T11:55:32.470+04:00  INFO 31548 --- [carservices] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1228 ms
2025-12-11T11:55:32.585+04:00  INFO 31548 --- [carservices] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-11T11:55:32.589+04:00  INFO 31548 --- [carservices] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-12-11T11:55:32.606+04:00  INFO 31548 --- [carservices] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-11T11:55:32.608+04:00  INFO 31548 --- [carservices] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Starting...
2025-12-11T11:55:32.678+04:00  INFO 31548 --- [carservices] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-6 - Added connection com.p6spy.engine.wrapper.ConnectionWrapper@42a1bac3
2025-12-11T11:55:32.678+04:00  INFO 31548 --- [carservices] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Start completed.
2025-12-11T11:55:32.681+04:00  WARN 31548 --- [carservices] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-11T11:55:32.687+04:00  INFO 31548 --- [carservices] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-6)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-11T11:55:33.056+04:00  INFO 31548 --- [carservices] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-11T11:55:33.074+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439733074 | took 14ms | statement | connection 470| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from information_schema.sequences
select * from information_schema.sequences;
2025-12-11T11:55:33.110+04:00  INFO 31548 --- [carservices] [restartedMain] t.s.e.i.AbstractInformationExtractorImpl : HHH000475: Cannot locate column information using identifier [lower((manager_email)::text)]; ignoring index [ux_company_manager_email]
2025-12-11T11:55:33.110+04:00 DEBUG 31548 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       drop constraint if exists ux_company_company_name_ci
2025-12-11T11:55:33.116+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439733116 | took 5ms | statement | connection 470| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       drop constraint if exists ux_company_company_name_ci

    alter table if exists company 
       drop constraint if exists ux_company_company_name_ci;
2025-12-11T11:55:33.116+04:00  WARN 31548 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2025-12-11T11:55:33.117+04:00  WARN 31548 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "ux_company_company_name_ci" of relation "company" does not exist, skipping
2025-12-11T11:55:33.117+04:00 DEBUG 31548 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       add constraint ux_company_company_name_ci unique (company_name)
2025-12-11T11:55:33.128+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439733128 | took 10ms | statement | connection 470| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       add constraint ux_company_company_name_ci unique (company_name)

    alter table if exists company 
       add constraint ux_company_company_name_ci unique (company_name);
2025-12-11T11:55:33.129+04:00 DEBUG 31548 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       drop constraint if exists ux_company_brand_name_ci
2025-12-11T11:55:33.130+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439733130 | took 0ms | statement | connection 470| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       drop constraint if exists ux_company_brand_name_ci

    alter table if exists company 
       drop constraint if exists ux_company_brand_name_ci;
2025-12-11T11:55:33.130+04:00  WARN 31548 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2025-12-11T11:55:33.130+04:00  WARN 31548 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "ux_company_brand_name_ci" of relation "company" does not exist, skipping
2025-12-11T11:55:33.130+04:00 DEBUG 31548 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       add constraint ux_company_brand_name_ci unique (brand_name)
2025-12-11T11:55:33.135+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439733135 | took 4ms | statement | connection 470| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       add constraint ux_company_brand_name_ci unique (brand_name)

    alter table if exists company 
       add constraint ux_company_brand_name_ci unique (brand_name);
2025-12-11T11:55:33.261+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439733261 | took 2ms | statement | connection 470| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."company" where 1=0
select * from "public"."company" where 1=0;
2025-12-11T11:55:33.374+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439733374 | took 2ms | statement | connection 470| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."branch" where 1=0
select * from "public"."branch" where 1=0;
2025-12-11T11:55:33.382+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439733382 | took 1ms | statement | connection 470| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-12-11T11:55:33.390+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439733390 | took 2ms | statement | connection 470| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."service_entity" where 1=0
select * from "public"."service_entity" where 1=0;
2025-12-11T11:55:33.477+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439733477 | took 0ms | statement | connection 470| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."branch" where 1=0
select * from "public"."branch" where 1=0;
2025-12-11T11:55:33.480+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439733480 | took 0ms | statement | connection 470| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-12-11T11:55:33.484+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439733484 | took 1ms | statement | connection 470| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."spare_parts" where 1=0
select * from "public"."spare_parts" where 1=0;
2025-12-11T11:55:33.562+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439733562 | took 0ms | statement | connection 470| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-12-11T11:55:33.679+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439733679 | took 0ms | statement | connection 470| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-12-11T11:55:33.682+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439733682 | took 2ms | statement | connection 470| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."user_registration" where 1=0
select * from "public"."user_registration" where 1=0;
2025-12-11T11:55:33.777+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439733777 | took 0ms | statement | connection 470| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."spare_parts" where 1=0
select * from "public"."spare_parts" where 1=0;
2025-12-11T11:55:33.850+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439733850 | took 1ms | statement | connection 470| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."problem" where 1=0
select * from "public"."problem" where 1=0;
2025-12-11T11:55:33.937+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439733937 | took 0ms | statement | connection 470| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."branch" where 1=0
select * from "public"."branch" where 1=0;
2025-12-11T11:55:33.937+04:00  INFO 31548 --- [carservices] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-11T11:55:34.907+04:00  WARN 31548 --- [carservices] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-11T11:55:35.254+04:00  INFO 31548 --- [carservices] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-12-11T11:55:35.286+04:00  INFO 31548 --- [carservices] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2025-12-11T11:55:35.294+04:00  INFO 31548 --- [carservices] [restartedMain] c.c.carservices.CarservicesApplication   : Started CarservicesApplication in 4.124 seconds (process running for 163436.724)
2025-12-11T11:55:35.296+04:00  INFO 31548 --- [carservices] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-12-11T11:55:52.980+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-2] o.a.c.c.C.[Tomcat-3].[localhost].[/]     : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-11T11:55:52.981+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-11T11:55:52.986+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2025-12-11T11:55:53.031+04:00 DEBUG 31548 --- [carservices] [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        bbs1_0.id,
        bbs1_0.branch_id,
        bbs1_0.brand_id,
        bbs1_0.experts,
        bbs1_0.qty,
        bbs1_0.service_id,
        bbs1_0.status 
    from
        branch_brand_service bbs1_0
2025-12-11T11:55:53.040+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1765439753040 | took 8ms | statement | connection 470| url jdbc:p6spy:postgresql://localhost:5433/testdb
select bbs1_0.id,bbs1_0.branch_id,bbs1_0.brand_id,bbs1_0.experts,bbs1_0.qty,bbs1_0.service_id,bbs1_0.status from branch_brand_service bbs1_0
select bbs1_0.id,bbs1_0.branch_id,bbs1_0.brand_id,bbs1_0.experts,bbs1_0.qty,bbs1_0.service_id,bbs1_0.status from branch_brand_service bbs1_0;
2025-12-11T11:55:53.048+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1765439753048 | took 1ms | commit | connection 470| url jdbc:p6spy:postgresql://localhost:5433/testdb

;
2025-12-11T11:55:53.080+04:00 DEBUG 31548 --- [carservices] [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        b1_0.branch_id,
        b1_0.address,
        b1_0.branch_address,
        b1_0.branch_code,
        b1_0.branch_cover_img,
        b1_0.branch_manager_name,
        b1_0.branch_manager_surname,
        b1_0.branch_name,
        b1_0.city,
        b1_0.company_id,
        b1_0.latitude,
        b1_0.location,
        b1_0.login_email,
        b1_0.logo_img,
        b1_0.longitude,
        b1_0.mobile,
        b1_0.password,
        b1_0.status 
    from
        branch b1_0 
    where
        b1_0.branch_id=?
2025-12-11T11:55:53.081+04:00 TRACE 31548 --- [carservices] [http-nio-8081-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [2]
2025-12-11T11:55:53.084+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1765439753084 | took 2ms | statement | connection 470| url jdbc:p6spy:postgresql://localhost:5433/testdb
select b1_0.branch_id,b1_0.address,b1_0.branch_address,b1_0.branch_code,b1_0.branch_cover_img,b1_0.branch_manager_name,b1_0.branch_manager_surname,b1_0.branch_name,b1_0.city,b1_0.company_id,b1_0.latitude,b1_0.location,b1_0.login_email,b1_0.logo_img,b1_0.longitude,b1_0.mobile,b1_0.password,b1_0.status from branch b1_0 where b1_0.branch_id=?
select b1_0.branch_id,b1_0.address,b1_0.branch_address,b1_0.branch_code,b1_0.branch_cover_img,b1_0.branch_manager_name,b1_0.branch_manager_surname,b1_0.branch_name,b1_0.city,b1_0.company_id,b1_0.latitude,b1_0.location,b1_0.login_email,b1_0.logo_img,b1_0.longitude,b1_0.mobile,b1_0.password,b1_0.status from branch b1_0 where b1_0.branch_id=2;
2025-12-11T11:55:53.095+04:00 DEBUG 31548 --- [carservices] [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        c1_0.company_id,
        c1_0.brand_name,
        c1_0.company_name,
        c1_0.manager_email,
        c1_0.manager_mobile,
        c1_0.manager_name,
        c1_0.manager_phone,
        c1_0.manager_surname,
        c1_0.password,
        c1_0.tax_id,
        c1_0.tin_photo,
        c1_0.website 
    from
        company c1_0 
    where
        c1_0.company_id=?
2025-12-11T11:55:53.097+04:00 TRACE 31548 --- [carservices] [http-nio-8081-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-12-11T11:55:53.098+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1765439753098 | took 0ms | statement | connection 470| url jdbc:p6spy:postgresql://localhost:5433/testdb
select c1_0.company_id,c1_0.brand_name,c1_0.company_name,c1_0.manager_email,c1_0.manager_mobile,c1_0.manager_name,c1_0.manager_phone,c1_0.manager_surname,c1_0.password,c1_0.tax_id,c1_0.tin_photo,c1_0.website from company c1_0 where c1_0.company_id=?
select c1_0.company_id,c1_0.brand_name,c1_0.company_name,c1_0.manager_email,c1_0.manager_mobile,c1_0.manager_name,c1_0.manager_phone,c1_0.manager_surname,c1_0.password,c1_0.tax_id,c1_0.tin_photo,c1_0.website from company c1_0 where c1_0.company_id=1;
2025-12-11T11:55:53.114+04:00 ERROR 31548 --- [carservices] [http-nio-8081-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor]] with root cause

com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: java.util.ArrayList[0]->com.car.carservices.entity.BranchBrandService["branch"]->com.car.carservices.entity.Branch$HibernateProxy["company"]->com.car.carservices.entity.Company$HibernateProxy["hibernateLazyInitializer"])
	at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1340) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:414) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.failForEmpty(UnknownSerializer.java:53) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.serialize(UnknownSerializer.java:30) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:770) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:184) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:770) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:184) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:770) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:184) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serializeContents(CollectionSerializer.java:145) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:107) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:25) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:502) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:422) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1583) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1061) ~[jackson-databind-2.18.3.jar:2.18.3]
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:486) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:126) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:345) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.handleReturnValue(RequestResponseBodyMethodProcessor.java:208) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:136) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.40.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.40.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.6.jar:6.2.6]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.springframework.web.filter.AbstractRequestLoggingFilter.doFilterInternal(AbstractRequestLoggingFilter.java:289) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.5.jar:6.4.5]
	at com.car.carservices.security.PRJwtAuthFilter.doFilterInternal(PRJwtAuthFilter.java:38) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.5.jar:6.4.5]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.6.jar:6.2.6]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-11T11:55:58.132+04:00 DEBUG 31548 --- [carservices] [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        bbs1_0.id,
        bbs1_0.branch_id,
        bbs1_0.brand_id,
        bbs1_0.experts,
        bbs1_0.qty,
        bbs1_0.service_id,
        bbs1_0.status 
    from
        branch_brand_service bbs1_0
2025-12-11T11:55:58.133+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1765439758133 | took 0ms | statement | connection 470| url jdbc:p6spy:postgresql://localhost:5433/testdb
select bbs1_0.id,bbs1_0.branch_id,bbs1_0.brand_id,bbs1_0.experts,bbs1_0.qty,bbs1_0.service_id,bbs1_0.status from branch_brand_service bbs1_0
select bbs1_0.id,bbs1_0.branch_id,bbs1_0.brand_id,bbs1_0.experts,bbs1_0.qty,bbs1_0.service_id,bbs1_0.status from branch_brand_service bbs1_0;
2025-12-11T11:55:58.140+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1765439758140 | took 0ms | commit | connection 470| url jdbc:p6spy:postgresql://localhost:5433/testdb

;
2025-12-11T11:55:58.141+04:00 DEBUG 31548 --- [carservices] [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        b1_0.branch_id,
        b1_0.address,
        b1_0.branch_address,
        b1_0.branch_code,
        b1_0.branch_cover_img,
        b1_0.branch_manager_name,
        b1_0.branch_manager_surname,
        b1_0.branch_name,
        b1_0.city,
        b1_0.company_id,
        b1_0.latitude,
        b1_0.location,
        b1_0.login_email,
        b1_0.logo_img,
        b1_0.longitude,
        b1_0.mobile,
        b1_0.password,
        b1_0.status 
    from
        branch b1_0 
    where
        b1_0.branch_id=?
2025-12-11T11:55:58.141+04:00 TRACE 31548 --- [carservices] [http-nio-8081-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [2]
2025-12-11T11:55:58.142+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1765439758142 | took 0ms | statement | connection 470| url jdbc:p6spy:postgresql://localhost:5433/testdb
select b1_0.branch_id,b1_0.address,b1_0.branch_address,b1_0.branch_code,b1_0.branch_cover_img,b1_0.branch_manager_name,b1_0.branch_manager_surname,b1_0.branch_name,b1_0.city,b1_0.company_id,b1_0.latitude,b1_0.location,b1_0.login_email,b1_0.logo_img,b1_0.longitude,b1_0.mobile,b1_0.password,b1_0.status from branch b1_0 where b1_0.branch_id=?
select b1_0.branch_id,b1_0.address,b1_0.branch_address,b1_0.branch_code,b1_0.branch_cover_img,b1_0.branch_manager_name,b1_0.branch_manager_surname,b1_0.branch_name,b1_0.city,b1_0.company_id,b1_0.latitude,b1_0.location,b1_0.login_email,b1_0.logo_img,b1_0.longitude,b1_0.mobile,b1_0.password,b1_0.status from branch b1_0 where b1_0.branch_id=2;
2025-12-11T11:55:58.143+04:00 DEBUG 31548 --- [carservices] [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        c1_0.company_id,
        c1_0.brand_name,
        c1_0.company_name,
        c1_0.manager_email,
        c1_0.manager_mobile,
        c1_0.manager_name,
        c1_0.manager_phone,
        c1_0.manager_surname,
        c1_0.password,
        c1_0.tax_id,
        c1_0.tin_photo,
        c1_0.website 
    from
        company c1_0 
    where
        c1_0.company_id=?
2025-12-11T11:55:58.144+04:00 TRACE 31548 --- [carservices] [http-nio-8081-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-12-11T11:55:58.145+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1765439758145 | took 0ms | statement | connection 470| url jdbc:p6spy:postgresql://localhost:5433/testdb
select c1_0.company_id,c1_0.brand_name,c1_0.company_name,c1_0.manager_email,c1_0.manager_mobile,c1_0.manager_name,c1_0.manager_phone,c1_0.manager_surname,c1_0.password,c1_0.tax_id,c1_0.tin_photo,c1_0.website from company c1_0 where c1_0.company_id=?
select c1_0.company_id,c1_0.brand_name,c1_0.company_name,c1_0.manager_email,c1_0.manager_mobile,c1_0.manager_name,c1_0.manager_phone,c1_0.manager_surname,c1_0.password,c1_0.tax_id,c1_0.tin_photo,c1_0.website from company c1_0 where c1_0.company_id=1;
2025-12-11T11:55:58.147+04:00 ERROR 31548 --- [carservices] [http-nio-8081-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor]] with root cause

com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: java.util.ArrayList[0]->com.car.carservices.entity.BranchBrandService["branch"]->com.car.carservices.entity.Branch$HibernateProxy["company"]->com.car.carservices.entity.Company$HibernateProxy["hibernateLazyInitializer"])
	at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1340) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:414) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.failForEmpty(UnknownSerializer.java:53) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.serialize(UnknownSerializer.java:30) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:770) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:184) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:770) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:184) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:770) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:184) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serializeContents(CollectionSerializer.java:145) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:107) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:25) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:502) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:422) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1583) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1061) ~[jackson-databind-2.18.3.jar:2.18.3]
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:486) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:126) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:345) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.handleReturnValue(RequestResponseBodyMethodProcessor.java:208) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:136) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.40.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.40.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.6.jar:6.2.6]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.springframework.web.filter.AbstractRequestLoggingFilter.doFilterInternal(AbstractRequestLoggingFilter.java:289) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.5.jar:6.4.5]
	at com.car.carservices.security.PRJwtAuthFilter.doFilterInternal(PRJwtAuthFilter.java:38) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.5.jar:6.4.5]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.6.jar:6.2.6]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-11T11:56:25.147+04:00 DEBUG 31548 --- [carservices] [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        bbs1_0.id,
        bbs1_0.branch_id,
        bbs1_0.brand_id,
        bbs1_0.experts,
        bbs1_0.qty,
        bbs1_0.service_id,
        bbs1_0.status 
    from
        branch_brand_service bbs1_0
2025-12-11T11:56:25.149+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-6] p6spy                                    : #1765439785149 | took 0ms | statement | connection 470| url jdbc:p6spy:postgresql://localhost:5433/testdb
select bbs1_0.id,bbs1_0.branch_id,bbs1_0.brand_id,bbs1_0.experts,bbs1_0.qty,bbs1_0.service_id,bbs1_0.status from branch_brand_service bbs1_0
select bbs1_0.id,bbs1_0.branch_id,bbs1_0.brand_id,bbs1_0.experts,bbs1_0.qty,bbs1_0.service_id,bbs1_0.status from branch_brand_service bbs1_0;
2025-12-11T11:56:25.152+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-6] p6spy                                    : #1765439785152 | took 0ms | commit | connection 470| url jdbc:p6spy:postgresql://localhost:5433/testdb

;
2025-12-11T11:56:25.155+04:00 DEBUG 31548 --- [carservices] [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        b1_0.branch_id,
        b1_0.address,
        b1_0.branch_address,
        b1_0.branch_code,
        b1_0.branch_cover_img,
        b1_0.branch_manager_name,
        b1_0.branch_manager_surname,
        b1_0.branch_name,
        b1_0.city,
        b1_0.company_id,
        b1_0.latitude,
        b1_0.location,
        b1_0.login_email,
        b1_0.logo_img,
        b1_0.longitude,
        b1_0.mobile,
        b1_0.password,
        b1_0.status 
    from
        branch b1_0 
    where
        b1_0.branch_id=?
2025-12-11T11:56:25.156+04:00 TRACE 31548 --- [carservices] [http-nio-8081-exec-6] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [2]
2025-12-11T11:56:25.156+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-6] p6spy                                    : #1765439785156 | took 0ms | statement | connection 470| url jdbc:p6spy:postgresql://localhost:5433/testdb
select b1_0.branch_id,b1_0.address,b1_0.branch_address,b1_0.branch_code,b1_0.branch_cover_img,b1_0.branch_manager_name,b1_0.branch_manager_surname,b1_0.branch_name,b1_0.city,b1_0.company_id,b1_0.latitude,b1_0.location,b1_0.login_email,b1_0.logo_img,b1_0.longitude,b1_0.mobile,b1_0.password,b1_0.status from branch b1_0 where b1_0.branch_id=?
select b1_0.branch_id,b1_0.address,b1_0.branch_address,b1_0.branch_code,b1_0.branch_cover_img,b1_0.branch_manager_name,b1_0.branch_manager_surname,b1_0.branch_name,b1_0.city,b1_0.company_id,b1_0.latitude,b1_0.location,b1_0.login_email,b1_0.logo_img,b1_0.longitude,b1_0.mobile,b1_0.password,b1_0.status from branch b1_0 where b1_0.branch_id=2;
2025-12-11T11:56:25.157+04:00 DEBUG 31548 --- [carservices] [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        c1_0.company_id,
        c1_0.brand_name,
        c1_0.company_name,
        c1_0.manager_email,
        c1_0.manager_mobile,
        c1_0.manager_name,
        c1_0.manager_phone,
        c1_0.manager_surname,
        c1_0.password,
        c1_0.tax_id,
        c1_0.tin_photo,
        c1_0.website 
    from
        company c1_0 
    where
        c1_0.company_id=?
2025-12-11T11:56:25.158+04:00 TRACE 31548 --- [carservices] [http-nio-8081-exec-6] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-12-11T11:56:25.158+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-6] p6spy                                    : #1765439785158 | took 0ms | statement | connection 470| url jdbc:p6spy:postgresql://localhost:5433/testdb
select c1_0.company_id,c1_0.brand_name,c1_0.company_name,c1_0.manager_email,c1_0.manager_mobile,c1_0.manager_name,c1_0.manager_phone,c1_0.manager_surname,c1_0.password,c1_0.tax_id,c1_0.tin_photo,c1_0.website from company c1_0 where c1_0.company_id=?
select c1_0.company_id,c1_0.brand_name,c1_0.company_name,c1_0.manager_email,c1_0.manager_mobile,c1_0.manager_name,c1_0.manager_phone,c1_0.manager_surname,c1_0.password,c1_0.tax_id,c1_0.tin_photo,c1_0.website from company c1_0 where c1_0.company_id=1;
2025-12-11T11:56:25.160+04:00 ERROR 31548 --- [carservices] [http-nio-8081-exec-6] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor]] with root cause

com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: java.util.ArrayList[0]->com.car.carservices.entity.BranchBrandService["branch"]->com.car.carservices.entity.Branch$HibernateProxy["company"]->com.car.carservices.entity.Company$HibernateProxy["hibernateLazyInitializer"])
	at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1340) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:414) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.failForEmpty(UnknownSerializer.java:53) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.serialize(UnknownSerializer.java:30) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:770) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:184) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:770) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:184) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:770) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:184) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serializeContents(CollectionSerializer.java:145) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:107) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:25) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:502) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:422) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1583) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1061) ~[jackson-databind-2.18.3.jar:2.18.3]
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:486) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:126) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:345) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.handleReturnValue(RequestResponseBodyMethodProcessor.java:208) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:136) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.40.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.40.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.6.jar:6.2.6]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.springframework.web.filter.AbstractRequestLoggingFilter.doFilterInternal(AbstractRequestLoggingFilter.java:289) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.5.jar:6.4.5]
	at com.car.carservices.security.PRJwtAuthFilter.doFilterInternal(PRJwtAuthFilter.java:38) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.5.jar:6.4.5]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.6.jar:6.2.6]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-11T11:57:24.020+04:00  INFO 31548 --- [carservices] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-12-11T11:57:24.024+04:00  INFO 31548 --- [carservices] [Thread-11] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-12-11T11:57:24.039+04:00  INFO 31548 --- [carservices] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-12-11T11:57:24.048+04:00  INFO 31548 --- [carservices] [Thread-11] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-11T11:57:24.050+04:00  INFO 31548 --- [carservices] [Thread-11] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Shutdown initiated...
2025-12-11T11:57:24.054+04:00  INFO 31548 --- [carservices] [Thread-11] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Shutdown completed.
2025-12-11T11:57:24.252+04:00  INFO 31548 --- [carservices] [restartedMain] c.c.carservices.CarservicesApplication   : Starting CarservicesApplication using Java 21.0.7 with PID 31548 (C:\Grand BackUp\Sheikh-2\Private\Sheikhkashifiqbal\temp\Spare Parts Project\SpringBoot\car-dev-1\carservices\target\classes started by lenovo in C:\Grand BackUp\Sheikh-2\Private\Sheikhkashifiqbal\temp\Spare Parts Project\SpringBoot\car-dev-1\carservices)
2025-12-11T11:57:24.253+04:00  INFO 31548 --- [carservices] [restartedMain] c.c.carservices.CarservicesApplication   : No active profile set, falling back to 1 default profile: "default"
2025-12-11T11:57:24.988+04:00  INFO 31548 --- [carservices] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-11T11:57:25.177+04:00  INFO 31548 --- [carservices] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 186 ms. Found 40 JPA repository interfaces.
2025-12-11T11:57:25.404+04:00  INFO 31548 --- [carservices] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-12-11T11:57:25.408+04:00  INFO 31548 --- [carservices] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-11T11:57:25.408+04:00  INFO 31548 --- [carservices] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-12-11T11:57:25.456+04:00  INFO 31548 --- [carservices] [restartedMain] o.a.c.c.C.[Tomcat-3].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2025-12-11T11:57:25.458+04:00  INFO 31548 --- [carservices] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1202 ms
2025-12-11T11:57:25.598+04:00  INFO 31548 --- [carservices] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-11T11:57:25.602+04:00  INFO 31548 --- [carservices] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-12-11T11:57:25.643+04:00  INFO 31548 --- [carservices] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-11T11:57:25.648+04:00  INFO 31548 --- [carservices] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-7 - Starting...
2025-12-11T11:57:25.705+04:00  INFO 31548 --- [carservices] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-7 - Added connection com.p6spy.engine.wrapper.ConnectionWrapper@19203463
2025-12-11T11:57:25.705+04:00  INFO 31548 --- [carservices] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-7 - Start completed.
2025-12-11T11:57:25.727+04:00  WARN 31548 --- [carservices] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-11T11:57:25.729+04:00  INFO 31548 --- [carservices] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-7)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-11T11:57:26.239+04:00  INFO 31548 --- [carservices] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-11T11:57:26.253+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439846253 | took 8ms | statement | connection 480| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from information_schema.sequences
select * from information_schema.sequences;
2025-12-11T11:57:26.293+04:00  INFO 31548 --- [carservices] [restartedMain] t.s.e.i.AbstractInformationExtractorImpl : HHH000475: Cannot locate column information using identifier [lower((manager_email)::text)]; ignoring index [ux_company_manager_email]
2025-12-11T11:57:26.294+04:00 DEBUG 31548 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       drop constraint if exists ux_company_company_name_ci
2025-12-11T11:57:26.297+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439846297 | took 2ms | statement | connection 480| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       drop constraint if exists ux_company_company_name_ci

    alter table if exists company 
       drop constraint if exists ux_company_company_name_ci;
2025-12-11T11:57:26.297+04:00  WARN 31548 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2025-12-11T11:57:26.297+04:00  WARN 31548 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "ux_company_company_name_ci" of relation "company" does not exist, skipping
2025-12-11T11:57:26.298+04:00 DEBUG 31548 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       add constraint ux_company_company_name_ci unique (company_name)
2025-12-11T11:57:26.305+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439846305 | took 10ms | statement | connection 480| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       add constraint ux_company_company_name_ci unique (company_name)

    alter table if exists company 
       add constraint ux_company_company_name_ci unique (company_name);
2025-12-11T11:57:26.305+04:00 DEBUG 31548 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       drop constraint if exists ux_company_brand_name_ci
2025-12-11T11:57:26.309+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439846309 | took 1ms | statement | connection 480| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       drop constraint if exists ux_company_brand_name_ci

    alter table if exists company 
       drop constraint if exists ux_company_brand_name_ci;
2025-12-11T11:57:26.309+04:00  WARN 31548 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2025-12-11T11:57:26.311+04:00  WARN 31548 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "ux_company_brand_name_ci" of relation "company" does not exist, skipping
2025-12-11T11:57:26.311+04:00 DEBUG 31548 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       add constraint ux_company_brand_name_ci unique (brand_name)
2025-12-11T11:57:26.311+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439846311 | took 3ms | statement | connection 480| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       add constraint ux_company_brand_name_ci unique (brand_name)

    alter table if exists company 
       add constraint ux_company_brand_name_ci unique (brand_name);
2025-12-11T11:57:26.440+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439846440 | took 2ms | statement | connection 480| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."company" where 1=0
select * from "public"."company" where 1=0;
2025-12-11T11:57:26.519+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439846519 | took 2ms | statement | connection 480| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."branch" where 1=0
select * from "public"."branch" where 1=0;
2025-12-11T11:57:26.523+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439846523 | took 2ms | statement | connection 480| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-12-11T11:57:26.534+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439846534 | took 1ms | statement | connection 480| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."service_entity" where 1=0
select * from "public"."service_entity" where 1=0;
2025-12-11T11:57:26.623+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439846623 | took 0ms | statement | connection 480| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."branch" where 1=0
select * from "public"."branch" where 1=0;
2025-12-11T11:57:26.626+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439846626 | took 0ms | statement | connection 480| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-12-11T11:57:26.627+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439846627 | took 1ms | statement | connection 480| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."spare_parts" where 1=0
select * from "public"."spare_parts" where 1=0;
2025-12-11T11:57:26.706+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439846706 | took 0ms | statement | connection 480| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-12-11T11:57:26.788+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439846788 | took 0ms | statement | connection 480| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-12-11T11:57:26.794+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439846794 | took 2ms | statement | connection 480| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."user_registration" where 1=0
select * from "public"."user_registration" where 1=0;
2025-12-11T11:57:26.882+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439846882 | took 0ms | statement | connection 480| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."spare_parts" where 1=0
select * from "public"."spare_parts" where 1=0;
2025-12-11T11:57:26.962+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439846962 | took 1ms | statement | connection 480| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."problem" where 1=0
select * from "public"."problem" where 1=0;
2025-12-11T11:57:27.081+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765439847081 | took 0ms | statement | connection 480| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."branch" where 1=0
select * from "public"."branch" where 1=0;
2025-12-11T11:57:27.081+04:00  INFO 31548 --- [carservices] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-11T11:57:28.242+04:00  WARN 31548 --- [carservices] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-11T11:57:28.433+04:00  INFO 31548 --- [carservices] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-12-11T11:57:28.456+04:00  INFO 31548 --- [carservices] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2025-12-11T11:57:28.460+04:00  INFO 31548 --- [carservices] [restartedMain] c.c.carservices.CarservicesApplication   : Started CarservicesApplication in 4.284 seconds (process running for 163549.891)
2025-12-11T11:57:28.463+04:00  INFO 31548 --- [carservices] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-12-11T12:00:08.911+04:00  INFO 31548 --- [carservices] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-12-11T12:00:08.926+04:00  INFO 31548 --- [carservices] [Thread-24] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-12-11T12:00:08.941+04:00  INFO 31548 --- [carservices] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-12-11T12:00:08.949+04:00  INFO 31548 --- [carservices] [Thread-24] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-11T12:00:08.964+04:00  INFO 31548 --- [carservices] [Thread-24] com.zaxxer.hikari.HikariDataSource       : HikariPool-7 - Shutdown initiated...
2025-12-11T12:00:08.972+04:00  INFO 31548 --- [carservices] [Thread-24] com.zaxxer.hikari.HikariDataSource       : HikariPool-7 - Shutdown completed.
2025-12-11T12:00:09.246+04:00  INFO 31548 --- [carservices] [restartedMain] c.c.carservices.CarservicesApplication   : Starting CarservicesApplication using Java 21.0.7 with PID 31548 (C:\Grand BackUp\Sheikh-2\Private\Sheikhkashifiqbal\temp\Spare Parts Project\SpringBoot\car-dev-1\carservices\target\classes started by lenovo in C:\Grand BackUp\Sheikh-2\Private\Sheikhkashifiqbal\temp\Spare Parts Project\SpringBoot\car-dev-1\carservices)
2025-12-11T12:00:09.249+04:00  INFO 31548 --- [carservices] [restartedMain] c.c.carservices.CarservicesApplication   : No active profile set, falling back to 1 default profile: "default"
2025-12-11T12:00:10.183+04:00  INFO 31548 --- [carservices] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-11T12:00:10.509+04:00  INFO 31548 --- [carservices] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 324 ms. Found 40 JPA repository interfaces.
2025-12-11T12:00:10.694+04:00  INFO 31548 --- [carservices] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-12-11T12:00:10.694+04:00  INFO 31548 --- [carservices] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-11T12:00:10.694+04:00  INFO 31548 --- [carservices] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-12-11T12:00:10.735+04:00  INFO 31548 --- [carservices] [restartedMain] o.a.c.c.C.[Tomcat-3].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2025-12-11T12:00:10.735+04:00  INFO 31548 --- [carservices] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1486 ms
2025-12-11T12:00:10.861+04:00  INFO 31548 --- [carservices] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-11T12:00:10.878+04:00  INFO 31548 --- [carservices] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-12-11T12:00:10.939+04:00  INFO 31548 --- [carservices] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-11T12:00:10.958+04:00  INFO 31548 --- [carservices] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-8 - Starting...
2025-12-11T12:00:11.035+04:00  INFO 31548 --- [carservices] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-8 - Added connection com.p6spy.engine.wrapper.ConnectionWrapper@385f04b9
2025-12-11T12:00:11.035+04:00  INFO 31548 --- [carservices] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-8 - Start completed.
2025-12-11T12:00:11.047+04:00  WARN 31548 --- [carservices] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-11T12:00:11.049+04:00  INFO 31548 --- [carservices] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-8)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-11T12:00:11.675+04:00  INFO 31548 --- [carservices] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-11T12:00:11.686+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440011686 | took 9ms | statement | connection 490| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from information_schema.sequences
select * from information_schema.sequences;
2025-12-11T12:00:11.708+04:00  INFO 31548 --- [carservices] [restartedMain] t.s.e.i.AbstractInformationExtractorImpl : HHH000475: Cannot locate column information using identifier [lower((manager_email)::text)]; ignoring index [ux_company_manager_email]
2025-12-11T12:00:11.708+04:00 DEBUG 31548 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       drop constraint if exists ux_company_company_name_ci
2025-12-11T12:00:11.710+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440011710 | took 2ms | statement | connection 490| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       drop constraint if exists ux_company_company_name_ci

    alter table if exists company 
       drop constraint if exists ux_company_company_name_ci;
2025-12-11T12:00:11.710+04:00  WARN 31548 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2025-12-11T12:00:11.711+04:00  WARN 31548 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "ux_company_company_name_ci" of relation "company" does not exist, skipping
2025-12-11T12:00:11.711+04:00 DEBUG 31548 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       add constraint ux_company_company_name_ci unique (company_name)
2025-12-11T12:00:11.719+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440011719 | took 7ms | statement | connection 490| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       add constraint ux_company_company_name_ci unique (company_name)

    alter table if exists company 
       add constraint ux_company_company_name_ci unique (company_name);
2025-12-11T12:00:11.719+04:00 DEBUG 31548 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       drop constraint if exists ux_company_brand_name_ci
2025-12-11T12:00:11.720+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440011720 | took 0ms | statement | connection 490| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       drop constraint if exists ux_company_brand_name_ci

    alter table if exists company 
       drop constraint if exists ux_company_brand_name_ci;
2025-12-11T12:00:11.720+04:00  WARN 31548 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2025-12-11T12:00:11.720+04:00  WARN 31548 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "ux_company_brand_name_ci" of relation "company" does not exist, skipping
2025-12-11T12:00:11.720+04:00 DEBUG 31548 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       add constraint ux_company_brand_name_ci unique (brand_name)
2025-12-11T12:00:11.723+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440011723 | took 2ms | statement | connection 490| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       add constraint ux_company_brand_name_ci unique (brand_name)

    alter table if exists company 
       add constraint ux_company_brand_name_ci unique (brand_name);
2025-12-11T12:00:11.837+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440011837 | took 2ms | statement | connection 490| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."company" where 1=0
select * from "public"."company" where 1=0;
2025-12-11T12:00:11.958+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440011958 | took 2ms | statement | connection 490| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."branch" where 1=0
select * from "public"."branch" where 1=0;
2025-12-11T12:00:11.964+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440011964 | took 1ms | statement | connection 490| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-12-11T12:00:11.969+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440011969 | took 1ms | statement | connection 490| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."service_entity" where 1=0
select * from "public"."service_entity" where 1=0;
2025-12-11T12:00:12.068+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440012068 | took 0ms | statement | connection 490| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."branch" where 1=0
select * from "public"."branch" where 1=0;
2025-12-11T12:00:12.070+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440012070 | took 0ms | statement | connection 490| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-12-11T12:00:12.073+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440012073 | took 1ms | statement | connection 490| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."spare_parts" where 1=0
select * from "public"."spare_parts" where 1=0;
2025-12-11T12:00:12.178+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440012178 | took 0ms | statement | connection 490| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-12-11T12:00:12.252+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440012252 | took 0ms | statement | connection 490| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-12-11T12:00:12.257+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440012257 | took 2ms | statement | connection 490| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."user_registration" where 1=0
select * from "public"."user_registration" where 1=0;
2025-12-11T12:00:12.352+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440012352 | took 0ms | statement | connection 490| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."spare_parts" where 1=0
select * from "public"."spare_parts" where 1=0;
2025-12-11T12:00:12.439+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440012439 | took 1ms | statement | connection 490| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."problem" where 1=0
select * from "public"."problem" where 1=0;
2025-12-11T12:00:12.524+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440012524 | took 0ms | statement | connection 490| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."branch" where 1=0
select * from "public"."branch" where 1=0;
2025-12-11T12:00:12.524+04:00  INFO 31548 --- [carservices] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-11T12:00:13.125+04:00  WARN 31548 --- [carservices] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'disableServiceController' defined in file [C:\Grand BackUp\Sheikh-2\Private\Sheikhkashifiqbal\temp\Spare Parts Project\SpringBoot\car-dev-1\carservices\target\classes\com\car\carservices\controller\DisableServiceController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'disableServiceService' defined in file [C:\Grand BackUp\Sheikh-2\Private\Sheikhkashifiqbal\temp\Spare Parts Project\SpringBoot\car-dev-1\carservices\target\classes\com\car\carservices\service\DisableServiceService.class]: Failed to instantiate [com.car.carservices.service.DisableServiceService]: Constructor threw exception
2025-12-11T12:00:13.131+04:00  INFO 31548 --- [carservices] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-11T12:00:13.132+04:00  INFO 31548 --- [carservices] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-8 - Shutdown initiated...
2025-12-11T12:00:13.135+04:00  INFO 31548 --- [carservices] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-8 - Shutdown completed.
2025-12-11T12:00:13.136+04:00  INFO 31548 --- [carservices] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-12-11T12:00:13.145+04:00  INFO 31548 --- [carservices] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-12-11T12:00:13.149+04:00 ERROR 31548 --- [carservices] [restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'disableServiceController' defined in file [C:\Grand BackUp\Sheikh-2\Private\Sheikhkashifiqbal\temp\Spare Parts Project\SpringBoot\car-dev-1\carservices\target\classes\com\car\carservices\controller\DisableServiceController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'disableServiceService' defined in file [C:\Grand BackUp\Sheikh-2\Private\Sheikhkashifiqbal\temp\Spare Parts Project\SpringBoot\car-dev-1\carservices\target\classes\com\car\carservices\service\DisableServiceService.class]: Failed to instantiate [com.car.carservices.service.DisableServiceService]: Constructor threw exception
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1387) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1224) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1221) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1187) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1122) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987) ~[spring-context-6.2.6.jar:6.2.6]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.6.jar:6.2.6]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.5.jar:3.4.5]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753) ~[spring-boot-3.4.5.jar:3.4.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.5.jar:3.4.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.5.jar:3.4.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362) ~[spring-boot-3.4.5.jar:3.4.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351) ~[spring-boot-3.4.5.jar:3.4.5]
	at com.car.carservices.CarservicesApplication.main(CarservicesApplication.java:11) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.4.5.jar:3.4.5]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'disableServiceService' defined in file [C:\Grand BackUp\Sheikh-2\Private\Sheikhkashifiqbal\temp\Spare Parts Project\SpringBoot\car-dev-1\carservices\target\classes\com\car\carservices\service\DisableServiceService.class]: Failed to instantiate [com.car.carservices.service.DisableServiceService]: Constructor threw exception
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:321) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:309) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1387) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1224) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1739) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1627) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-6.2.6.jar:6.2.6]
	... 24 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.car.carservices.service.DisableServiceService]: Constructor threw exception
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:222) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:145) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:318) ~[spring-beans-6.2.6.jar:6.2.6]
	... 38 common frames omitted
Caused by: java.lang.Error: Unresolved compilation problem: 
	The public type DisableServiceService must be defined in its own file

	at com.car.carservices.service.DisableServiceService.<init>(DisableService.java:13) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:62) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:502) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:486) ~[na:na]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:209) ~[spring-beans-6.2.6.jar:6.2.6]
	... 40 common frames omitted

2025-12-11T12:00:43.449+04:00  INFO 31548 --- [carservices] [restartedMain] c.c.carservices.CarservicesApplication   : Starting CarservicesApplication using Java 21.0.7 with PID 31548 (C:\Grand BackUp\Sheikh-2\Private\Sheikhkashifiqbal\temp\Spare Parts Project\SpringBoot\car-dev-1\carservices\target\classes started by lenovo in C:\Grand BackUp\Sheikh-2\Private\Sheikhkashifiqbal\temp\Spare Parts Project\SpringBoot\car-dev-1\carservices)
2025-12-11T12:00:43.450+04:00  INFO 31548 --- [carservices] [restartedMain] c.c.carservices.CarservicesApplication   : No active profile set, falling back to 1 default profile: "default"
2025-12-11T12:00:44.268+04:00  INFO 31548 --- [carservices] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-11T12:00:44.618+04:00  INFO 31548 --- [carservices] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 346 ms. Found 40 JPA repository interfaces.
2025-12-11T12:00:44.796+04:00  INFO 31548 --- [carservices] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-12-11T12:00:44.796+04:00  INFO 31548 --- [carservices] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-11T12:00:44.796+04:00  INFO 31548 --- [carservices] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-12-11T12:00:44.836+04:00  INFO 31548 --- [carservices] [restartedMain] o.a.c.c.C.[Tomcat-4].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2025-12-11T12:00:44.836+04:00  INFO 31548 --- [carservices] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1383 ms
2025-12-11T12:00:44.955+04:00  INFO 31548 --- [carservices] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-11T12:00:44.961+04:00  INFO 31548 --- [carservices] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-12-11T12:00:44.983+04:00  INFO 31548 --- [carservices] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-11T12:00:44.984+04:00  INFO 31548 --- [carservices] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-9 - Starting...
2025-12-11T12:00:45.164+04:00  INFO 31548 --- [carservices] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-9 - Added connection com.p6spy.engine.wrapper.ConnectionWrapper@760fb92f
2025-12-11T12:00:45.165+04:00  INFO 31548 --- [carservices] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-9 - Start completed.
2025-12-11T12:00:45.178+04:00  WARN 31548 --- [carservices] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-11T12:00:45.180+04:00  INFO 31548 --- [carservices] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-9)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-11T12:00:45.666+04:00  INFO 31548 --- [carservices] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-11T12:00:45.678+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440045678 | took 10ms | statement | connection 500| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from information_schema.sequences
select * from information_schema.sequences;
2025-12-11T12:00:45.712+04:00  INFO 31548 --- [carservices] [restartedMain] t.s.e.i.AbstractInformationExtractorImpl : HHH000475: Cannot locate column information using identifier [lower((manager_email)::text)]; ignoring index [ux_company_manager_email]
2025-12-11T12:00:45.713+04:00 DEBUG 31548 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       drop constraint if exists ux_company_company_name_ci
2025-12-11T12:00:45.718+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440045718 | took 4ms | statement | connection 500| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       drop constraint if exists ux_company_company_name_ci

    alter table if exists company 
       drop constraint if exists ux_company_company_name_ci;
2025-12-11T12:00:45.719+04:00  WARN 31548 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2025-12-11T12:00:45.719+04:00  WARN 31548 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "ux_company_company_name_ci" of relation "company" does not exist, skipping
2025-12-11T12:00:45.719+04:00 DEBUG 31548 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       add constraint ux_company_company_name_ci unique (company_name)
2025-12-11T12:00:45.728+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440045728 | took 8ms | statement | connection 500| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       add constraint ux_company_company_name_ci unique (company_name)

    alter table if exists company 
       add constraint ux_company_company_name_ci unique (company_name);
2025-12-11T12:00:45.728+04:00 DEBUG 31548 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       drop constraint if exists ux_company_brand_name_ci
2025-12-11T12:00:45.730+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440045730 | took 1ms | statement | connection 500| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       drop constraint if exists ux_company_brand_name_ci

    alter table if exists company 
       drop constraint if exists ux_company_brand_name_ci;
2025-12-11T12:00:45.730+04:00  WARN 31548 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2025-12-11T12:00:45.730+04:00  WARN 31548 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "ux_company_brand_name_ci" of relation "company" does not exist, skipping
2025-12-11T12:00:45.730+04:00 DEBUG 31548 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       add constraint ux_company_brand_name_ci unique (brand_name)
2025-12-11T12:00:45.737+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440045737 | took 6ms | statement | connection 500| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       add constraint ux_company_brand_name_ci unique (brand_name)

    alter table if exists company 
       add constraint ux_company_brand_name_ci unique (brand_name);
2025-12-11T12:00:45.885+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440045885 | took 2ms | statement | connection 500| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."company" where 1=0
select * from "public"."company" where 1=0;
2025-12-11T12:00:45.959+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440045959 | took 2ms | statement | connection 500| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."branch" where 1=0
select * from "public"."branch" where 1=0;
2025-12-11T12:00:45.973+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440045973 | took 1ms | statement | connection 500| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-12-11T12:00:45.979+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440045979 | took 1ms | statement | connection 500| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."service_entity" where 1=0
select * from "public"."service_entity" where 1=0;
2025-12-11T12:00:46.126+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440046126 | took 0ms | statement | connection 500| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."branch" where 1=0
select * from "public"."branch" where 1=0;
2025-12-11T12:00:46.128+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440046128 | took 0ms | statement | connection 500| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-12-11T12:00:46.135+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440046135 | took 3ms | statement | connection 500| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."spare_parts" where 1=0
select * from "public"."spare_parts" where 1=0;
2025-12-11T12:00:46.230+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440046230 | took 0ms | statement | connection 500| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-12-11T12:00:46.341+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440046341 | took 0ms | statement | connection 500| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-12-11T12:00:46.346+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440046346 | took 2ms | statement | connection 500| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."user_registration" where 1=0
select * from "public"."user_registration" where 1=0;
2025-12-11T12:00:46.446+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440046446 | took 0ms | statement | connection 500| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."spare_parts" where 1=0
select * from "public"."spare_parts" where 1=0;
2025-12-11T12:00:46.587+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440046587 | took 2ms | statement | connection 500| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."problem" where 1=0
select * from "public"."problem" where 1=0;
2025-12-11T12:00:46.666+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440046666 | took 0ms | statement | connection 500| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."branch" where 1=0
select * from "public"."branch" where 1=0;
2025-12-11T12:00:46.666+04:00  INFO 31548 --- [carservices] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-11T12:00:47.790+04:00  WARN 31548 --- [carservices] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-11T12:00:48.041+04:00  INFO 31548 --- [carservices] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-12-11T12:00:48.063+04:00  INFO 31548 --- [carservices] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2025-12-11T12:00:48.077+04:00  INFO 31548 --- [carservices] [restartedMain] c.c.carservices.CarservicesApplication   : Started CarservicesApplication in 4.664 seconds (process running for 163749.507)
2025-12-11T12:00:48.080+04:00  INFO 31548 --- [carservices] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-12-11T12:00:49.033+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-10] o.a.c.c.C.[Tomcat-4].[localhost].[/]     : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-11T12:00:49.034+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-11T12:00:49.036+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-12-11T12:00:49.054+04:00 DEBUG 31548 --- [carservices] [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        bbs1_0.id,
        bbs1_0.branch_id,
        bbs1_0.brand_id,
        bbs1_0.experts,
        bbs1_0.qty,
        bbs1_0.service_id,
        bbs1_0.status 
    from
        branch_brand_service bbs1_0
2025-12-11T12:00:49.062+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-10] p6spy                                    : #1765440049062 | took 6ms | statement | connection 500| url jdbc:p6spy:postgresql://localhost:5433/testdb
select bbs1_0.id,bbs1_0.branch_id,bbs1_0.brand_id,bbs1_0.experts,bbs1_0.qty,bbs1_0.service_id,bbs1_0.status from branch_brand_service bbs1_0
select bbs1_0.id,bbs1_0.branch_id,bbs1_0.brand_id,bbs1_0.experts,bbs1_0.qty,bbs1_0.service_id,bbs1_0.status from branch_brand_service bbs1_0;
2025-12-11T12:00:49.068+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-10] p6spy                                    : #1765440049068 | took 1ms | commit | connection 500| url jdbc:p6spy:postgresql://localhost:5433/testdb

;
2025-12-11T12:00:49.089+04:00 DEBUG 31548 --- [carservices] [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        b1_0.branch_id,
        b1_0.address,
        b1_0.branch_address,
        b1_0.branch_code,
        b1_0.branch_cover_img,
        b1_0.branch_manager_name,
        b1_0.branch_manager_surname,
        b1_0.branch_name,
        b1_0.city,
        b1_0.company_id,
        b1_0.latitude,
        b1_0.location,
        b1_0.login_email,
        b1_0.logo_img,
        b1_0.longitude,
        b1_0.mobile,
        b1_0.password,
        b1_0.status 
    from
        branch b1_0 
    where
        b1_0.branch_id=?
2025-12-11T12:00:49.089+04:00 TRACE 31548 --- [carservices] [http-nio-8081-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [2]
2025-12-11T12:00:49.092+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-10] p6spy                                    : #1765440049092 | took 1ms | statement | connection 500| url jdbc:p6spy:postgresql://localhost:5433/testdb
select b1_0.branch_id,b1_0.address,b1_0.branch_address,b1_0.branch_code,b1_0.branch_cover_img,b1_0.branch_manager_name,b1_0.branch_manager_surname,b1_0.branch_name,b1_0.city,b1_0.company_id,b1_0.latitude,b1_0.location,b1_0.login_email,b1_0.logo_img,b1_0.longitude,b1_0.mobile,b1_0.password,b1_0.status from branch b1_0 where b1_0.branch_id=?
select b1_0.branch_id,b1_0.address,b1_0.branch_address,b1_0.branch_code,b1_0.branch_cover_img,b1_0.branch_manager_name,b1_0.branch_manager_surname,b1_0.branch_name,b1_0.city,b1_0.company_id,b1_0.latitude,b1_0.location,b1_0.login_email,b1_0.logo_img,b1_0.longitude,b1_0.mobile,b1_0.password,b1_0.status from branch b1_0 where b1_0.branch_id=2;
2025-12-11T12:00:49.099+04:00 DEBUG 31548 --- [carservices] [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        c1_0.company_id,
        c1_0.brand_name,
        c1_0.company_name,
        c1_0.manager_email,
        c1_0.manager_mobile,
        c1_0.manager_name,
        c1_0.manager_phone,
        c1_0.manager_surname,
        c1_0.password,
        c1_0.tax_id,
        c1_0.tin_photo,
        c1_0.website 
    from
        company c1_0 
    where
        c1_0.company_id=?
2025-12-11T12:00:49.099+04:00 TRACE 31548 --- [carservices] [http-nio-8081-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-12-11T12:00:49.101+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-10] p6spy                                    : #1765440049101 | took 0ms | statement | connection 500| url jdbc:p6spy:postgresql://localhost:5433/testdb
select c1_0.company_id,c1_0.brand_name,c1_0.company_name,c1_0.manager_email,c1_0.manager_mobile,c1_0.manager_name,c1_0.manager_phone,c1_0.manager_surname,c1_0.password,c1_0.tax_id,c1_0.tin_photo,c1_0.website from company c1_0 where c1_0.company_id=?
select c1_0.company_id,c1_0.brand_name,c1_0.company_name,c1_0.manager_email,c1_0.manager_mobile,c1_0.manager_name,c1_0.manager_phone,c1_0.manager_surname,c1_0.password,c1_0.tax_id,c1_0.tin_photo,c1_0.website from company c1_0 where c1_0.company_id=1;
2025-12-11T12:00:49.109+04:00 ERROR 31548 --- [carservices] [http-nio-8081-exec-10] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor]] with root cause

com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: java.util.ArrayList[0]->com.car.carservices.entity.BranchBrandService["branch"]->com.car.carservices.entity.Branch$HibernateProxy["company"]->com.car.carservices.entity.Company$HibernateProxy["hibernateLazyInitializer"])
	at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1340) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:414) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.failForEmpty(UnknownSerializer.java:53) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.serialize(UnknownSerializer.java:30) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:770) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:184) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:770) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:184) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:770) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:184) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serializeContents(CollectionSerializer.java:145) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:107) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:25) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:502) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:422) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1583) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1061) ~[jackson-databind-2.18.3.jar:2.18.3]
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:486) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:126) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:345) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.handleReturnValue(RequestResponseBodyMethodProcessor.java:208) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:136) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.40.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.40.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.6.jar:6.2.6]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.springframework.web.filter.AbstractRequestLoggingFilter.doFilterInternal(AbstractRequestLoggingFilter.java:289) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.5.jar:6.4.5]
	at com.car.carservices.security.PRJwtAuthFilter.doFilterInternal(PRJwtAuthFilter.java:38) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.5.jar:6.4.5]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.6.jar:6.2.6]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-11T12:00:51.522+04:00 DEBUG 31548 --- [carservices] [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        bbs1_0.id,
        bbs1_0.branch_id,
        bbs1_0.brand_id,
        bbs1_0.experts,
        bbs1_0.qty,
        bbs1_0.service_id,
        bbs1_0.status 
    from
        branch_brand_service bbs1_0
2025-12-11T12:00:51.523+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1765440051523 | took 0ms | statement | connection 500| url jdbc:p6spy:postgresql://localhost:5433/testdb
select bbs1_0.id,bbs1_0.branch_id,bbs1_0.brand_id,bbs1_0.experts,bbs1_0.qty,bbs1_0.service_id,bbs1_0.status from branch_brand_service bbs1_0
select bbs1_0.id,bbs1_0.branch_id,bbs1_0.brand_id,bbs1_0.experts,bbs1_0.qty,bbs1_0.service_id,bbs1_0.status from branch_brand_service bbs1_0;
2025-12-11T12:00:51.529+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1765440051529 | took 0ms | commit | connection 500| url jdbc:p6spy:postgresql://localhost:5433/testdb

;
2025-12-11T12:00:51.531+04:00 DEBUG 31548 --- [carservices] [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        b1_0.branch_id,
        b1_0.address,
        b1_0.branch_address,
        b1_0.branch_code,
        b1_0.branch_cover_img,
        b1_0.branch_manager_name,
        b1_0.branch_manager_surname,
        b1_0.branch_name,
        b1_0.city,
        b1_0.company_id,
        b1_0.latitude,
        b1_0.location,
        b1_0.login_email,
        b1_0.logo_img,
        b1_0.longitude,
        b1_0.mobile,
        b1_0.password,
        b1_0.status 
    from
        branch b1_0 
    where
        b1_0.branch_id=?
2025-12-11T12:00:51.532+04:00 TRACE 31548 --- [carservices] [http-nio-8081-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [2]
2025-12-11T12:00:51.533+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1765440051533 | took 0ms | statement | connection 500| url jdbc:p6spy:postgresql://localhost:5433/testdb
select b1_0.branch_id,b1_0.address,b1_0.branch_address,b1_0.branch_code,b1_0.branch_cover_img,b1_0.branch_manager_name,b1_0.branch_manager_surname,b1_0.branch_name,b1_0.city,b1_0.company_id,b1_0.latitude,b1_0.location,b1_0.login_email,b1_0.logo_img,b1_0.longitude,b1_0.mobile,b1_0.password,b1_0.status from branch b1_0 where b1_0.branch_id=?
select b1_0.branch_id,b1_0.address,b1_0.branch_address,b1_0.branch_code,b1_0.branch_cover_img,b1_0.branch_manager_name,b1_0.branch_manager_surname,b1_0.branch_name,b1_0.city,b1_0.company_id,b1_0.latitude,b1_0.location,b1_0.login_email,b1_0.logo_img,b1_0.longitude,b1_0.mobile,b1_0.password,b1_0.status from branch b1_0 where b1_0.branch_id=2;
2025-12-11T12:00:51.535+04:00 DEBUG 31548 --- [carservices] [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        c1_0.company_id,
        c1_0.brand_name,
        c1_0.company_name,
        c1_0.manager_email,
        c1_0.manager_mobile,
        c1_0.manager_name,
        c1_0.manager_phone,
        c1_0.manager_surname,
        c1_0.password,
        c1_0.tax_id,
        c1_0.tin_photo,
        c1_0.website 
    from
        company c1_0 
    where
        c1_0.company_id=?
2025-12-11T12:00:51.536+04:00 TRACE 31548 --- [carservices] [http-nio-8081-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-12-11T12:00:51.537+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1765440051537 | took 0ms | statement | connection 500| url jdbc:p6spy:postgresql://localhost:5433/testdb
select c1_0.company_id,c1_0.brand_name,c1_0.company_name,c1_0.manager_email,c1_0.manager_mobile,c1_0.manager_name,c1_0.manager_phone,c1_0.manager_surname,c1_0.password,c1_0.tax_id,c1_0.tin_photo,c1_0.website from company c1_0 where c1_0.company_id=?
select c1_0.company_id,c1_0.brand_name,c1_0.company_name,c1_0.manager_email,c1_0.manager_mobile,c1_0.manager_name,c1_0.manager_phone,c1_0.manager_surname,c1_0.password,c1_0.tax_id,c1_0.tin_photo,c1_0.website from company c1_0 where c1_0.company_id=1;
2025-12-11T12:00:51.539+04:00 ERROR 31548 --- [carservices] [http-nio-8081-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor]] with root cause

com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: java.util.ArrayList[0]->com.car.carservices.entity.BranchBrandService["branch"]->com.car.carservices.entity.Branch$HibernateProxy["company"]->com.car.carservices.entity.Company$HibernateProxy["hibernateLazyInitializer"])
	at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1340) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:414) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.failForEmpty(UnknownSerializer.java:53) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.serialize(UnknownSerializer.java:30) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:770) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:184) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:770) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:184) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:770) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:184) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serializeContents(CollectionSerializer.java:145) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:107) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:25) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:502) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:422) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1583) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1061) ~[jackson-databind-2.18.3.jar:2.18.3]
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:486) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:126) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:345) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.handleReturnValue(RequestResponseBodyMethodProcessor.java:208) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:136) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.40.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.40.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.6.jar:6.2.6]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.springframework.web.filter.AbstractRequestLoggingFilter.doFilterInternal(AbstractRequestLoggingFilter.java:289) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.5.jar:6.4.5]
	at com.car.carservices.security.PRJwtAuthFilter.doFilterInternal(PRJwtAuthFilter.java:38) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.5.jar:6.4.5]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.6.jar:6.2.6]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-11T12:01:37.144+04:00  INFO 31548 --- [carservices] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-12-11T12:01:37.151+04:00  INFO 31548 --- [carservices] [Thread-28] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-12-11T12:01:37.162+04:00  INFO 31548 --- [carservices] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-12-11T12:01:37.171+04:00  INFO 31548 --- [carservices] [Thread-28] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-11T12:01:37.175+04:00  INFO 31548 --- [carservices] [Thread-28] com.zaxxer.hikari.HikariDataSource       : HikariPool-9 - Shutdown initiated...
2025-12-11T12:01:37.192+04:00  INFO 31548 --- [carservices] [Thread-28] com.zaxxer.hikari.HikariDataSource       : HikariPool-9 - Shutdown completed.
2025-12-11T12:01:37.349+04:00  INFO 31548 --- [carservices] [restartedMain] c.c.carservices.CarservicesApplication   : Starting CarservicesApplication using Java 21.0.7 with PID 31548 (C:\Grand BackUp\Sheikh-2\Private\Sheikhkashifiqbal\temp\Spare Parts Project\SpringBoot\car-dev-1\carservices\target\classes started by lenovo in C:\Grand BackUp\Sheikh-2\Private\Sheikhkashifiqbal\temp\Spare Parts Project\SpringBoot\car-dev-1\carservices)
2025-12-11T12:01:37.349+04:00  INFO 31548 --- [carservices] [restartedMain] c.c.carservices.CarservicesApplication   : No active profile set, falling back to 1 default profile: "default"
2025-12-11T12:01:38.263+04:00  INFO 31548 --- [carservices] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-11T12:01:38.527+04:00  INFO 31548 --- [carservices] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 263 ms. Found 40 JPA repository interfaces.
2025-12-11T12:01:38.757+04:00  INFO 31548 --- [carservices] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-12-11T12:01:38.758+04:00  INFO 31548 --- [carservices] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-11T12:01:38.758+04:00  INFO 31548 --- [carservices] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-12-11T12:01:38.807+04:00  INFO 31548 --- [carservices] [restartedMain] o.a.c.c.C.[Tomcat-4].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2025-12-11T12:01:38.808+04:00  INFO 31548 --- [carservices] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1455 ms
2025-12-11T12:01:38.910+04:00  INFO 31548 --- [carservices] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-11T12:01:38.915+04:00  INFO 31548 --- [carservices] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-12-11T12:01:38.938+04:00  INFO 31548 --- [carservices] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-11T12:01:38.939+04:00  INFO 31548 --- [carservices] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-10 - Starting...
2025-12-11T12:01:39.021+04:00  INFO 31548 --- [carservices] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-10 - Added connection com.p6spy.engine.wrapper.ConnectionWrapper@59fff6ae
2025-12-11T12:01:39.022+04:00  INFO 31548 --- [carservices] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-10 - Start completed.
2025-12-11T12:01:39.034+04:00  WARN 31548 --- [carservices] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-11T12:01:39.035+04:00  INFO 31548 --- [carservices] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-10)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-11T12:01:39.457+04:00  INFO 31548 --- [carservices] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-11T12:01:39.468+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440099468 | took 9ms | statement | connection 510| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from information_schema.sequences
select * from information_schema.sequences;
2025-12-11T12:01:39.490+04:00  INFO 31548 --- [carservices] [restartedMain] t.s.e.i.AbstractInformationExtractorImpl : HHH000475: Cannot locate column information using identifier [lower((manager_email)::text)]; ignoring index [ux_company_manager_email]
2025-12-11T12:01:39.491+04:00 DEBUG 31548 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       drop constraint if exists ux_company_company_name_ci
2025-12-11T12:01:39.493+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440099493 | took 1ms | statement | connection 510| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       drop constraint if exists ux_company_company_name_ci

    alter table if exists company 
       drop constraint if exists ux_company_company_name_ci;
2025-12-11T12:01:39.493+04:00  WARN 31548 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2025-12-11T12:01:39.493+04:00  WARN 31548 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "ux_company_company_name_ci" of relation "company" does not exist, skipping
2025-12-11T12:01:39.493+04:00 DEBUG 31548 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       add constraint ux_company_company_name_ci unique (company_name)
2025-12-11T12:01:39.500+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440099500 | took 7ms | statement | connection 510| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       add constraint ux_company_company_name_ci unique (company_name)

    alter table if exists company 
       add constraint ux_company_company_name_ci unique (company_name);
2025-12-11T12:01:39.500+04:00 DEBUG 31548 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       drop constraint if exists ux_company_brand_name_ci
2025-12-11T12:01:39.502+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440099502 | took 1ms | statement | connection 510| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       drop constraint if exists ux_company_brand_name_ci

    alter table if exists company 
       drop constraint if exists ux_company_brand_name_ci;
2025-12-11T12:01:39.502+04:00  WARN 31548 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2025-12-11T12:01:39.502+04:00  WARN 31548 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "ux_company_brand_name_ci" of relation "company" does not exist, skipping
2025-12-11T12:01:39.502+04:00 DEBUG 31548 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       add constraint ux_company_brand_name_ci unique (brand_name)
2025-12-11T12:01:39.506+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440099506 | took 3ms | statement | connection 510| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       add constraint ux_company_brand_name_ci unique (brand_name)

    alter table if exists company 
       add constraint ux_company_brand_name_ci unique (brand_name);
2025-12-11T12:01:39.611+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440099611 | took 2ms | statement | connection 510| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."company" where 1=0
select * from "public"."company" where 1=0;
2025-12-11T12:01:39.712+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440099712 | took 2ms | statement | connection 510| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."branch" where 1=0
select * from "public"."branch" where 1=0;
2025-12-11T12:01:39.722+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440099722 | took 2ms | statement | connection 510| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-12-11T12:01:39.731+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440099731 | took 2ms | statement | connection 510| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."service_entity" where 1=0
select * from "public"."service_entity" where 1=0;
2025-12-11T12:01:39.845+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440099845 | took 0ms | statement | connection 510| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."branch" where 1=0
select * from "public"."branch" where 1=0;
2025-12-11T12:01:39.849+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440099849 | took 0ms | statement | connection 510| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-12-11T12:01:39.853+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440099853 | took 2ms | statement | connection 510| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."spare_parts" where 1=0
select * from "public"."spare_parts" where 1=0;
2025-12-11T12:01:39.959+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440099959 | took 0ms | statement | connection 510| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-12-11T12:01:40.052+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440100052 | took 0ms | statement | connection 510| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-12-11T12:01:40.055+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440100055 | took 2ms | statement | connection 510| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."user_registration" where 1=0
select * from "public"."user_registration" where 1=0;
2025-12-11T12:01:40.178+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440100178 | took 0ms | statement | connection 510| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."spare_parts" where 1=0
select * from "public"."spare_parts" where 1=0;
2025-12-11T12:01:40.278+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440100278 | took 1ms | statement | connection 510| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."problem" where 1=0
select * from "public"."problem" where 1=0;
2025-12-11T12:01:40.386+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440100386 | took 0ms | statement | connection 510| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."branch" where 1=0
select * from "public"."branch" where 1=0;
2025-12-11T12:01:40.387+04:00  INFO 31548 --- [carservices] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-11T12:01:41.293+04:00  WARN 31548 --- [carservices] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-11T12:01:41.511+04:00  INFO 31548 --- [carservices] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-12-11T12:01:41.540+04:00  INFO 31548 --- [carservices] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2025-12-11T12:01:41.545+04:00  INFO 31548 --- [carservices] [restartedMain] c.c.carservices.CarservicesApplication   : Started CarservicesApplication in 4.238 seconds (process running for 163802.976)
2025-12-11T12:01:41.548+04:00  INFO 31548 --- [carservices] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-12-11T12:01:44.289+04:00  INFO 31548 --- [carservices] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-12-11T12:01:44.292+04:00  INFO 31548 --- [carservices] [Thread-35] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-12-11T12:01:44.296+04:00  INFO 31548 --- [carservices] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-12-11T12:01:44.300+04:00  INFO 31548 --- [carservices] [Thread-35] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-11T12:01:44.302+04:00  INFO 31548 --- [carservices] [Thread-35] com.zaxxer.hikari.HikariDataSource       : HikariPool-10 - Shutdown initiated...
2025-12-11T12:01:44.306+04:00  INFO 31548 --- [carservices] [Thread-35] com.zaxxer.hikari.HikariDataSource       : HikariPool-10 - Shutdown completed.
2025-12-11T12:01:44.434+04:00  INFO 31548 --- [carservices] [restartedMain] c.c.carservices.CarservicesApplication   : Starting CarservicesApplication using Java 21.0.7 with PID 31548 (C:\Grand BackUp\Sheikh-2\Private\Sheikhkashifiqbal\temp\Spare Parts Project\SpringBoot\car-dev-1\carservices\target\classes started by lenovo in C:\Grand BackUp\Sheikh-2\Private\Sheikhkashifiqbal\temp\Spare Parts Project\SpringBoot\car-dev-1\carservices)
2025-12-11T12:01:44.436+04:00  INFO 31548 --- [carservices] [restartedMain] c.c.carservices.CarservicesApplication   : No active profile set, falling back to 1 default profile: "default"
2025-12-11T12:01:45.076+04:00  INFO 31548 --- [carservices] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-11T12:01:45.286+04:00  INFO 31548 --- [carservices] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 207 ms. Found 40 JPA repository interfaces.
2025-12-11T12:01:45.440+04:00  INFO 31548 --- [carservices] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-12-11T12:01:45.441+04:00  INFO 31548 --- [carservices] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-11T12:01:45.441+04:00  INFO 31548 --- [carservices] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-12-11T12:01:45.467+04:00  INFO 31548 --- [carservices] [restartedMain] o.a.c.c.C.[Tomcat-4].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2025-12-11T12:01:45.467+04:00  INFO 31548 --- [carservices] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1030 ms
2025-12-11T12:01:45.546+04:00  INFO 31548 --- [carservices] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-11T12:01:45.564+04:00  INFO 31548 --- [carservices] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-12-11T12:01:45.581+04:00  INFO 31548 --- [carservices] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-11T12:01:45.582+04:00  INFO 31548 --- [carservices] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-11 - Starting...
2025-12-11T12:01:45.645+04:00  INFO 31548 --- [carservices] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-11 - Added connection com.p6spy.engine.wrapper.ConnectionWrapper@31cdcf1f
2025-12-11T12:01:45.646+04:00  INFO 31548 --- [carservices] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-11 - Start completed.
2025-12-11T12:01:45.653+04:00  WARN 31548 --- [carservices] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-11T12:01:45.654+04:00  INFO 31548 --- [carservices] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-11)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-11T12:01:46.024+04:00  INFO 31548 --- [carservices] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-11T12:01:46.034+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440106034 | took 9ms | statement | connection 520| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from information_schema.sequences
select * from information_schema.sequences;
2025-12-11T12:01:46.057+04:00  INFO 31548 --- [carservices] [restartedMain] t.s.e.i.AbstractInformationExtractorImpl : HHH000475: Cannot locate column information using identifier [lower((manager_email)::text)]; ignoring index [ux_company_manager_email]
2025-12-11T12:01:46.058+04:00 DEBUG 31548 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       drop constraint if exists ux_company_company_name_ci
2025-12-11T12:01:46.060+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440106060 | took 1ms | statement | connection 520| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       drop constraint if exists ux_company_company_name_ci

    alter table if exists company 
       drop constraint if exists ux_company_company_name_ci;
2025-12-11T12:01:46.061+04:00  WARN 31548 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2025-12-11T12:01:46.061+04:00  WARN 31548 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "ux_company_company_name_ci" of relation "company" does not exist, skipping
2025-12-11T12:01:46.061+04:00 DEBUG 31548 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       add constraint ux_company_company_name_ci unique (company_name)
2025-12-11T12:01:46.068+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440106068 | took 7ms | statement | connection 520| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       add constraint ux_company_company_name_ci unique (company_name)

    alter table if exists company 
       add constraint ux_company_company_name_ci unique (company_name);
2025-12-11T12:01:46.069+04:00 DEBUG 31548 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       drop constraint if exists ux_company_brand_name_ci
2025-12-11T12:01:46.070+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440106070 | took 0ms | statement | connection 520| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       drop constraint if exists ux_company_brand_name_ci

    alter table if exists company 
       drop constraint if exists ux_company_brand_name_ci;
2025-12-11T12:01:46.070+04:00  WARN 31548 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2025-12-11T12:01:46.070+04:00  WARN 31548 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "ux_company_brand_name_ci" of relation "company" does not exist, skipping
2025-12-11T12:01:46.070+04:00 DEBUG 31548 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       add constraint ux_company_brand_name_ci unique (brand_name)
2025-12-11T12:01:46.073+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440106073 | took 2ms | statement | connection 520| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       add constraint ux_company_brand_name_ci unique (brand_name)

    alter table if exists company 
       add constraint ux_company_brand_name_ci unique (brand_name);
2025-12-11T12:01:46.165+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440106165 | took 4ms | statement | connection 520| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."company" where 1=0
select * from "public"."company" where 1=0;
2025-12-11T12:01:46.282+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440106282 | took 2ms | statement | connection 520| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."branch" where 1=0
select * from "public"."branch" where 1=0;
2025-12-11T12:01:46.288+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440106288 | took 1ms | statement | connection 520| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-12-11T12:01:46.294+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440106294 | took 1ms | statement | connection 520| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."service_entity" where 1=0
select * from "public"."service_entity" where 1=0;
2025-12-11T12:01:46.410+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440106410 | took 0ms | statement | connection 520| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."branch" where 1=0
select * from "public"."branch" where 1=0;
2025-12-11T12:01:46.412+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440106412 | took 0ms | statement | connection 520| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-12-11T12:01:46.417+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440106417 | took 1ms | statement | connection 520| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."spare_parts" where 1=0
select * from "public"."spare_parts" where 1=0;
2025-12-11T12:01:46.526+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440106526 | took 0ms | statement | connection 520| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-12-11T12:01:46.659+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440106659 | took 0ms | statement | connection 520| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-12-11T12:01:46.663+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440106663 | took 2ms | statement | connection 520| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."user_registration" where 1=0
select * from "public"."user_registration" where 1=0;
2025-12-11T12:01:46.802+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440106802 | took 0ms | statement | connection 520| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."spare_parts" where 1=0
select * from "public"."spare_parts" where 1=0;
2025-12-11T12:01:46.902+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440106902 | took 1ms | statement | connection 520| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."problem" where 1=0
select * from "public"."problem" where 1=0;
2025-12-11T12:01:47.037+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440107037 | took 0ms | statement | connection 520| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."branch" where 1=0
select * from "public"."branch" where 1=0;
2025-12-11T12:01:47.038+04:00  INFO 31548 --- [carservices] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-11T12:01:48.054+04:00  WARN 31548 --- [carservices] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-11T12:01:48.288+04:00  INFO 31548 --- [carservices] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-12-11T12:01:48.317+04:00  INFO 31548 --- [carservices] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2025-12-11T12:01:48.320+04:00  INFO 31548 --- [carservices] [restartedMain] c.c.carservices.CarservicesApplication   : Started CarservicesApplication in 3.929 seconds (process running for 163809.751)
2025-12-11T12:01:48.323+04:00  INFO 31548 --- [carservices] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-12-11T12:01:58.882+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-2] o.a.c.c.C.[Tomcat-4].[localhost].[/]     : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-11T12:01:58.882+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-11T12:01:58.884+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-12-11T12:01:58.898+04:00 DEBUG 31548 --- [carservices] [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        bbs1_0.id,
        bbs1_0.branch_id,
        bbs1_0.brand_id,
        bbs1_0.experts,
        bbs1_0.qty,
        bbs1_0.service_id,
        bbs1_0.status 
    from
        branch_brand_service bbs1_0
2025-12-11T12:01:58.901+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1765440118901 | took 2ms | statement | connection 520| url jdbc:p6spy:postgresql://localhost:5433/testdb
select bbs1_0.id,bbs1_0.branch_id,bbs1_0.brand_id,bbs1_0.experts,bbs1_0.qty,bbs1_0.service_id,bbs1_0.status from branch_brand_service bbs1_0
select bbs1_0.id,bbs1_0.branch_id,bbs1_0.brand_id,bbs1_0.experts,bbs1_0.qty,bbs1_0.service_id,bbs1_0.status from branch_brand_service bbs1_0;
2025-12-11T12:01:58.905+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1765440118905 | took 0ms | commit | connection 520| url jdbc:p6spy:postgresql://localhost:5433/testdb

;
2025-12-11T12:01:58.918+04:00 DEBUG 31548 --- [carservices] [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        b1_0.branch_id,
        b1_0.address,
        b1_0.branch_address,
        b1_0.branch_code,
        b1_0.branch_cover_img,
        b1_0.branch_manager_name,
        b1_0.branch_manager_surname,
        b1_0.branch_name,
        b1_0.city,
        b1_0.company_id,
        b1_0.latitude,
        b1_0.location,
        b1_0.login_email,
        b1_0.logo_img,
        b1_0.longitude,
        b1_0.mobile,
        b1_0.password,
        b1_0.status 
    from
        branch b1_0 
    where
        b1_0.branch_id=?
2025-12-11T12:01:58.919+04:00 TRACE 31548 --- [carservices] [http-nio-8081-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [2]
2025-12-11T12:01:58.920+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1765440118920 | took 0ms | statement | connection 520| url jdbc:p6spy:postgresql://localhost:5433/testdb
select b1_0.branch_id,b1_0.address,b1_0.branch_address,b1_0.branch_code,b1_0.branch_cover_img,b1_0.branch_manager_name,b1_0.branch_manager_surname,b1_0.branch_name,b1_0.city,b1_0.company_id,b1_0.latitude,b1_0.location,b1_0.login_email,b1_0.logo_img,b1_0.longitude,b1_0.mobile,b1_0.password,b1_0.status from branch b1_0 where b1_0.branch_id=?
select b1_0.branch_id,b1_0.address,b1_0.branch_address,b1_0.branch_code,b1_0.branch_cover_img,b1_0.branch_manager_name,b1_0.branch_manager_surname,b1_0.branch_name,b1_0.city,b1_0.company_id,b1_0.latitude,b1_0.location,b1_0.login_email,b1_0.logo_img,b1_0.longitude,b1_0.mobile,b1_0.password,b1_0.status from branch b1_0 where b1_0.branch_id=2;
2025-12-11T12:01:58.925+04:00 DEBUG 31548 --- [carservices] [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        c1_0.company_id,
        c1_0.brand_name,
        c1_0.company_name,
        c1_0.manager_email,
        c1_0.manager_mobile,
        c1_0.manager_name,
        c1_0.manager_phone,
        c1_0.manager_surname,
        c1_0.password,
        c1_0.tax_id,
        c1_0.tin_photo,
        c1_0.website 
    from
        company c1_0 
    where
        c1_0.company_id=?
2025-12-11T12:01:58.926+04:00 TRACE 31548 --- [carservices] [http-nio-8081-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-12-11T12:01:58.926+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1765440118926 | took 0ms | statement | connection 520| url jdbc:p6spy:postgresql://localhost:5433/testdb
select c1_0.company_id,c1_0.brand_name,c1_0.company_name,c1_0.manager_email,c1_0.manager_mobile,c1_0.manager_name,c1_0.manager_phone,c1_0.manager_surname,c1_0.password,c1_0.tax_id,c1_0.tin_photo,c1_0.website from company c1_0 where c1_0.company_id=?
select c1_0.company_id,c1_0.brand_name,c1_0.company_name,c1_0.manager_email,c1_0.manager_mobile,c1_0.manager_name,c1_0.manager_phone,c1_0.manager_surname,c1_0.password,c1_0.tax_id,c1_0.tin_photo,c1_0.website from company c1_0 where c1_0.company_id=1;
2025-12-11T12:01:58.933+04:00 ERROR 31548 --- [carservices] [http-nio-8081-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor]] with root cause

com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: java.util.ArrayList[0]->com.car.carservices.entity.BranchBrandService["branch"]->com.car.carservices.entity.Branch$HibernateProxy["company"]->com.car.carservices.entity.Company$HibernateProxy["hibernateLazyInitializer"])
	at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1340) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:414) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.failForEmpty(UnknownSerializer.java:53) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.serialize(UnknownSerializer.java:30) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:770) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:184) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:770) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:184) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:770) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:184) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serializeContents(CollectionSerializer.java:145) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:107) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:25) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:502) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:422) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1583) ~[jackson-databind-2.18.3.jar:2.18.3]
	at com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1061) ~[jackson-databind-2.18.3.jar:2.18.3]
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:486) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:126) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:345) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.handleReturnValue(RequestResponseBodyMethodProcessor.java:208) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:136) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.40.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.40.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.6.jar:6.2.6]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.springframework.web.filter.AbstractRequestLoggingFilter.doFilterInternal(AbstractRequestLoggingFilter.java:289) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.5.jar:6.4.5]
	at com.car.carservices.security.PRJwtAuthFilter.doFilterInternal(PRJwtAuthFilter.java:38) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.5.jar:6.4.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.5.jar:6.4.5]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.6.jar:6.2.6]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.6.jar:6.2.6]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.6.jar:6.2.6]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.40.jar:10.1.40]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-12-11T12:04:51.246+04:00  INFO 31548 --- [carservices] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-12-11T12:04:51.252+04:00  INFO 31548 --- [carservices] [Thread-39] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-12-11T12:04:51.267+04:00  INFO 31548 --- [carservices] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-12-11T12:04:51.277+04:00  INFO 31548 --- [carservices] [Thread-39] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-11T12:04:51.279+04:00  INFO 31548 --- [carservices] [Thread-39] com.zaxxer.hikari.HikariDataSource       : HikariPool-11 - Shutdown initiated...
2025-12-11T12:04:51.298+04:00  INFO 31548 --- [carservices] [Thread-39] com.zaxxer.hikari.HikariDataSource       : HikariPool-11 - Shutdown completed.
2025-12-11T12:04:51.494+04:00  INFO 31548 --- [carservices] [restartedMain] c.c.carservices.CarservicesApplication   : Starting CarservicesApplication using Java 21.0.7 with PID 31548 (C:\Grand BackUp\Sheikh-2\Private\Sheikhkashifiqbal\temp\Spare Parts Project\SpringBoot\car-dev-1\carservices\target\classes started by lenovo in C:\Grand BackUp\Sheikh-2\Private\Sheikhkashifiqbal\temp\Spare Parts Project\SpringBoot\car-dev-1\carservices)
2025-12-11T12:04:51.502+04:00  INFO 31548 --- [carservices] [restartedMain] c.c.carservices.CarservicesApplication   : No active profile set, falling back to 1 default profile: "default"
2025-12-11T12:04:52.344+04:00  INFO 31548 --- [carservices] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-11T12:04:52.660+04:00  INFO 31548 --- [carservices] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 310 ms. Found 40 JPA repository interfaces.
2025-12-11T12:04:52.953+04:00  INFO 31548 --- [carservices] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-12-11T12:04:52.956+04:00  INFO 31548 --- [carservices] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-11T12:04:52.956+04:00  INFO 31548 --- [carservices] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-12-11T12:04:53.004+04:00  INFO 31548 --- [carservices] [restartedMain] o.a.c.c.C.[Tomcat-4].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2025-12-11T12:04:53.004+04:00  INFO 31548 --- [carservices] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1500 ms
2025-12-11T12:04:53.203+04:00  INFO 31548 --- [carservices] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-11T12:04:53.212+04:00  INFO 31548 --- [carservices] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-12-11T12:04:53.266+04:00  INFO 31548 --- [carservices] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-11T12:04:53.269+04:00  INFO 31548 --- [carservices] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-12 - Starting...
2025-12-11T12:04:53.354+04:00  INFO 31548 --- [carservices] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-12 - Added connection com.p6spy.engine.wrapper.ConnectionWrapper@67785eff
2025-12-11T12:04:53.355+04:00  INFO 31548 --- [carservices] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-12 - Start completed.
2025-12-11T12:04:53.362+04:00  WARN 31548 --- [carservices] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-11T12:04:53.362+04:00  INFO 31548 --- [carservices] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-12)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-11T12:04:54.051+04:00  INFO 31548 --- [carservices] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-11T12:04:54.068+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440294068 | took 14ms | statement | connection 530| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from information_schema.sequences
select * from information_schema.sequences;
2025-12-11T12:04:54.103+04:00  INFO 31548 --- [carservices] [restartedMain] t.s.e.i.AbstractInformationExtractorImpl : HHH000475: Cannot locate column information using identifier [lower((manager_email)::text)]; ignoring index [ux_company_manager_email]
2025-12-11T12:04:54.104+04:00 DEBUG 31548 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       drop constraint if exists ux_company_company_name_ci
2025-12-11T12:04:54.107+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440294107 | took 2ms | statement | connection 530| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       drop constraint if exists ux_company_company_name_ci

    alter table if exists company 
       drop constraint if exists ux_company_company_name_ci;
2025-12-11T12:04:54.107+04:00  WARN 31548 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2025-12-11T12:04:54.107+04:00  WARN 31548 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "ux_company_company_name_ci" of relation "company" does not exist, skipping
2025-12-11T12:04:54.107+04:00 DEBUG 31548 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       add constraint ux_company_company_name_ci unique (company_name)
2025-12-11T12:04:54.117+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440294117 | took 9ms | statement | connection 530| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       add constraint ux_company_company_name_ci unique (company_name)

    alter table if exists company 
       add constraint ux_company_company_name_ci unique (company_name);
2025-12-11T12:04:54.117+04:00 DEBUG 31548 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       drop constraint if exists ux_company_brand_name_ci
2025-12-11T12:04:54.128+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440294128 | took 10ms | statement | connection 530| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       drop constraint if exists ux_company_brand_name_ci

    alter table if exists company 
       drop constraint if exists ux_company_brand_name_ci;
2025-12-11T12:04:54.129+04:00  WARN 31548 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2025-12-11T12:04:54.129+04:00  WARN 31548 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "ux_company_brand_name_ci" of relation "company" does not exist, skipping
2025-12-11T12:04:54.129+04:00 DEBUG 31548 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       add constraint ux_company_brand_name_ci unique (brand_name)
2025-12-11T12:04:54.132+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440294132 | took 2ms | statement | connection 530| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       add constraint ux_company_brand_name_ci unique (brand_name)

    alter table if exists company 
       add constraint ux_company_brand_name_ci unique (brand_name);
2025-12-11T12:04:54.278+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440294278 | took 3ms | statement | connection 530| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."company" where 1=0
select * from "public"."company" where 1=0;
2025-12-11T12:04:54.394+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440294393 | took 2ms | statement | connection 530| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."branch" where 1=0
select * from "public"."branch" where 1=0;
2025-12-11T12:04:54.400+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440294400 | took 1ms | statement | connection 530| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-12-11T12:04:54.408+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440294408 | took 1ms | statement | connection 530| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."service_entity" where 1=0
select * from "public"."service_entity" where 1=0;
2025-12-11T12:04:54.491+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440294491 | took 0ms | statement | connection 530| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."branch" where 1=0
select * from "public"."branch" where 1=0;
2025-12-11T12:04:54.493+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440294493 | took 0ms | statement | connection 530| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-12-11T12:04:54.493+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440294493 | took 2ms | statement | connection 530| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."spare_parts" where 1=0
select * from "public"."spare_parts" where 1=0;
2025-12-11T12:04:54.634+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440294634 | took 0ms | statement | connection 530| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-12-11T12:04:54.769+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440294769 | took 0ms | statement | connection 530| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-12-11T12:04:54.772+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440294772 | took 2ms | statement | connection 530| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."user_registration" where 1=0
select * from "public"."user_registration" where 1=0;
2025-12-11T12:04:54.859+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440294859 | took 0ms | statement | connection 530| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."spare_parts" where 1=0
select * from "public"."spare_parts" where 1=0;
2025-12-11T12:04:54.959+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440294959 | took 2ms | statement | connection 530| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."problem" where 1=0
select * from "public"."problem" where 1=0;
2025-12-11T12:04:55.039+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440295039 | took 0ms | statement | connection 530| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."branch" where 1=0
select * from "public"."branch" where 1=0;
2025-12-11T12:04:55.047+04:00  INFO 31548 --- [carservices] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-11T12:04:55.799+04:00  WARN 31548 --- [carservices] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'disableServiceController': Resolution of declared constructors on bean Class [com.car.carservices.controller.DisableServiceController] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@b226dc0] failed
2025-12-11T12:04:55.811+04:00  INFO 31548 --- [carservices] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-11T12:04:55.811+04:00  INFO 31548 --- [carservices] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-12 - Shutdown initiated...
2025-12-11T12:04:55.818+04:00  INFO 31548 --- [carservices] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-12 - Shutdown completed.
2025-12-11T12:04:55.819+04:00  INFO 31548 --- [carservices] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-12-11T12:04:55.830+04:00  INFO 31548 --- [carservices] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-12-11T12:04:55.837+04:00 ERROR 31548 --- [carservices] [restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'disableServiceController': Resolution of declared constructors on bean Class [com.car.carservices.controller.DisableServiceController] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@b226dc0] failed
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:384) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineConstructorsFromBeanPostProcessors(AbstractAutowireCapableBeanFactory.java:1326) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1221) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1221) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1187) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1122) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987) ~[spring-context-6.2.6.jar:6.2.6]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.6.jar:6.2.6]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.5.jar:3.4.5]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753) ~[spring-boot-3.4.5.jar:3.4.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.5.jar:3.4.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.5.jar:3.4.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362) ~[spring-boot-3.4.5.jar:3.4.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351) ~[spring-boot-3.4.5.jar:3.4.5]
	at com.car.carservices.CarservicesApplication.main(CarservicesApplication.java:11) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.4.5.jar:3.4.5]
Caused by: java.lang.NoClassDefFoundError: DisableServiceService
	at java.base/java.lang.Class.getDeclaredConstructors0(Native Method) ~[na:na]
	at java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3549) ~[na:na]
	at java.base/java.lang.Class.getDeclaredConstructors(Class.java:2727) ~[na:na]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:379) ~[spring-beans-6.2.6.jar:6.2.6]
	... 23 common frames omitted
Caused by: java.lang.ClassNotFoundException: DisableServiceService
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526) ~[na:na]
	at java.base/java.lang.Class.forName0(Native Method) ~[na:na]
	at java.base/java.lang.Class.forName(Class.java:534) ~[na:na]
	at java.base/java.lang.Class.forName(Class.java:513) ~[na:na]
	at org.springframework.boot.devtools.restart.classloader.RestartClassLoader.loadClass(RestartClassLoader.java:121) ~[spring-boot-devtools-3.4.5.jar:3.4.5]
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526) ~[na:na]
	... 27 common frames omitted

2025-12-11T12:06:14.337+04:00  INFO 31548 --- [carservices] [restartedMain] c.c.carservices.CarservicesApplication   : Starting CarservicesApplication using Java 21.0.7 with PID 31548 (C:\Grand BackUp\Sheikh-2\Private\Sheikhkashifiqbal\temp\Spare Parts Project\SpringBoot\car-dev-1\carservices\target\classes started by lenovo in C:\Grand BackUp\Sheikh-2\Private\Sheikhkashifiqbal\temp\Spare Parts Project\SpringBoot\car-dev-1\carservices)
2025-12-11T12:06:14.337+04:00  INFO 31548 --- [carservices] [restartedMain] c.c.carservices.CarservicesApplication   : No active profile set, falling back to 1 default profile: "default"
2025-12-11T12:06:14.876+04:00  INFO 31548 --- [carservices] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-11T12:06:15.163+04:00  INFO 31548 --- [carservices] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 288 ms. Found 40 JPA repository interfaces.
2025-12-11T12:06:15.399+04:00  INFO 31548 --- [carservices] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-12-11T12:06:15.401+04:00  INFO 31548 --- [carservices] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-11T12:06:15.401+04:00  INFO 31548 --- [carservices] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-12-11T12:06:15.426+04:00  INFO 31548 --- [carservices] [restartedMain] o.a.c.c.C.[Tomcat-5].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2025-12-11T12:06:15.426+04:00  INFO 31548 --- [carservices] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1087 ms
2025-12-11T12:06:15.492+04:00  INFO 31548 --- [carservices] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-11T12:06:15.494+04:00  INFO 31548 --- [carservices] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-12-11T12:06:15.508+04:00  INFO 31548 --- [carservices] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-11T12:06:15.508+04:00  INFO 31548 --- [carservices] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-13 - Starting...
2025-12-11T12:06:15.564+04:00  INFO 31548 --- [carservices] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-13 - Added connection com.p6spy.engine.wrapper.ConnectionWrapper@28677fa5
2025-12-11T12:06:15.564+04:00  INFO 31548 --- [carservices] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-13 - Start completed.
2025-12-11T12:06:15.578+04:00  WARN 31548 --- [carservices] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-11T12:06:15.578+04:00  INFO 31548 --- [carservices] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-13)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-11T12:06:15.965+04:00  INFO 31548 --- [carservices] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-11T12:06:15.978+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440375978 | took 10ms | statement | connection 540| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from information_schema.sequences
select * from information_schema.sequences;
2025-12-11T12:06:16.010+04:00  INFO 31548 --- [carservices] [restartedMain] t.s.e.i.AbstractInformationExtractorImpl : HHH000475: Cannot locate column information using identifier [lower((manager_email)::text)]; ignoring index [ux_company_manager_email]
2025-12-11T12:06:16.010+04:00 DEBUG 31548 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       drop constraint if exists ux_company_company_name_ci
2025-12-11T12:06:16.012+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440376012 | took 1ms | statement | connection 540| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       drop constraint if exists ux_company_company_name_ci

    alter table if exists company 
       drop constraint if exists ux_company_company_name_ci;
2025-12-11T12:06:16.012+04:00  WARN 31548 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2025-12-11T12:06:16.012+04:00  WARN 31548 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "ux_company_company_name_ci" of relation "company" does not exist, skipping
2025-12-11T12:06:16.012+04:00 DEBUG 31548 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       add constraint ux_company_company_name_ci unique (company_name)
2025-12-11T12:06:16.019+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440376019 | took 7ms | statement | connection 540| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       add constraint ux_company_company_name_ci unique (company_name)

    alter table if exists company 
       add constraint ux_company_company_name_ci unique (company_name);
2025-12-11T12:06:16.019+04:00 DEBUG 31548 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       drop constraint if exists ux_company_brand_name_ci
2025-12-11T12:06:16.019+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440376019 | took 0ms | statement | connection 540| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       drop constraint if exists ux_company_brand_name_ci

    alter table if exists company 
       drop constraint if exists ux_company_brand_name_ci;
2025-12-11T12:06:16.019+04:00  WARN 31548 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2025-12-11T12:06:16.019+04:00  WARN 31548 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "ux_company_brand_name_ci" of relation "company" does not exist, skipping
2025-12-11T12:06:16.023+04:00 DEBUG 31548 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       add constraint ux_company_brand_name_ci unique (brand_name)
2025-12-11T12:06:16.026+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440376026 | took 3ms | statement | connection 540| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       add constraint ux_company_brand_name_ci unique (brand_name)

    alter table if exists company 
       add constraint ux_company_brand_name_ci unique (brand_name);
2025-12-11T12:06:16.148+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440376148 | took 2ms | statement | connection 540| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."company" where 1=0
select * from "public"."company" where 1=0;
2025-12-11T12:06:16.259+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440376259 | took 2ms | statement | connection 540| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."branch" where 1=0
select * from "public"."branch" where 1=0;
2025-12-11T12:06:16.266+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440376266 | took 1ms | statement | connection 540| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-12-11T12:06:16.268+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440376268 | took 1ms | statement | connection 540| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."service_entity" where 1=0
select * from "public"."service_entity" where 1=0;
2025-12-11T12:06:16.392+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440376392 | took 0ms | statement | connection 540| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."branch" where 1=0
select * from "public"."branch" where 1=0;
2025-12-11T12:06:16.397+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440376397 | took 0ms | statement | connection 540| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-12-11T12:06:16.397+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440376397 | took 2ms | statement | connection 540| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."spare_parts" where 1=0
select * from "public"."spare_parts" where 1=0;
2025-12-11T12:06:16.503+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440376503 | took 0ms | statement | connection 540| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-12-11T12:06:16.601+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440376601 | took 0ms | statement | connection 540| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-12-11T12:06:16.606+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440376606 | took 2ms | statement | connection 540| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."user_registration" where 1=0
select * from "public"."user_registration" where 1=0;
2025-12-11T12:06:16.706+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440376706 | took 0ms | statement | connection 540| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."spare_parts" where 1=0
select * from "public"."spare_parts" where 1=0;
2025-12-11T12:06:16.782+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440376782 | took 1ms | statement | connection 540| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."problem" where 1=0
select * from "public"."problem" where 1=0;
2025-12-11T12:06:16.879+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440376879 | took 0ms | statement | connection 540| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."branch" where 1=0
select * from "public"."branch" where 1=0;
2025-12-11T12:06:16.879+04:00  INFO 31548 --- [carservices] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-11T12:06:17.529+04:00  WARN 31548 --- [carservices] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'disableServiceController': Resolution of declared constructors on bean Class [com.car.carservices.controller.DisableServiceController] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@1a65a42c] failed
2025-12-11T12:06:17.529+04:00  INFO 31548 --- [carservices] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-11T12:06:17.535+04:00  INFO 31548 --- [carservices] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-13 - Shutdown initiated...
2025-12-11T12:06:17.540+04:00  INFO 31548 --- [carservices] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-13 - Shutdown completed.
2025-12-11T12:06:17.548+04:00  INFO 31548 --- [carservices] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-12-11T12:06:17.548+04:00  INFO 31548 --- [carservices] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-12-11T12:06:17.552+04:00 ERROR 31548 --- [carservices] [restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'disableServiceController': Resolution of declared constructors on bean Class [com.car.carservices.controller.DisableServiceController] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@1a65a42c] failed
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:384) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineConstructorsFromBeanPostProcessors(AbstractAutowireCapableBeanFactory.java:1326) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1221) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1221) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1187) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1122) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987) ~[spring-context-6.2.6.jar:6.2.6]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.6.jar:6.2.6]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.5.jar:3.4.5]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753) ~[spring-boot-3.4.5.jar:3.4.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.5.jar:3.4.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.5.jar:3.4.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362) ~[spring-boot-3.4.5.jar:3.4.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351) ~[spring-boot-3.4.5.jar:3.4.5]
	at com.car.carservices.CarservicesApplication.main(CarservicesApplication.java:11) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.4.5.jar:3.4.5]
Caused by: java.lang.NoClassDefFoundError: DisableServiceService
	at java.base/java.lang.Class.getDeclaredConstructors0(Native Method) ~[na:na]
	at java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3549) ~[na:na]
	at java.base/java.lang.Class.getDeclaredConstructors(Class.java:2727) ~[na:na]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:379) ~[spring-beans-6.2.6.jar:6.2.6]
	... 23 common frames omitted
Caused by: java.lang.ClassNotFoundException: DisableServiceService
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526) ~[na:na]
	at java.base/java.lang.Class.forName0(Native Method) ~[na:na]
	at java.base/java.lang.Class.forName(Class.java:534) ~[na:na]
	at java.base/java.lang.Class.forName(Class.java:513) ~[na:na]
	at org.springframework.boot.devtools.restart.classloader.RestartClassLoader.loadClass(RestartClassLoader.java:121) ~[spring-boot-devtools-3.4.5.jar:3.4.5]
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526) ~[na:na]
	... 27 common frames omitted

2025-12-11T12:06:36.594+04:00  INFO 31548 --- [carservices] [restartedMain] c.c.carservices.CarservicesApplication   : Starting CarservicesApplication using Java 21.0.7 with PID 31548 (C:\Grand BackUp\Sheikh-2\Private\Sheikhkashifiqbal\temp\Spare Parts Project\SpringBoot\car-dev-1\carservices\target\classes started by lenovo in C:\Grand BackUp\Sheikh-2\Private\Sheikhkashifiqbal\temp\Spare Parts Project\SpringBoot\car-dev-1\carservices)
2025-12-11T12:06:36.595+04:00  INFO 31548 --- [carservices] [restartedMain] c.c.carservices.CarservicesApplication   : No active profile set, falling back to 1 default profile: "default"
2025-12-11T12:06:37.243+04:00  INFO 31548 --- [carservices] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-11T12:06:37.506+04:00  INFO 31548 --- [carservices] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 261 ms. Found 40 JPA repository interfaces.
2025-12-11T12:06:37.749+04:00  INFO 31548 --- [carservices] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-12-11T12:06:37.750+04:00  INFO 31548 --- [carservices] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-11T12:06:37.750+04:00  INFO 31548 --- [carservices] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-12-11T12:06:37.789+04:00  INFO 31548 --- [carservices] [restartedMain] o.a.c.c.C.[Tomcat-6].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2025-12-11T12:06:37.789+04:00  INFO 31548 --- [carservices] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1192 ms
2025-12-11T12:06:37.847+04:00  INFO 31548 --- [carservices] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-11T12:06:37.849+04:00  INFO 31548 --- [carservices] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-12-11T12:06:37.873+04:00  INFO 31548 --- [carservices] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-11T12:06:37.873+04:00  INFO 31548 --- [carservices] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-14 - Starting...
2025-12-11T12:06:37.921+04:00  INFO 31548 --- [carservices] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-14 - Added connection com.p6spy.engine.wrapper.ConnectionWrapper@6fdb60f6
2025-12-11T12:06:37.921+04:00  INFO 31548 --- [carservices] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-14 - Start completed.
2025-12-11T12:06:37.948+04:00  WARN 31548 --- [carservices] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-11T12:06:37.948+04:00  INFO 31548 --- [carservices] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-14)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-11T12:06:38.348+04:00  INFO 31548 --- [carservices] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-11T12:06:38.355+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440398355 | took 11ms | statement | connection 550| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from information_schema.sequences
select * from information_schema.sequences;
2025-12-11T12:06:38.400+04:00  INFO 31548 --- [carservices] [restartedMain] t.s.e.i.AbstractInformationExtractorImpl : HHH000475: Cannot locate column information using identifier [lower((manager_email)::text)]; ignoring index [ux_company_manager_email]
2025-12-11T12:06:38.400+04:00 DEBUG 31548 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       drop constraint if exists ux_company_company_name_ci
2025-12-11T12:06:38.403+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440398403 | took 2ms | statement | connection 550| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       drop constraint if exists ux_company_company_name_ci

    alter table if exists company 
       drop constraint if exists ux_company_company_name_ci;
2025-12-11T12:06:38.403+04:00  WARN 31548 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2025-12-11T12:06:38.403+04:00  WARN 31548 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "ux_company_company_name_ci" of relation "company" does not exist, skipping
2025-12-11T12:06:38.405+04:00 DEBUG 31548 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       add constraint ux_company_company_name_ci unique (company_name)
2025-12-11T12:06:38.410+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440398410 | took 7ms | statement | connection 550| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       add constraint ux_company_company_name_ci unique (company_name)

    alter table if exists company 
       add constraint ux_company_company_name_ci unique (company_name);
2025-12-11T12:06:38.410+04:00 DEBUG 31548 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       drop constraint if exists ux_company_brand_name_ci
2025-12-11T12:06:38.410+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440398410 | took 0ms | statement | connection 550| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       drop constraint if exists ux_company_brand_name_ci

    alter table if exists company 
       drop constraint if exists ux_company_brand_name_ci;
2025-12-11T12:06:38.410+04:00  WARN 31548 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2025-12-11T12:06:38.410+04:00  WARN 31548 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "ux_company_brand_name_ci" of relation "company" does not exist, skipping
2025-12-11T12:06:38.415+04:00 DEBUG 31548 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       add constraint ux_company_brand_name_ci unique (brand_name)
2025-12-11T12:06:38.415+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440398415 | took 2ms | statement | connection 550| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       add constraint ux_company_brand_name_ci unique (brand_name)

    alter table if exists company 
       add constraint ux_company_brand_name_ci unique (brand_name);
2025-12-11T12:06:38.520+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440398520 | took 3ms | statement | connection 550| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."company" where 1=0
select * from "public"."company" where 1=0;
2025-12-11T12:06:38.593+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440398593 | took 2ms | statement | connection 550| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."branch" where 1=0
select * from "public"."branch" where 1=0;
2025-12-11T12:06:38.593+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440398593 | took 2ms | statement | connection 550| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-12-11T12:06:38.610+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440398610 | took 2ms | statement | connection 550| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."service_entity" where 1=0
select * from "public"."service_entity" where 1=0;
2025-12-11T12:06:38.702+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440398702 | took 0ms | statement | connection 550| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."branch" where 1=0
select * from "public"."branch" where 1=0;
2025-12-11T12:06:38.706+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440398706 | took 0ms | statement | connection 550| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-12-11T12:06:38.709+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440398709 | took 1ms | statement | connection 550| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."spare_parts" where 1=0
select * from "public"."spare_parts" where 1=0;
2025-12-11T12:06:38.810+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440398810 | took 0ms | statement | connection 550| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-12-11T12:06:38.903+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440398903 | took 0ms | statement | connection 550| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-12-11T12:06:38.910+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440398910 | took 2ms | statement | connection 550| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."user_registration" where 1=0
select * from "public"."user_registration" where 1=0;
2025-12-11T12:06:39.029+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440399029 | took 0ms | statement | connection 550| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."spare_parts" where 1=0
select * from "public"."spare_parts" where 1=0;
2025-12-11T12:06:39.113+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440399113 | took 1ms | statement | connection 550| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."problem" where 1=0
select * from "public"."problem" where 1=0;
2025-12-11T12:06:39.208+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440399208 | took 0ms | statement | connection 550| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."branch" where 1=0
select * from "public"."branch" where 1=0;
2025-12-11T12:06:39.210+04:00  INFO 31548 --- [carservices] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-11T12:06:39.751+04:00  WARN 31548 --- [carservices] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'disableServiceController': Resolution of declared constructors on bean Class [com.car.carservices.controller.DisableServiceController] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@24e20ccb] failed
2025-12-11T12:06:39.751+04:00  INFO 31548 --- [carservices] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-11T12:06:39.751+04:00  INFO 31548 --- [carservices] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-14 - Shutdown initiated...
2025-12-11T12:06:39.768+04:00  INFO 31548 --- [carservices] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-14 - Shutdown completed.
2025-12-11T12:06:39.769+04:00  INFO 31548 --- [carservices] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-12-11T12:06:39.780+04:00  INFO 31548 --- [carservices] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-12-11T12:06:39.782+04:00 ERROR 31548 --- [carservices] [restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'disableServiceController': Resolution of declared constructors on bean Class [com.car.carservices.controller.DisableServiceController] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@24e20ccb] failed
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:384) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineConstructorsFromBeanPostProcessors(AbstractAutowireCapableBeanFactory.java:1326) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1221) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1221) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1187) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1122) ~[spring-beans-6.2.6.jar:6.2.6]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987) ~[spring-context-6.2.6.jar:6.2.6]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.6.jar:6.2.6]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.5.jar:3.4.5]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753) ~[spring-boot-3.4.5.jar:3.4.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.5.jar:3.4.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.5.jar:3.4.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362) ~[spring-boot-3.4.5.jar:3.4.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351) ~[spring-boot-3.4.5.jar:3.4.5]
	at com.car.carservices.CarservicesApplication.main(CarservicesApplication.java:11) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.4.5.jar:3.4.5]
Caused by: java.lang.NoClassDefFoundError: DisableServiceService
	at java.base/java.lang.Class.getDeclaredConstructors0(Native Method) ~[na:na]
	at java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3549) ~[na:na]
	at java.base/java.lang.Class.getDeclaredConstructors(Class.java:2727) ~[na:na]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:379) ~[spring-beans-6.2.6.jar:6.2.6]
	... 23 common frames omitted
Caused by: java.lang.ClassNotFoundException: DisableServiceService
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526) ~[na:na]
	at java.base/java.lang.Class.forName0(Native Method) ~[na:na]
	at java.base/java.lang.Class.forName(Class.java:534) ~[na:na]
	at java.base/java.lang.Class.forName(Class.java:513) ~[na:na]
	at org.springframework.boot.devtools.restart.classloader.RestartClassLoader.loadClass(RestartClassLoader.java:121) ~[spring-boot-devtools-3.4.5.jar:3.4.5]
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526) ~[na:na]
	... 27 common frames omitted

2025-12-11T12:06:50.894+04:00  INFO 31548 --- [carservices] [restartedMain] c.c.carservices.CarservicesApplication   : Starting CarservicesApplication using Java 21.0.7 with PID 31548 (C:\Grand BackUp\Sheikh-2\Private\Sheikhkashifiqbal\temp\Spare Parts Project\SpringBoot\car-dev-1\carservices\target\classes started by lenovo in C:\Grand BackUp\Sheikh-2\Private\Sheikhkashifiqbal\temp\Spare Parts Project\SpringBoot\car-dev-1\carservices)
2025-12-11T12:06:50.895+04:00  INFO 31548 --- [carservices] [restartedMain] c.c.carservices.CarservicesApplication   : No active profile set, falling back to 1 default profile: "default"
2025-12-11T12:06:51.519+04:00  INFO 31548 --- [carservices] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-11T12:06:51.732+04:00  INFO 31548 --- [carservices] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 211 ms. Found 40 JPA repository interfaces.
2025-12-11T12:06:51.924+04:00  INFO 31548 --- [carservices] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-12-11T12:06:51.924+04:00  INFO 31548 --- [carservices] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-11T12:06:51.924+04:00  INFO 31548 --- [carservices] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-12-11T12:06:51.966+04:00  INFO 31548 --- [carservices] [restartedMain] o.a.c.c.C.[Tomcat-7].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2025-12-11T12:06:51.966+04:00  INFO 31548 --- [carservices] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1069 ms
2025-12-11T12:06:52.050+04:00  INFO 31548 --- [carservices] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-11T12:06:52.052+04:00  INFO 31548 --- [carservices] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-12-11T12:06:52.069+04:00  INFO 31548 --- [carservices] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-11T12:06:52.069+04:00  INFO 31548 --- [carservices] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-15 - Starting...
2025-12-11T12:06:52.143+04:00  INFO 31548 --- [carservices] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-15 - Added connection com.p6spy.engine.wrapper.ConnectionWrapper@279669ef
2025-12-11T12:06:52.143+04:00  INFO 31548 --- [carservices] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-15 - Start completed.
2025-12-11T12:06:52.154+04:00  WARN 31548 --- [carservices] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-11T12:06:52.155+04:00  INFO 31548 --- [carservices] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-15)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-11T12:06:52.556+04:00  INFO 31548 --- [carservices] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-11T12:06:52.566+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440412566 | took 9ms | statement | connection 560| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from information_schema.sequences
select * from information_schema.sequences;
2025-12-11T12:06:52.591+04:00  INFO 31548 --- [carservices] [restartedMain] t.s.e.i.AbstractInformationExtractorImpl : HHH000475: Cannot locate column information using identifier [lower((manager_email)::text)]; ignoring index [ux_company_manager_email]
2025-12-11T12:06:52.592+04:00 DEBUG 31548 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       drop constraint if exists ux_company_company_name_ci
2025-12-11T12:06:52.594+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440412594 | took 2ms | statement | connection 560| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       drop constraint if exists ux_company_company_name_ci

    alter table if exists company 
       drop constraint if exists ux_company_company_name_ci;
2025-12-11T12:06:52.594+04:00  WARN 31548 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2025-12-11T12:06:52.594+04:00  WARN 31548 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "ux_company_company_name_ci" of relation "company" does not exist, skipping
2025-12-11T12:06:52.595+04:00 DEBUG 31548 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       add constraint ux_company_company_name_ci unique (company_name)
2025-12-11T12:06:52.600+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440412600 | took 5ms | statement | connection 560| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       add constraint ux_company_company_name_ci unique (company_name)

    alter table if exists company 
       add constraint ux_company_company_name_ci unique (company_name);
2025-12-11T12:06:52.600+04:00 DEBUG 31548 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       drop constraint if exists ux_company_brand_name_ci
2025-12-11T12:06:52.602+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440412602 | took 0ms | statement | connection 560| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       drop constraint if exists ux_company_brand_name_ci

    alter table if exists company 
       drop constraint if exists ux_company_brand_name_ci;
2025-12-11T12:06:52.602+04:00  WARN 31548 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2025-12-11T12:06:52.602+04:00  WARN 31548 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "ux_company_brand_name_ci" of relation "company" does not exist, skipping
2025-12-11T12:06:52.602+04:00 DEBUG 31548 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       add constraint ux_company_brand_name_ci unique (brand_name)
2025-12-11T12:06:52.607+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440412607 | took 4ms | statement | connection 560| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       add constraint ux_company_brand_name_ci unique (brand_name)

    alter table if exists company 
       add constraint ux_company_brand_name_ci unique (brand_name);
2025-12-11T12:06:52.727+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440412727 | took 2ms | statement | connection 560| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."company" where 1=0
select * from "public"."company" where 1=0;
2025-12-11T12:06:52.835+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440412835 | took 1ms | statement | connection 560| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."branch" where 1=0
select * from "public"."branch" where 1=0;
2025-12-11T12:06:52.837+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440412837 | took 1ms | statement | connection 560| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-12-11T12:06:52.846+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440412846 | took 1ms | statement | connection 560| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."service_entity" where 1=0
select * from "public"."service_entity" where 1=0;
2025-12-11T12:06:52.961+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440412961 | took 0ms | statement | connection 560| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."branch" where 1=0
select * from "public"."branch" where 1=0;
2025-12-11T12:06:52.961+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440412961 | took 0ms | statement | connection 560| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-12-11T12:06:52.961+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440412961 | took 2ms | statement | connection 560| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."spare_parts" where 1=0
select * from "public"."spare_parts" where 1=0;
2025-12-11T12:06:53.059+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440413059 | took 0ms | statement | connection 560| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-12-11T12:06:53.144+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440413144 | took 0ms | statement | connection 560| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-12-11T12:06:53.147+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440413147 | took 1ms | statement | connection 560| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."user_registration" where 1=0
select * from "public"."user_registration" where 1=0;
2025-12-11T12:06:53.229+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440413229 | took 0ms | statement | connection 560| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."spare_parts" where 1=0
select * from "public"."spare_parts" where 1=0;
2025-12-11T12:06:53.330+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440413330 | took 2ms | statement | connection 560| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."problem" where 1=0
select * from "public"."problem" where 1=0;
2025-12-11T12:06:53.419+04:00  INFO 31548 --- [carservices] [restartedMain] p6spy                                    : #1765440413419 | took 0ms | statement | connection 560| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."branch" where 1=0
select * from "public"."branch" where 1=0;
2025-12-11T12:06:53.424+04:00  INFO 31548 --- [carservices] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-11T12:06:54.332+04:00  WARN 31548 --- [carservices] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-11T12:06:54.684+04:00  INFO 31548 --- [carservices] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-12-11T12:06:54.716+04:00  INFO 31548 --- [carservices] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2025-12-11T12:06:54.722+04:00  INFO 31548 --- [carservices] [restartedMain] c.c.carservices.CarservicesApplication   : Started CarservicesApplication in 3.869 seconds (process running for 164116.152)
2025-12-11T12:06:54.723+04:00  INFO 31548 --- [carservices] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-12-11T12:06:58.013+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-2] o.a.c.c.C.[Tomcat-7].[localhost].[/]     : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-11T12:06:58.013+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-11T12:06:58.016+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2025-12-11T12:06:58.039+04:00 DEBUG 31548 --- [carservices] [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        bbs1_0.id,
        bbs1_0.branch_id,
        bbs1_0.brand_id,
        bbs1_0.experts,
        bbs1_0.qty,
        bbs1_0.service_id,
        bbs1_0.status 
    from
        branch_brand_service bbs1_0
2025-12-11T12:06:58.048+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1765440418048 | took 7ms | statement | connection 560| url jdbc:p6spy:postgresql://localhost:5433/testdb
select bbs1_0.id,bbs1_0.branch_id,bbs1_0.brand_id,bbs1_0.experts,bbs1_0.qty,bbs1_0.service_id,bbs1_0.status from branch_brand_service bbs1_0
select bbs1_0.id,bbs1_0.branch_id,bbs1_0.brand_id,bbs1_0.experts,bbs1_0.qty,bbs1_0.service_id,bbs1_0.status from branch_brand_service bbs1_0;
2025-12-11T12:06:58.056+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1765440418056 | took 1ms | commit | connection 560| url jdbc:p6spy:postgresql://localhost:5433/testdb

;
2025-12-11T12:26:58.347+04:00 DEBUG 31548 --- [carservices] [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        bbs1_0.id,
        bbs1_0.branch_id,
        bbs1_0.brand_id,
        bbs1_0.experts,
        bbs1_0.qty,
        bbs1_0.service_id,
        bbs1_0.status 
    from
        branch_brand_service bbs1_0
2025-12-11T12:26:58.396+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1765441618395 | took 25ms | statement | connection 560| url jdbc:p6spy:postgresql://localhost:5433/testdb
select bbs1_0.id,bbs1_0.branch_id,bbs1_0.brand_id,bbs1_0.experts,bbs1_0.qty,bbs1_0.service_id,bbs1_0.status from branch_brand_service bbs1_0
select bbs1_0.id,bbs1_0.branch_id,bbs1_0.brand_id,bbs1_0.experts,bbs1_0.qty,bbs1_0.service_id,bbs1_0.status from branch_brand_service bbs1_0;
2025-12-11T12:26:58.431+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1765441618431 | took 0ms | commit | connection 560| url jdbc:p6spy:postgresql://localhost:5433/testdb

;
2025-12-11T12:29:33.317+04:00 DEBUG 31548 --- [carservices] [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        dts1_0.disable_time_slot_id,
        dts1_0.branch_id,
        dts1_0.service_id,
        dts1_0.time_slot 
    from
        disable_time_slot dts1_0
2025-12-11T12:29:33.338+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-9] p6spy                                    : #1765441773338 | took 18ms | statement | connection 560| url jdbc:p6spy:postgresql://localhost:5433/testdb
select dts1_0.disable_time_slot_id,dts1_0.branch_id,dts1_0.service_id,dts1_0.time_slot from disable_time_slot dts1_0
select dts1_0.disable_time_slot_id,dts1_0.branch_id,dts1_0.service_id,dts1_0.time_slot from disable_time_slot dts1_0;
2025-12-11T12:29:33.374+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-9] p6spy                                    : #1765441773374 | took 0ms | commit | connection 560| url jdbc:p6spy:postgresql://localhost:5433/testdb

;
2025-12-11T13:22:33.980+04:00 DEBUG 31548 --- [carservices] [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        cd1_0.car_id,
        cd1_0.brand_id,
        cd1_0.car_model,
        cd1_0.plate_number,
        cd1_0.user_id,
        cd1_0.vin_number 
    from
        car_details cd1_0 
    left join
        user_registration u1_0 
            on u1_0.id=cd1_0.user_id 
    where
        u1_0.id=?
2025-12-11T13:22:33.972+04:00 DEBUG 31548 --- [carservices] [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        ur1_0.id,
        ur1_0.birthday,
        ur1_0.email,
        ur1_0.full_name,
        ur1_0.gender,
        ur1_0.mobile,
        ur1_0.password 
    from
        user_registration ur1_0 
    where
        ur1_0.id=?
2025-12-11T13:22:33.994+04:00 TRACE 31548 --- [carservices] [http-nio-8081-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-12-11T13:22:33.995+04:00 TRACE 31548 --- [carservices] [http-nio-8081-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-12-11T13:22:34.038+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-1] p6spy                                    : #1765444954038 | took 41ms | statement | connection 580| url jdbc:p6spy:postgresql://localhost:5433/testdb
select ur1_0.id,ur1_0.birthday,ur1_0.email,ur1_0.full_name,ur1_0.gender,ur1_0.mobile,ur1_0.password from user_registration ur1_0 where ur1_0.id=?
select ur1_0.id,ur1_0.birthday,ur1_0.email,ur1_0.full_name,ur1_0.gender,ur1_0.mobile,ur1_0.password from user_registration ur1_0 where ur1_0.id=1;
2025-12-11T13:22:34.038+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-10] p6spy                                    : #1765444954038 | took 41ms | statement | connection 581| url jdbc:p6spy:postgresql://localhost:5433/testdb
select cd1_0.car_id,cd1_0.brand_id,cd1_0.car_model,cd1_0.plate_number,cd1_0.user_id,cd1_0.vin_number from car_details cd1_0 left join user_registration u1_0 on u1_0.id=cd1_0.user_id where u1_0.id=?
select cd1_0.car_id,cd1_0.brand_id,cd1_0.car_model,cd1_0.plate_number,cd1_0.user_id,cd1_0.vin_number from car_details cd1_0 left join user_registration u1_0 on u1_0.id=cd1_0.user_id where u1_0.id=1;
2025-12-11T13:22:34.054+04:00 DEBUG 31548 --- [carservices] [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        b1_0.brand_id,
        b1_0.brand_name 
    from
        brand b1_0 
    where
        b1_0.brand_id=?
2025-12-11T13:22:34.057+04:00 TRACE 31548 --- [carservices] [http-nio-8081-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [2]
2025-12-11T13:22:34.071+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-10] p6spy                                    : #1765444954071 | took 5ms | statement | connection 581| url jdbc:p6spy:postgresql://localhost:5433/testdb
select b1_0.brand_id,b1_0.brand_name from brand b1_0 where b1_0.brand_id=?
select b1_0.brand_id,b1_0.brand_name from brand b1_0 where b1_0.brand_id=2;
2025-12-11T13:22:34.088+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-1] p6spy                                    : #1765444954088 | took 0ms | commit | connection 580| url jdbc:p6spy:postgresql://localhost:5433/testdb

;
2025-12-11T13:22:34.097+04:00 DEBUG 31548 --- [carservices] [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        b1_0.brand_id,
        b1_0.brand_name 
    from
        brand b1_0 
    where
        b1_0.brand_id=?
2025-12-11T13:22:34.099+04:00 TRACE 31548 --- [carservices] [http-nio-8081-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-12-11T13:22:34.107+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-10] p6spy                                    : #1765444954107 | took 1ms | statement | connection 581| url jdbc:p6spy:postgresql://localhost:5433/testdb
select b1_0.brand_id,b1_0.brand_name from brand b1_0 where b1_0.brand_id=?
select b1_0.brand_id,b1_0.brand_name from brand b1_0 where b1_0.brand_id=1;
2025-12-11T13:22:34.191+04:00 DEBUG 31548 --- [carservices] [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        b1_0.brand_id,
        b1_0.brand_name 
    from
        brand b1_0 
    where
        b1_0.brand_id=?
2025-12-11T13:22:34.191+04:00 DEBUG 31548 --- [carservices] [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        b1_0.brand_id,
        b1_0.brand_name 
    from
        brand b1_0 
    where
        b1_0.brand_id=?
2025-12-11T13:22:34.194+04:00 TRACE 31548 --- [carservices] [http-nio-8081-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-12-11T13:22:34.194+04:00 TRACE 31548 --- [carservices] [http-nio-8081-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [2]
2025-12-11T13:22:34.195+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1765444954195 | took 0ms | statement | connection 581| url jdbc:p6spy:postgresql://localhost:5433/testdb
select b1_0.brand_id,b1_0.brand_name from brand b1_0 where b1_0.brand_id=?
select b1_0.brand_id,b1_0.brand_name from brand b1_0 where b1_0.brand_id=1;
2025-12-11T13:22:34.199+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1765444954199 | took 0ms | commit | connection 581| url jdbc:p6spy:postgresql://localhost:5433/testdb

;
2025-12-11T13:22:34.200+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1765444954200 | took 2ms | statement | connection 580| url jdbc:p6spy:postgresql://localhost:5433/testdb
select b1_0.brand_id,b1_0.brand_name from brand b1_0 where b1_0.brand_id=?
select b1_0.brand_id,b1_0.brand_name from brand b1_0 where b1_0.brand_id=2;
2025-12-11T13:22:34.203+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1765444954203 | took 0ms | commit | connection 580| url jdbc:p6spy:postgresql://localhost:5433/testdb

;
2025-12-11T13:22:34.227+04:00 DEBUG 31548 --- [carservices] [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        b1_0.brand_id,
        b1_0.brand_name 
    from
        brand b1_0 
    where
        b1_0.brand_id=?
2025-12-11T13:22:34.229+04:00 TRACE 31548 --- [carservices] [http-nio-8081-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [2]
2025-12-11T13:22:34.230+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1765444954230 | took 1ms | statement | connection 580| url jdbc:p6spy:postgresql://localhost:5433/testdb
select b1_0.brand_id,b1_0.brand_name from brand b1_0 where b1_0.brand_id=?
select b1_0.brand_id,b1_0.brand_name from brand b1_0 where b1_0.brand_id=2;
2025-12-11T13:22:34.231+04:00 DEBUG 31548 --- [carservices] [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        b1_0.brand_id,
        b1_0.brand_name 
    from
        brand b1_0 
    where
        b1_0.brand_id=?
2025-12-11T13:22:34.231+04:00 TRACE 31548 --- [carservices] [http-nio-8081-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-12-11T13:22:34.233+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1765444954233 | took 0ms | statement | connection 581| url jdbc:p6spy:postgresql://localhost:5433/testdb
select b1_0.brand_id,b1_0.brand_name from brand b1_0 where b1_0.brand_id=?
select b1_0.brand_id,b1_0.brand_name from brand b1_0 where b1_0.brand_id=1;
2025-12-11T13:22:34.233+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1765444954233 | took 0ms | commit | connection 580| url jdbc:p6spy:postgresql://localhost:5433/testdb

;
2025-12-11T13:22:34.234+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1765444954234 | took 0ms | commit | connection 581| url jdbc:p6spy:postgresql://localhost:5433/testdb

;
2025-12-11T13:22:34.247+04:00 DEBUG 31548 --- [carservices] [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        b1_0.brand_id,
        b1_0.brand_name 
    from
        brand b1_0 
    where
        b1_0.brand_id=?
2025-12-11T13:22:34.248+04:00 TRACE 31548 --- [carservices] [http-nio-8081-exec-6] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-12-11T13:22:34.250+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-6] p6spy                                    : #1765444954250 | took 0ms | statement | connection 580| url jdbc:p6spy:postgresql://localhost:5433/testdb
select b1_0.brand_id,b1_0.brand_name from brand b1_0 where b1_0.brand_id=?
select b1_0.brand_id,b1_0.brand_name from brand b1_0 where b1_0.brand_id=1;
2025-12-11T13:22:34.251+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-6] p6spy                                    : #1765444954251 | took 0ms | commit | connection 580| url jdbc:p6spy:postgresql://localhost:5433/testdb

;
2025-12-11T13:22:34.261+04:00 DEBUG 31548 --- [carservices] [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        b1_0.brand_id,
        b1_0.brand_name 
    from
        brand b1_0 
    where
        b1_0.brand_id=?
2025-12-11T13:22:34.262+04:00 TRACE 31548 --- [carservices] [http-nio-8081-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-12-11T13:22:34.264+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-7] p6spy                                    : #1765444954264 | took 1ms | statement | connection 580| url jdbc:p6spy:postgresql://localhost:5433/testdb
select b1_0.brand_id,b1_0.brand_name from brand b1_0 where b1_0.brand_id=?
select b1_0.brand_id,b1_0.brand_name from brand b1_0 where b1_0.brand_id=1;
2025-12-11T13:22:34.265+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-7] p6spy                                    : #1765444954265 | took 0ms | commit | connection 580| url jdbc:p6spy:postgresql://localhost:5433/testdb

;
2025-12-11T13:22:38.451+04:00 DEBUG 31548 --- [carservices] [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        b1_0.brand_id,
        b1_0.brand_name 
    from
        brand b1_0
2025-12-11T13:22:38.452+04:00 DEBUG 31548 --- [carservices] [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        se1_0.service_id,
        se1_0.service_name,
        se1_0.service_type 
    from
        service_entity se1_0
2025-12-11T13:22:38.458+04:00 DEBUG 31548 --- [carservices] [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        c1_0.id,
        c1_0.city 
    from
        city c1_0
2025-12-11T13:22:38.459+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-1] p6spy                                    : #1765444958459 | took 0ms | statement | connection 580| url jdbc:p6spy:postgresql://localhost:5433/testdb
select b1_0.brand_id,b1_0.brand_name from brand b1_0
select b1_0.brand_id,b1_0.brand_name from brand b1_0;
2025-12-11T13:22:38.470+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1765444958470 | took 4ms | statement | connection 581| url jdbc:p6spy:postgresql://localhost:5433/testdb
select se1_0.service_id,se1_0.service_name,se1_0.service_type from service_entity se1_0
select se1_0.service_id,se1_0.service_name,se1_0.service_type from service_entity se1_0;
2025-12-11T13:22:38.477+04:00 DEBUG 31548 --- [carservices] [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    SELECT
        b.branch_id        AS branchId,
        b.branch_name      AS branchName,
        b.logo_img         AS logoImg,
        b.branch_cover_img AS branchCoverImg,
        s.service_name     AS serviceName,
        -- NEW: average stars per branch (nullable if no ratings)         AVG(re.stars) OVER (PARTITION 
    BY
        b.branch_id) AS avgStars     
    FROM
        branch b     
    LEFT JOIN
        branch_brand_service bbs 
            ON bbs.branch_id = b.branch_id     
    LEFT JOIN
        service_entity s 
            ON s.service_id = bbs.service_id     
    LEFT JOIN
        rate_experience re 
            ON re.branch_brand_serviceid = bbs.id     
    WHERE
        b.status = 'approved' 
        OR b.status = 'APPROVED'     
    ORDER BY
        b.branch_id 
2025-12-11T13:22:38.477+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1765444958477 | took 0ms | commit | connection 581| url jdbc:p6spy:postgresql://localhost:5433/testdb

;
2025-12-11T13:22:38.481+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1765444958479 | took 11ms | statement | connection 582| url jdbc:p6spy:postgresql://localhost:5433/testdb
select c1_0.id,c1_0.city from city c1_0
select c1_0.id,c1_0.city from city c1_0;
2025-12-11T13:22:38.478+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-1] p6spy                                    : #1765444958478 | took 0ms | commit | connection 580| url jdbc:p6spy:postgresql://localhost:5433/testdb

;
2025-12-11T13:22:38.486+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1765444958486 | took 0ms | commit | connection 582| url jdbc:p6spy:postgresql://localhost:5433/testdb

;
2025-12-11T13:22:38.507+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1765444958507 | took 6ms | statement | connection 580| url jdbc:p6spy:postgresql://localhost:5433/testdb
SELECT plate_number
  FROM car_details
 WHERE user_id = ?
 ORDER BY plate_number

SELECT plate_number
  FROM car_details
 WHERE user_id = 1
 ORDER BY plate_number
;
2025-12-11T13:22:38.534+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-6] p6spy                                    : #1765444958534 | took 44ms | statement | connection 583| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        b.branch_id        AS branchId,
        b.branch_name      AS branchName,
        b.logo_img         AS logoImg,
        b.branch_cover_img AS branchCoverImg,
        s.service_name     AS serviceName,
        -- NEW: average stars per branch (nullable if no ratings)
        AVG(re.stars) OVER (PARTITION BY b.branch_id) AS avgStars
    FROM branch b
    LEFT JOIN branch_brand_service bbs ON bbs.branch_id = b.branch_id
    LEFT JOIN service_entity s ON s.service_id = bbs.service_id
    LEFT JOIN rate_experience re ON re.branch_brand_serviceid = bbs.id
    WHERE b.status = 'approved' OR b.status = 'APPROVED'
    ORDER BY b.branch_id

    SELECT
        b.branch_id        AS branchId,
        b.branch_name      AS branchName,
        b.logo_img         AS logoImg,
        b.branch_cover_img AS branchCoverImg,
        s.service_name     AS serviceName,
        -- NEW: average stars per branch (nullable if no ratings)
        AVG(re.stars) OVER (PARTITION BY b.branch_id) AS avgStars
    FROM branch b
    LEFT JOIN branch_brand_service bbs ON bbs.branch_id = b.branch_id
    LEFT JOIN service_entity s ON s.service_id = bbs.service_id
    LEFT JOIN rate_experience re ON re.branch_brand_serviceid = bbs.id
    WHERE b.status = 'approved' OR b.status = 'APPROVED'
    ORDER BY b.branch_id
;
2025-12-11T13:22:45.416+04:00 DEBUG 31548 --- [carservices] [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        se1_0.service_id,
        se1_0.service_name,
        se1_0.service_type 
    from
        service_entity se1_0
2025-12-11T13:22:45.420+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-10] p6spy                                    : #1765444965420 | took 1ms | statement | connection 581| url jdbc:p6spy:postgresql://localhost:5433/testdb
select se1_0.service_id,se1_0.service_name,se1_0.service_type from service_entity se1_0
select se1_0.service_id,se1_0.service_name,se1_0.service_type from service_entity se1_0;
2025-12-11T13:22:45.424+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-10] p6spy                                    : #1765444965423 | took 0ms | commit | connection 581| url jdbc:p6spy:postgresql://localhost:5433/testdb

;
2025-12-11T13:22:45.435+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1765444965435 | took 5ms | statement | connection 580| url jdbc:p6spy:postgresql://localhost:5433/testdb
SELECT DISTINCT b.brand_id, b.brand_name
  FROM branch_brand_service bbs
  JOIN brand b ON bbs.brand_id = b.brand_id
 WHERE bbs.branch_id = ?
   AND bbs.status = 'active'
 ORDER BY b.brand_name

SELECT DISTINCT b.brand_id, b.brand_name
  FROM branch_brand_service bbs
  JOIN brand b ON bbs.brand_id = b.brand_id
 WHERE bbs.branch_id = 1
   AND bbs.status = 'active'
 ORDER BY b.brand_name
;
2025-12-11T13:22:45.437+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1765444965437 | took 9ms | statement | connection 582| url jdbc:p6spy:postgresql://localhost:5433/testdb
SELECT DISTINCT b.brand_id, b.brand_name
  FROM branch_brand_service bbs
  JOIN brand b ON bbs.brand_id = b.brand_id
 WHERE bbs.branch_id = ?
   AND bbs.status = 'active'
 ORDER BY b.brand_name

SELECT DISTINCT b.brand_id, b.brand_name
  FROM branch_brand_service bbs
  JOIN brand b ON bbs.brand_id = b.brand_id
 WHERE bbs.branch_id = 1
   AND bbs.status = 'active'
 ORDER BY b.brand_name
;
2025-12-11T13:22:45.440+04:00 DEBUG 31548 --- [carservices] [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        se1_0.service_id,
        se1_0.service_name,
        se1_0.service_type 
    from
        service_entity se1_0
2025-12-11T13:22:45.446+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-7] p6spy                                    : #1765444965446 | took 2ms | statement | connection 580| url jdbc:p6spy:postgresql://localhost:5433/testdb
select se1_0.service_id,se1_0.service_name,se1_0.service_type from service_entity se1_0
select se1_0.service_id,se1_0.service_name,se1_0.service_type from service_entity se1_0;
2025-12-11T13:22:45.450+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-7] p6spy                                    : #1765444965450 | took 0ms | commit | connection 580| url jdbc:p6spy:postgresql://localhost:5433/testdb

;
2025-12-11T13:22:45.475+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-6] p6spy                                    : #1765444965475 | took 6ms | statement | connection 583| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT status,
           "from" AS from_time,
           "to"   AS to_time
    FROM work_days
    WHERE branch_id = ?
      AND UPPER(working_day) = ?
    LIMIT 1

    SELECT status,
           "from" AS from_time,
           "to"   AS to_time
    FROM work_days
    WHERE branch_id = 1
      AND UPPER(working_day) = 'THURSDAY'
    LIMIT 1
;
2025-12-11T13:22:45.475+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-8] p6spy                                    : #1765444965475 | took 8ms | statement | connection 580| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT status,
           "from" AS from_time,
           "to"   AS to_time
    FROM work_days
    WHERE branch_id = ?
      AND UPPER(working_day) = ?
    LIMIT 1

    SELECT status,
           "from" AS from_time,
           "to"   AS to_time
    FROM work_days
    WHERE branch_id = 1
      AND UPPER(working_day) = 'THURSDAY'
    LIMIT 1
;
2025-12-11T13:22:45.475+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1765444965475 | took 7ms | statement | connection 581| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT status,
           "from" AS from_time,
           "to"   AS to_time
    FROM work_days
    WHERE branch_id = ?
      AND UPPER(working_day) = ?
    LIMIT 1

    SELECT status,
           "from" AS from_time,
           "to"   AS to_time
    FROM work_days
    WHERE branch_id = 1
      AND UPPER(working_day) = 'THURSDAY'
    LIMIT 1
;
2025-12-11T13:22:45.486+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-6] p6spy                                    : #1765444965486 | took 2ms | statement | connection 583| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT COALESCE(SUM(qty), 0) AS total_qty
    FROM branch_brand_service
    WHERE branch_id = ?

    SELECT COALESCE(SUM(qty), 0) AS total_qty
    FROM branch_brand_service
    WHERE branch_id = 1
;
2025-12-11T13:22:45.486+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-8] p6spy                                    : #1765444965486 | took 2ms | statement | connection 580| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT COALESCE(SUM(qty), 0) AS total_qty
    FROM branch_brand_service
    WHERE branch_id = ?

    SELECT COALESCE(SUM(qty), 0) AS total_qty
    FROM branch_brand_service
    WHERE branch_id = 1
;
2025-12-11T13:22:45.489+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1765444965489 | took 4ms | statement | connection 581| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT COALESCE(SUM(qty), 0) AS total_qty
    FROM branch_brand_service
    WHERE branch_id = ?

    SELECT COALESCE(SUM(qty), 0) AS total_qty
    FROM branch_brand_service
    WHERE branch_id = 1
;
2025-12-11T13:22:45.489+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-6] p6spy                                    : #1765444965489 | took 0ms | statement | connection 583| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT COALESCE(SUM(experts), 0) AS total_experts
    FROM branch_brand_service
    WHERE branch_id = ?

    SELECT COALESCE(SUM(experts), 0) AS total_experts
    FROM branch_brand_service
    WHERE branch_id = 1
;
2025-12-11T13:22:45.489+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-8] p6spy                                    : #1765444965489 | took 0ms | statement | connection 580| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT COALESCE(SUM(experts), 0) AS total_experts
    FROM branch_brand_service
    WHERE branch_id = ?

    SELECT COALESCE(SUM(experts), 0) AS total_experts
    FROM branch_brand_service
    WHERE branch_id = 1
;
2025-12-11T13:22:45.490+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1765444965490 | took 0ms | statement | connection 581| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT COALESCE(SUM(experts), 0) AS total_experts
    FROM branch_brand_service
    WHERE branch_id = ?

    SELECT COALESCE(SUM(experts), 0) AS total_experts
    FROM branch_brand_service
    WHERE branch_id = 1
;
2025-12-11T13:22:45.505+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-8] p6spy                                    : #1765444965505 | took 6ms | statement | connection 580| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T09:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:22:45.505+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-6] p6spy                                    : #1765444965505 | took 6ms | statement | connection 583| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T09:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:22:45.505+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1765444965505 | took 6ms | statement | connection 581| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T09:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:22:45.523+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-6] p6spy                                    : #1765444965523 | took 1ms | statement | connection 583| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T09:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:22:45.523+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1765444965523 | took 1ms | statement | connection 581| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T09:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:22:45.526+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-6] p6spy                                    : #1765444965526 | took 1ms | statement | connection 583| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T10:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:22:45.526+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-8] p6spy                                    : #1765444965526 | took 1ms | statement | connection 580| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T09:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:22:45.526+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1765444965526 | took 1ms | statement | connection 581| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T10:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:22:45.529+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-6] p6spy                                    : #1765444965529 | took 1ms | statement | connection 583| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T10:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:22:45.529+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-8] p6spy                                    : #1765444965529 | took 1ms | statement | connection 580| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T10:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:22:45.529+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1765444965529 | took 1ms | statement | connection 581| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T10:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:22:45.531+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-8] p6spy                                    : #1765444965531 | took 0ms | statement | connection 580| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T10:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:22:45.531+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-6] p6spy                                    : #1765444965531 | took 0ms | statement | connection 583| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T11:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:22:45.535+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1765444965535 | took 1ms | statement | connection 581| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T11:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:22:45.535+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-8] p6spy                                    : #1765444965535 | took 1ms | statement | connection 580| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T11:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:22:45.537+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-6] p6spy                                    : #1765444965537 | took 0ms | statement | connection 583| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T11:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:22:45.539+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-8] p6spy                                    : #1765444965539 | took 1ms | statement | connection 580| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T11:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:22:45.539+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1765444965539 | took 0ms | statement | connection 581| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T11:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:22:45.539+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-6] p6spy                                    : #1765444965539 | took 0ms | statement | connection 583| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T12:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:22:45.539+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-8] p6spy                                    : #1765444965539 | took 0ms | statement | connection 580| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T12:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:22:45.542+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1765444965542 | took 0ms | statement | connection 581| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T12:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:22:45.544+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-6] p6spy                                    : #1765444965544 | took 1ms | statement | connection 583| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T12:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:22:45.545+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-8] p6spy                                    : #1765444965545 | took 2ms | statement | connection 580| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T12:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:22:45.550+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1765444965550 | took 1ms | statement | connection 581| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T12:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:22:45.550+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-6] p6spy                                    : #1765444965550 | took 0ms | statement | connection 583| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T13:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:22:45.552+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-8] p6spy                                    : #1765444965552 | took 0ms | statement | connection 580| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T13:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:22:45.553+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-8] p6spy                                    : #1765444965553 | took 0ms | statement | connection 580| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T13:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:22:45.553+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1765444965553 | took 0ms | statement | connection 581| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T13:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:22:45.553+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-6] p6spy                                    : #1765444965553 | took 0ms | statement | connection 583| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T13:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:22:45.553+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-8] p6spy                                    : #1765444965553 | took 0ms | statement | connection 580| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T14:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:22:45.553+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-6] p6spy                                    : #1765444965553 | took 0ms | statement | connection 583| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T14:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:22:45.594+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1765444965594 | took 0ms | statement | connection 581| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T13:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:22:45.596+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-8] p6spy                                    : #1765444965596 | took 1ms | statement | connection 580| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T14:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:22:45.598+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-6] p6spy                                    : #1765444965598 | took 2ms | statement | connection 583| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T14:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:22:45.600+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-8] p6spy                                    : #1765444965600 | took 0ms | statement | connection 580| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T15:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:22:45.604+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-6] p6spy                                    : #1765444965604 | took 0ms | statement | connection 583| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T15:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:22:45.604+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1765444965604 | took 0ms | statement | connection 581| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T14:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:22:45.606+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-8] p6spy                                    : #1765444965606 | took 0ms | statement | connection 580| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T15:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:22:45.609+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1765444965609 | took 1ms | statement | connection 581| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T14:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:22:45.609+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-6] p6spy                                    : #1765444965609 | took 2ms | statement | connection 583| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T15:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:22:45.612+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-8] p6spy                                    : #1765444965612 | took 1ms | statement | connection 580| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T16:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:22:45.614+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-8] p6spy                                    : #1765444965614 | took 1ms | statement | connection 580| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T16:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:22:45.614+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1765444965614 | took 1ms | statement | connection 581| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T15:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:22:45.617+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-6] p6spy                                    : #1765444965617 | took 2ms | statement | connection 583| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T16:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:22:45.619+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-8] p6spy                                    : #1765444965619 | took 0ms | statement | connection 580| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T17:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:22:45.619+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1765444965619 | took 0ms | statement | connection 581| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T15:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:22:45.619+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-6] p6spy                                    : #1765444965619 | took 0ms | statement | connection 583| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T16:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:22:45.620+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-6] p6spy                                    : #1765444965620 | took 0ms | statement | connection 583| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T17:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:22:45.620+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1765444965620 | took 0ms | statement | connection 581| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T16:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:22:45.620+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-8] p6spy                                    : #1765444965620 | took 0ms | statement | connection 580| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T17:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:22:45.620+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-6] p6spy                                    : #1765444965620 | took 0ms | statement | connection 583| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T17:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:22:45.621+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1765444965621 | took 0ms | statement | connection 581| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T16:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:22:45.621+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-8] p6spy                                    : #1765444965621 | took 0ms | statement | connection 580| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T18:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:22:45.621+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-6] p6spy                                    : #1765444965621 | took 0ms | statement | connection 583| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T18:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:22:45.622+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1765444965622 | took 0ms | statement | connection 581| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T17:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:22:45.625+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1765444965625 | took 0ms | statement | connection 581| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T17:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:22:45.628+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1765444965628 | took 0ms | statement | connection 581| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T18:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:56:26.522+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1765446986519 | took 75ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT status,
           "from" AS from_time,
           "to"   AS to_time
    FROM work_days
    WHERE branch_id = ?
      AND UPPER(working_day) = ?
    LIMIT 1

    SELECT status,
           "from" AS from_time,
           "to"   AS to_time
    FROM work_days
    WHERE branch_id = 1
      AND UPPER(working_day) = 'THURSDAY'
    LIMIT 1
;
2025-12-11T13:56:26.590+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1765446986590 | took 9ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT COALESCE(SUM(qty), 0) AS total_qty
    FROM branch_brand_service
    WHERE branch_id = ?

    SELECT COALESCE(SUM(qty), 0) AS total_qty
    FROM branch_brand_service
    WHERE branch_id = 1
;
2025-12-11T13:56:26.596+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1765446986596 | took 0ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT COALESCE(SUM(experts), 0) AS total_experts
    FROM branch_brand_service
    WHERE branch_id = ?

    SELECT COALESCE(SUM(experts), 0) AS total_experts
    FROM branch_brand_service
    WHERE branch_id = 1
;
2025-12-11T13:56:26.626+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1765446986626 | took 20ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T09:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:56:26.672+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1765446986672 | took 1ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T09:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:56:26.681+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1765446986680 | took 1ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T10:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:56:26.713+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1765446986713 | took 2ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T10:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:56:26.730+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1765446986730 | took 2ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T11:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:56:26.737+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1765446986737 | took 0ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T11:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:56:26.743+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1765446986743 | took 1ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T12:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:56:26.748+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1765446986748 | took 1ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T12:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:56:26.758+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1765446986758 | took 1ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T13:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:56:26.766+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1765446986766 | took 1ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T13:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:56:26.772+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1765446986772 | took 0ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T14:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:56:26.778+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1765446986778 | took 0ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T14:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:56:26.780+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1765446986780 | took 0ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T15:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:56:26.787+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1765446986787 | took 0ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T15:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:56:26.801+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1765446986801 | took 1ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T16:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:56:26.805+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1765446986805 | took 0ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T16:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:56:26.814+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1765446986814 | took 0ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T17:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:56:26.819+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1765446986819 | took 0ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T17:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:56:26.824+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1765446986824 | took 0ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T18:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:56:26.862+04:00 DEBUG 31548 --- [carservices] [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        dts1_0.disable_time_slot_id,
        dts1_0.branch_id,
        dts1_0.service_id,
        dts1_0.time_slot 
    from
        disable_time_slot dts1_0
2025-12-11T13:56:26.904+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-8] p6spy                                    : #1765446986904 | took 25ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
select dts1_0.disable_time_slot_id,dts1_0.branch_id,dts1_0.service_id,dts1_0.time_slot from disable_time_slot dts1_0
select dts1_0.disable_time_slot_id,dts1_0.branch_id,dts1_0.service_id,dts1_0.time_slot from disable_time_slot dts1_0;
2025-12-11T13:56:26.968+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-8] p6spy                                    : #1765446986968 | took 0ms | commit | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb

;
2025-12-11T13:56:27.526+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1765446987526 | took 10ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT status,
           "from" AS from_time,
           "to"   AS to_time
    FROM work_days
    WHERE branch_id = ?
      AND UPPER(working_day) = ?
    LIMIT 1

    SELECT status,
           "from" AS from_time,
           "to"   AS to_time
    FROM work_days
    WHERE branch_id = 1
      AND UPPER(working_day) = 'THURSDAY'
    LIMIT 1
;
2025-12-11T13:56:27.535+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1765446987535 | took 5ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT COALESCE(SUM(qty), 0) AS total_qty
    FROM branch_brand_service
    WHERE branch_id = ?

    SELECT COALESCE(SUM(qty), 0) AS total_qty
    FROM branch_brand_service
    WHERE branch_id = 1
;
2025-12-11T13:56:27.537+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1765446987537 | took 0ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT COALESCE(SUM(experts), 0) AS total_experts
    FROM branch_brand_service
    WHERE branch_id = ?

    SELECT COALESCE(SUM(experts), 0) AS total_experts
    FROM branch_brand_service
    WHERE branch_id = 1
;
2025-12-11T13:56:27.553+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1765446987553 | took 10ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T09:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:56:27.557+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1765446987557 | took 1ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T09:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:56:27.562+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1765446987560 | took 1ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T10:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:56:27.564+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1765446987564 | took 1ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T10:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:56:27.573+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1765446987573 | took 1ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T11:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:56:27.576+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1765446987576 | took 0ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T11:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:56:27.584+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1765446987584 | took 0ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T12:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:56:27.587+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1765446987587 | took 0ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T12:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:56:27.589+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1765446987589 | took 0ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T13:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:56:27.591+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1765446987591 | took 0ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T13:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:56:27.594+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1765446987594 | took 0ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T14:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:56:27.597+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1765446987597 | took 0ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T14:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:56:27.600+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1765446987600 | took 0ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T15:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:56:27.605+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1765446987605 | took 0ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T15:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:56:27.609+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1765446987608 | took 1ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T16:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:56:27.610+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1765446987610 | took 0ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T16:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:56:27.613+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1765446987613 | took 0ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T17:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:56:27.621+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1765446987621 | took 0ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T17:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:56:27.624+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1765446987624 | took 0ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T18:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:56:59.298+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-9] c.c.c.c.ReservationQueryController       : POST /api/reservations/by-branch body: {"branch_id":1}
2025-12-11T13:56:59.298+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-6] c.c.c.c.ReservationQueryController       : POST /api/reservations/by-branch body: {"branch_id":1}
2025-12-11T13:56:59.347+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-9] p6spy                                    : #1765447019347 | took 37ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
SELECT
    r.user_id                  AS user_id,                 -- ðŸ”¹ NEW
    r.reservation_id           AS reservation_id,
    r.reservation_date         AS reservation_date,
    r.reservation_time         AS reservation_time,
    b.branch_name              AS branch_name,
    b.address                  AS address,
    b.city                     AS city,
    b.logo_img                 AS logo_img,
    br.brand_name              AS brand_name,
    cd.car_model               AS model_name,
    s.service_name             AS service_name,
    r.reservation_status       AS reservation_status,
    bbs.id                     AS branch_brand_serviceid,
    cd.plate_number            AS plate_number,
    COALESCE(AVG(re.stars), 0) AS stars
FROM reservation_service_request r
JOIN branch b ON b.branch_id = r.branch_id
JOIN car_details cd ON cd.car_id = r.car_id
JOIN brand br ON br.brand_id = cd.brand_id
JOIN service_entity s ON s.service_id = r.service_id
LEFT JOIN branch_brand_service bbs
  ON bbs.branch_id = r.branch_id
 AND bbs.service_id = r.service_id
 AND bbs.brand_id   = cd.brand_id
LEFT JOIN rate_experience re
  ON re.branch_brand_serviceid = bbs.id
WHERE r.branch_id = ?
GROUP BY
    r.user_id,                                           -- ðŸ”¹ NEW
    r.reservation_id, r.reservation_date, r.reservation_time,
    b.branch_name, b.address, b.city, b.logo_img,
    br.brand_name, cd.car_model, s.service_name,
    r.reservation_status, bbs.id, cd.plate_number
ORDER BY r.reservation_date DESC, r.reservation_time DESC

SELECT
    r.user_id                  AS user_id,                 -- ðŸ”¹ NEW
    r.reservation_id           AS reservation_id,
    r.reservation_date         AS reservation_date,
    r.reservation_time         AS reservation_time,
    b.branch_name              AS branch_name,
    b.address                  AS address,
    b.city                     AS city,
    b.logo_img                 AS logo_img,
    br.brand_name              AS brand_name,
    cd.car_model               AS model_name,
    s.service_name             AS service_name,
    r.reservation_status       AS reservation_status,
    bbs.id                     AS branch_brand_serviceid,
    cd.plate_number            AS plate_number,
    COALESCE(AVG(re.stars), 0) AS stars
FROM reservation_service_request r
JOIN branch b ON b.branch_id = r.branch_id
JOIN car_details cd ON cd.car_id = r.car_id
JOIN brand br ON br.brand_id = cd.brand_id
JOIN service_entity s ON s.service_id = r.service_id
LEFT JOIN branch_brand_service bbs
  ON bbs.branch_id = r.branch_id
 AND bbs.service_id = r.service_id
 AND bbs.brand_id   = cd.brand_id
LEFT JOIN rate_experience re
  ON re.branch_brand_serviceid = bbs.id
WHERE r.branch_id = 1
GROUP BY
    r.user_id,                                           -- ðŸ”¹ NEW
    r.reservation_id, r.reservation_date, r.reservation_time,
    b.branch_name, b.address, b.city, b.logo_img,
    br.brand_name, cd.car_model, s.service_name,
    r.reservation_status, bbs.id, cd.plate_number
ORDER BY r.reservation_date DESC, r.reservation_time DESC
;
2025-12-11T13:56:59.347+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-6] p6spy                                    : #1765447019347 | took 37ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
SELECT
    r.user_id                  AS user_id,                 -- ðŸ”¹ NEW
    r.reservation_id           AS reservation_id,
    r.reservation_date         AS reservation_date,
    r.reservation_time         AS reservation_time,
    b.branch_name              AS branch_name,
    b.address                  AS address,
    b.city                     AS city,
    b.logo_img                 AS logo_img,
    br.brand_name              AS brand_name,
    cd.car_model               AS model_name,
    s.service_name             AS service_name,
    r.reservation_status       AS reservation_status,
    bbs.id                     AS branch_brand_serviceid,
    cd.plate_number            AS plate_number,
    COALESCE(AVG(re.stars), 0) AS stars
FROM reservation_service_request r
JOIN branch b ON b.branch_id = r.branch_id
JOIN car_details cd ON cd.car_id = r.car_id
JOIN brand br ON br.brand_id = cd.brand_id
JOIN service_entity s ON s.service_id = r.service_id
LEFT JOIN branch_brand_service bbs
  ON bbs.branch_id = r.branch_id
 AND bbs.service_id = r.service_id
 AND bbs.brand_id   = cd.brand_id
LEFT JOIN rate_experience re
  ON re.branch_brand_serviceid = bbs.id
WHERE r.branch_id = ?
GROUP BY
    r.user_id,                                           -- ðŸ”¹ NEW
    r.reservation_id, r.reservation_date, r.reservation_time,
    b.branch_name, b.address, b.city, b.logo_img,
    br.brand_name, cd.car_model, s.service_name,
    r.reservation_status, bbs.id, cd.plate_number
ORDER BY r.reservation_date DESC, r.reservation_time DESC

SELECT
    r.user_id                  AS user_id,                 -- ðŸ”¹ NEW
    r.reservation_id           AS reservation_id,
    r.reservation_date         AS reservation_date,
    r.reservation_time         AS reservation_time,
    b.branch_name              AS branch_name,
    b.address                  AS address,
    b.city                     AS city,
    b.logo_img                 AS logo_img,
    br.brand_name              AS brand_name,
    cd.car_model               AS model_name,
    s.service_name             AS service_name,
    r.reservation_status       AS reservation_status,
    bbs.id                     AS branch_brand_serviceid,
    cd.plate_number            AS plate_number,
    COALESCE(AVG(re.stars), 0) AS stars
FROM reservation_service_request r
JOIN branch b ON b.branch_id = r.branch_id
JOIN car_details cd ON cd.car_id = r.car_id
JOIN brand br ON br.brand_id = cd.brand_id
JOIN service_entity s ON s.service_id = r.service_id
LEFT JOIN branch_brand_service bbs
  ON bbs.branch_id = r.branch_id
 AND bbs.service_id = r.service_id
 AND bbs.brand_id   = cd.brand_id
LEFT JOIN rate_experience re
  ON re.branch_brand_serviceid = bbs.id
WHERE r.branch_id = 1
GROUP BY
    r.user_id,                                           -- ðŸ”¹ NEW
    r.reservation_id, r.reservation_date, r.reservation_time,
    b.branch_name, b.address, b.city, b.logo_img,
    br.brand_name, cd.car_model, s.service_name,
    r.reservation_status, bbs.id, cd.plate_number
ORDER BY r.reservation_date DESC, r.reservation_time DESC
;
2025-12-11T13:56:59.395+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-9] p6spy                                    : #1765447019395 | took 11ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
SELECT
  rss.reservation_service_sparepart_id,
  rss.part_name,
  rss.qty,
  rss.spareparts_id,
  sp.spareparts_type,
  rss.reservation_id
FROM reservation_service_sparepart rss
LEFT JOIN spare_parts sp
  ON sp.spareparts_id = rss.spareparts_id
WHERE rss.reservation_id IN (?,?,?,?,?,?)
ORDER BY rss.reservation_service_sparepart_id

SELECT
  rss.reservation_service_sparepart_id,
  rss.part_name,
  rss.qty,
  rss.spareparts_id,
  sp.spareparts_type,
  rss.reservation_id
FROM reservation_service_sparepart rss
LEFT JOIN spare_parts sp
  ON sp.spareparts_id = rss.spareparts_id
WHERE rss.reservation_id IN (89,90,87,88,1,5)
ORDER BY rss.reservation_service_sparepart_id
;
2025-12-11T13:56:59.395+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-6] p6spy                                    : #1765447019395 | took 10ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
SELECT
  rss.reservation_service_sparepart_id,
  rss.part_name,
  rss.qty,
  rss.spareparts_id,
  sp.spareparts_type,
  rss.reservation_id
FROM reservation_service_sparepart rss
LEFT JOIN spare_parts sp
  ON sp.spareparts_id = rss.spareparts_id
WHERE rss.reservation_id IN (?,?,?,?,?,?)
ORDER BY rss.reservation_service_sparepart_id

SELECT
  rss.reservation_service_sparepart_id,
  rss.part_name,
  rss.qty,
  rss.spareparts_id,
  sp.spareparts_type,
  rss.reservation_id
FROM reservation_service_sparepart rss
LEFT JOIN spare_parts sp
  ON sp.spareparts_id = rss.spareparts_id
WHERE rss.reservation_id IN (89,90,87,88,1,5)
ORDER BY rss.reservation_service_sparepart_id
;
2025-12-11T13:57:00.269+04:00 DEBUG 31548 --- [carservices] [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        dts1_0.disable_time_slot_id,
        dts1_0.branch_id,
        dts1_0.service_id,
        dts1_0.time_slot 
    from
        disable_time_slot dts1_0
2025-12-11T13:57:00.272+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1765447020272 | took 0ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
select dts1_0.disable_time_slot_id,dts1_0.branch_id,dts1_0.service_id,dts1_0.time_slot from disable_time_slot dts1_0
select dts1_0.disable_time_slot_id,dts1_0.branch_id,dts1_0.service_id,dts1_0.time_slot from disable_time_slot dts1_0;
2025-12-11T13:57:00.276+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1765447020276 | took 0ms | commit | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb

;
2025-12-11T13:57:00.292+04:00 DEBUG 31548 --- [carservices] [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        dts1_0.disable_time_slot_id,
        dts1_0.branch_id,
        dts1_0.service_id,
        dts1_0.time_slot 
    from
        disable_time_slot dts1_0
2025-12-11T13:57:00.301+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1765447020301 | took 6ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
select dts1_0.disable_time_slot_id,dts1_0.branch_id,dts1_0.service_id,dts1_0.time_slot from disable_time_slot dts1_0
select dts1_0.disable_time_slot_id,dts1_0.branch_id,dts1_0.service_id,dts1_0.time_slot from disable_time_slot dts1_0;
2025-12-11T13:57:00.309+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1765447020309 | took 0ms | commit | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb

;
2025-12-11T13:57:00.322+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-6] p6spy                                    : #1765447020322 | took 2ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT working_day, "from", "to"
    FROM work_days
    WHERE branch_id = ?
      AND LOWER(working_day) = ?
      AND status = 'active'
    LIMIT 1

    SELECT working_day, "from", "to"
    FROM work_days
    WHERE branch_id = 1
      AND LOWER(working_day) = 'thursday'
      AND status = 'active'
    LIMIT 1
;
2025-12-11T13:57:00.322+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-1] p6spy                                    : #1765447020321 | took 2ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT working_day, "from", "to"
    FROM work_days
    WHERE branch_id = ?
      AND LOWER(working_day) = ?
      AND status = 'active'
    LIMIT 1

    SELECT working_day, "from", "to"
    FROM work_days
    WHERE branch_id = 1
      AND LOWER(working_day) = 'thursday'
      AND status = 'active'
    LIMIT 1
;
2025-12-11T13:57:00.339+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-1] p6spy                                    : #1765447020339 | took 9ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        r.reservation_id,
        r.reservation_date,
        r.reservation_time,
        r.brand_id,
        b.brand_name,
        r.model_id,
        m.model_name,
        cd.plate_number,
        r.service_id,
        s.service_name,
        u.email
    FROM reservation_service_request r
    JOIN brand b
      ON b.brand_id = r.brand_id
    JOIN car_brand_model m
      ON m.id = r.model_id
    JOIN car_details cd
      ON cd.car_id = r.car_id
    JOIN service_entity s
      ON s.service_id = r.service_id
    JOIN user_registration u
      ON u.id = r.user_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
    ORDER BY r.reservation_time

    SELECT
        r.reservation_id,
        r.reservation_date,
        r.reservation_time,
        r.brand_id,
        b.brand_name,
        r.model_id,
        m.model_name,
        cd.plate_number,
        r.service_id,
        s.service_name,
        u.email
    FROM reservation_service_request r
    JOIN brand b
      ON b.brand_id = r.brand_id
    JOIN car_brand_model m
      ON m.id = r.model_id
    JOIN car_details cd
      ON cd.car_id = r.car_id
    JOIN service_entity s
      ON s.service_id = r.service_id
    JOIN user_registration u
      ON u.id = r.user_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
    ORDER BY r.reservation_time
;
2025-12-11T13:57:00.339+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-6] p6spy                                    : #1765447020339 | took 7ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        r.reservation_id,
        r.reservation_date,
        r.reservation_time,
        r.brand_id,
        b.brand_name,
        r.model_id,
        m.model_name,
        cd.plate_number,
        r.service_id,
        s.service_name,
        u.email
    FROM reservation_service_request r
    JOIN brand b
      ON b.brand_id = r.brand_id
    JOIN car_brand_model m
      ON m.id = r.model_id
    JOIN car_details cd
      ON cd.car_id = r.car_id
    JOIN service_entity s
      ON s.service_id = r.service_id
    JOIN user_registration u
      ON u.id = r.user_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
    ORDER BY r.reservation_time

    SELECT
        r.reservation_id,
        r.reservation_date,
        r.reservation_time,
        r.brand_id,
        b.brand_name,
        r.model_id,
        m.model_name,
        cd.plate_number,
        r.service_id,
        s.service_name,
        u.email
    FROM reservation_service_request r
    JOIN brand b
      ON b.brand_id = r.brand_id
    JOIN car_brand_model m
      ON m.id = r.model_id
    JOIN car_details cd
      ON cd.car_id = r.car_id
    JOIN service_entity s
      ON s.service_id = r.service_id
    JOIN user_registration u
      ON u.id = r.user_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
    ORDER BY r.reservation_time
;
2025-12-11T13:57:00.402+04:00 DEBUG 31548 --- [carservices] [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    SELECT
        DISTINCT     bbs.service_id AS serviceId,
        se.service_name AS serviceName 
    FROM
        branch_brand_service bbs 
    JOIN
        service_entity se 
            ON bbs.service_id = se.service_id 
    WHERE
        bbs.branch_id = ?  
    ORDER BY
        se.service_name ASC 
2025-12-11T13:57:00.402+04:00 DEBUG 31548 --- [carservices] [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    SELECT
        DISTINCT     bbs.service_id AS serviceId,
        se.service_name AS serviceName 
    FROM
        branch_brand_service bbs 
    JOIN
        service_entity se 
            ON bbs.service_id = se.service_id 
    WHERE
        bbs.branch_id = ?  
    ORDER BY
        se.service_name ASC 
2025-12-11T13:57:00.410+04:00 TRACE 31548 --- [carservices] [http-nio-8081-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-12-11T13:57:00.413+04:00 TRACE 31548 --- [carservices] [http-nio-8081-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-12-11T13:57:00.417+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1765447020417 | took 2ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
SELECT DISTINCT
    bbs.service_id AS serviceId,
    se.service_name AS serviceName
FROM branch_brand_service bbs
JOIN service_entity se ON bbs.service_id = se.service_id
WHERE bbs.branch_id = ?

ORDER BY se.service_name ASC

SELECT DISTINCT
    bbs.service_id AS serviceId,
    se.service_name AS serviceName
FROM branch_brand_service bbs
JOIN service_entity se ON bbs.service_id = se.service_id
WHERE bbs.branch_id = 1

ORDER BY se.service_name ASC
;
2025-12-11T13:57:00.417+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-8] p6spy                                    : #1765447020417 | took 4ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
SELECT DISTINCT
    bbs.service_id AS serviceId,
    se.service_name AS serviceName
FROM branch_brand_service bbs
JOIN service_entity se ON bbs.service_id = se.service_id
WHERE bbs.branch_id = ?

ORDER BY se.service_name ASC

SELECT DISTINCT
    bbs.service_id AS serviceId,
    se.service_name AS serviceName
FROM branch_brand_service bbs
JOIN service_entity se ON bbs.service_id = se.service_id
WHERE bbs.branch_id = 1

ORDER BY se.service_name ASC
;
2025-12-11T13:57:00.754+04:00 DEBUG 31548 --- [carservices] [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        dts1_0.disable_time_slot_id,
        dts1_0.branch_id,
        dts1_0.service_id,
        dts1_0.time_slot 
    from
        disable_time_slot dts1_0
2025-12-11T13:57:00.755+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-7] p6spy                                    : #1765447020755 | took 0ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
select dts1_0.disable_time_slot_id,dts1_0.branch_id,dts1_0.service_id,dts1_0.time_slot from disable_time_slot dts1_0
select dts1_0.disable_time_slot_id,dts1_0.branch_id,dts1_0.service_id,dts1_0.time_slot from disable_time_slot dts1_0;
2025-12-11T13:57:00.758+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-7] p6spy                                    : #1765447020758 | took 0ms | commit | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb

;
2025-12-11T13:57:00.796+04:00 DEBUG 31548 --- [carservices] [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        bbs1_0.id,
        bbs1_0.branch_id,
        bbs1_0.brand_id,
        bbs1_0.experts,
        bbs1_0.qty,
        bbs1_0.service_id,
        bbs1_0.status 
    from
        branch_brand_service bbs1_0
2025-12-11T13:57:00.799+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1765447020799 | took 1ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
select bbs1_0.id,bbs1_0.branch_id,bbs1_0.brand_id,bbs1_0.experts,bbs1_0.qty,bbs1_0.service_id,bbs1_0.status from branch_brand_service bbs1_0
select bbs1_0.id,bbs1_0.branch_id,bbs1_0.brand_id,bbs1_0.experts,bbs1_0.qty,bbs1_0.service_id,bbs1_0.status from branch_brand_service bbs1_0;
2025-12-11T13:57:00.836+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1765447020836 | took 0ms | commit | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb

;
2025-12-11T13:57:00.918+04:00 DEBUG 31548 --- [carservices] [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        dts1_0.disable_time_slot_id,
        dts1_0.branch_id,
        dts1_0.service_id,
        dts1_0.time_slot 
    from
        disable_time_slot dts1_0
2025-12-11T13:57:00.918+04:00 DEBUG 31548 --- [carservices] [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        bbs1_0.id,
        bbs1_0.branch_id,
        bbs1_0.brand_id,
        bbs1_0.experts,
        bbs1_0.qty,
        bbs1_0.service_id,
        bbs1_0.status 
    from
        branch_brand_service bbs1_0
2025-12-11T13:57:00.921+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-10] p6spy                                    : #1765447020920 | took 0ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
select bbs1_0.id,bbs1_0.branch_id,bbs1_0.brand_id,bbs1_0.experts,bbs1_0.qty,bbs1_0.service_id,bbs1_0.status from branch_brand_service bbs1_0
select bbs1_0.id,bbs1_0.branch_id,bbs1_0.brand_id,bbs1_0.experts,bbs1_0.qty,bbs1_0.service_id,bbs1_0.status from branch_brand_service bbs1_0;
2025-12-11T13:57:00.921+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-9] p6spy                                    : #1765447020921 | took 0ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
select dts1_0.disable_time_slot_id,dts1_0.branch_id,dts1_0.service_id,dts1_0.time_slot from disable_time_slot dts1_0
select dts1_0.disable_time_slot_id,dts1_0.branch_id,dts1_0.service_id,dts1_0.time_slot from disable_time_slot dts1_0;
2025-12-11T13:57:00.926+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-9] p6spy                                    : #1765447020926 | took 0ms | commit | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb

;
2025-12-11T13:57:00.954+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-10] p6spy                                    : #1765447020954 | took 0ms | commit | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb

;
2025-12-11T13:57:00.995+04:00 DEBUG 31548 --- [carservices] [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        dts1_0.disable_time_slot_id,
        dts1_0.branch_id,
        dts1_0.service_id,
        dts1_0.time_slot 
    from
        disable_time_slot dts1_0
2025-12-11T13:57:00.995+04:00 DEBUG 31548 --- [carservices] [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        bbs1_0.id,
        bbs1_0.branch_id,
        bbs1_0.brand_id,
        bbs1_0.experts,
        bbs1_0.qty,
        bbs1_0.service_id,
        bbs1_0.status 
    from
        branch_brand_service bbs1_0
2025-12-11T13:57:00.997+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1765447020997 | took 0ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
select dts1_0.disable_time_slot_id,dts1_0.branch_id,dts1_0.service_id,dts1_0.time_slot from disable_time_slot dts1_0
select dts1_0.disable_time_slot_id,dts1_0.branch_id,dts1_0.service_id,dts1_0.time_slot from disable_time_slot dts1_0;
2025-12-11T13:57:00.999+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1765447020999 | took 2ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
select bbs1_0.id,bbs1_0.branch_id,bbs1_0.brand_id,bbs1_0.experts,bbs1_0.qty,bbs1_0.service_id,bbs1_0.status from branch_brand_service bbs1_0
select bbs1_0.id,bbs1_0.branch_id,bbs1_0.brand_id,bbs1_0.experts,bbs1_0.qty,bbs1_0.service_id,bbs1_0.status from branch_brand_service bbs1_0;
2025-12-11T13:57:01.002+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1765447021002 | took 0ms | commit | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb

;
2025-12-11T13:57:01.054+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1765447021054 | took 1ms | commit | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb

;
2025-12-11T13:57:07.387+04:00 DEBUG 31548 --- [carservices] [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    SELECT
        COUNT(*)     
    FROM
        reservation_service_request     
    WHERE
        branch_id = ?       
        AND reservation_time = CAST(? AS time)       
        AND reservation_date >= CURRENT_DATE       
        AND (
            ? IS NULL 
            OR service_id = ?
        ) 
2025-12-11T13:57:07.388+04:00 TRACE 31548 --- [carservices] [http-nio-8081-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-12-11T13:57:07.388+04:00 TRACE 31548 --- [carservices] [http-nio-8081-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (2:VARCHAR) <- [09:30]
2025-12-11T13:57:07.389+04:00 TRACE 31548 --- [carservices] [http-nio-8081-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (3:BIGINT) <- [null]
2025-12-11T13:57:07.389+04:00 TRACE 31548 --- [carservices] [http-nio-8081-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (4:BIGINT) <- [null]
2025-12-11T13:57:07.395+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-1] p6spy                                    : #1765447027395 | took 5ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT COUNT(*)
    FROM reservation_service_request
    WHERE branch_id = ?
      AND reservation_time = CAST(? AS time)
      AND reservation_date >= CURRENT_DATE
      AND (? IS NULL OR service_id = ?)

    SELECT COUNT(*)
    FROM reservation_service_request
    WHERE branch_id = 1
      AND reservation_time = CAST('09:30' AS time)
      AND reservation_date >= CURRENT_DATE
      AND (NULL IS NULL OR service_id = NULL)
;
2025-12-11T13:57:07.518+04:00 DEBUG 31548 --- [carservices] [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    insert 
    into
        disable_time_slot
        (branch_id, service_id, time_slot) 
    values
        (?, ?, ?)
2025-12-11T13:57:07.523+04:00 TRACE 31548 --- [carservices] [http-nio-8081-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-12-11T13:57:07.523+04:00 TRACE 31548 --- [carservices] [http-nio-8081-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (2:BIGINT) <- [null]
2025-12-11T13:57:07.523+04:00 TRACE 31548 --- [carservices] [http-nio-8081-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (3:VARCHAR) <- [09:30]
2025-12-11T13:57:07.545+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-1] p6spy                                    : #1765447027545 | took 21ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
insert into disable_time_slot (branch_id,service_id,time_slot) values (?,?,?)
insert into disable_time_slot (branch_id,service_id,time_slot) values (1,NULL,'09:30');
2025-12-11T13:57:07.596+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-1] p6spy                                    : #1765447027594 | took 5ms | commit | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb

;
2025-12-11T13:57:25.781+04:00 DEBUG 31548 --- [carservices] [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        se1_0.service_id,
        se1_0.service_name,
        se1_0.service_type 
    from
        service_entity se1_0
2025-12-11T13:57:25.781+04:00 DEBUG 31548 --- [carservices] [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        dts1_0.disable_time_slot_id,
        dts1_0.branch_id,
        dts1_0.service_id,
        dts1_0.time_slot 
    from
        disable_time_slot dts1_0
2025-12-11T13:57:25.787+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-8] p6spy                                    : #1765447045786 | took 0ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
select se1_0.service_id,se1_0.service_name,se1_0.service_type from service_entity se1_0
select se1_0.service_id,se1_0.service_name,se1_0.service_type from service_entity se1_0;
2025-12-11T13:57:25.788+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1765447045788 | took 0ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
select dts1_0.disable_time_slot_id,dts1_0.branch_id,dts1_0.service_id,dts1_0.time_slot from disable_time_slot dts1_0
select dts1_0.disable_time_slot_id,dts1_0.branch_id,dts1_0.service_id,dts1_0.time_slot from disable_time_slot dts1_0;
2025-12-11T13:57:25.791+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1765447045791 | took 0ms | commit | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb

;
2025-12-11T13:57:25.793+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-8] p6spy                                    : #1765447045793 | took 0ms | commit | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb

;
2025-12-11T13:57:25.800+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-7] p6spy                                    : #1765447045800 | took 0ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT status,
           "from" AS from_time,
           "to"   AS to_time
    FROM work_days
    WHERE branch_id = ?
      AND UPPER(working_day) = ?
    LIMIT 1

    SELECT status,
           "from" AS from_time,
           "to"   AS to_time
    FROM work_days
    WHERE branch_id = 1
      AND UPPER(working_day) = 'THURSDAY'
    LIMIT 1
;
2025-12-11T13:57:25.802+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-7] p6spy                                    : #1765447045802 | took 0ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT COALESCE(SUM(qty), 0) AS total_qty
    FROM branch_brand_service
    WHERE branch_id = ?

    SELECT COALESCE(SUM(qty), 0) AS total_qty
    FROM branch_brand_service
    WHERE branch_id = 1
;
2025-12-11T13:57:25.803+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-7] p6spy                                    : #1765447045803 | took 0ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT COALESCE(SUM(experts), 0) AS total_experts
    FROM branch_brand_service
    WHERE branch_id = ?

    SELECT COALESCE(SUM(experts), 0) AS total_experts
    FROM branch_brand_service
    WHERE branch_id = 1
;
2025-12-11T13:57:25.807+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-7] p6spy                                    : #1765447045807 | took 0ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T09:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:25.809+04:00 DEBUG 31548 --- [carservices] [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        se1_0.service_id,
        se1_0.service_name,
        se1_0.service_type 
    from
        service_entity se1_0
2025-12-11T13:57:25.809+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-7] p6spy                                    : #1765447045809 | took 0ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T09:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:25.811+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1765447045811 | took 15ms | statement | connection 592| url jdbc:p6spy:postgresql://localhost:5433/testdb
SELECT DISTINCT b.brand_id, b.brand_name
  FROM branch_brand_service bbs
  JOIN brand b ON bbs.brand_id = b.brand_id
 WHERE bbs.branch_id = ?
   AND bbs.status = 'active'
 ORDER BY b.brand_name

SELECT DISTINCT b.brand_id, b.brand_name
  FROM branch_brand_service bbs
  JOIN brand b ON bbs.brand_id = b.brand_id
 WHERE bbs.branch_id = 1
   AND bbs.status = 'active'
 ORDER BY b.brand_name
;
2025-12-11T13:57:25.811+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-7] p6spy                                    : #1765447045811 | took 0ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T10:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:25.812+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-8] p6spy                                    : #1765447045812 | took 0ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
select se1_0.service_id,se1_0.service_name,se1_0.service_type from service_entity se1_0
select se1_0.service_id,se1_0.service_name,se1_0.service_type from service_entity se1_0;
2025-12-11T13:57:25.815+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-8] p6spy                                    : #1765447045815 | took 0ms | commit | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb

;
2025-12-11T13:57:25.815+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-7] p6spy                                    : #1765447045814 | took 1ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T10:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:25.816+04:00 DEBUG 31548 --- [carservices] [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        dts1_0.disable_time_slot_id,
        dts1_0.branch_id,
        dts1_0.service_id,
        dts1_0.time_slot 
    from
        disable_time_slot dts1_0
2025-12-11T13:57:25.821+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-7] p6spy                                    : #1765447045821 | took 0ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T11:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:25.823+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-7] p6spy                                    : #1765447045823 | took 0ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T11:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:25.823+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-9] p6spy                                    : #1765447045823 | took 14ms | statement | connection 593| url jdbc:p6spy:postgresql://localhost:5433/testdb
SELECT DISTINCT b.brand_id, b.brand_name
  FROM branch_brand_service bbs
  JOIN brand b ON bbs.brand_id = b.brand_id
 WHERE bbs.branch_id = ?
   AND bbs.status = 'active'
 ORDER BY b.brand_name

SELECT DISTINCT b.brand_id, b.brand_name
  FROM branch_brand_service bbs
  JOIN brand b ON bbs.brand_id = b.brand_id
 WHERE bbs.branch_id = 1
   AND bbs.status = 'active'
 ORDER BY b.brand_name
;
2025-12-11T13:57:25.829+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1765447045829 | took 8ms | statement | connection 594| url jdbc:p6spy:postgresql://localhost:5433/testdb
select dts1_0.disable_time_slot_id,dts1_0.branch_id,dts1_0.service_id,dts1_0.time_slot from disable_time_slot dts1_0
select dts1_0.disable_time_slot_id,dts1_0.branch_id,dts1_0.service_id,dts1_0.time_slot from disable_time_slot dts1_0;
2025-12-11T13:57:25.830+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-7] p6spy                                    : #1765447045830 | took 0ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T12:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:25.835+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-10] p6spy                                    : #1765447045835 | took 1ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT status,
           "from" AS from_time,
           "to"   AS to_time
    FROM work_days
    WHERE branch_id = ?
      AND UPPER(working_day) = ?
    LIMIT 1

    SELECT status,
           "from" AS from_time,
           "to"   AS to_time
    FROM work_days
    WHERE branch_id = 1
      AND UPPER(working_day) = 'THURSDAY'
    LIMIT 1
;
2025-12-11T13:57:25.836+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-7] p6spy                                    : #1765447045836 | took 0ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T12:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:25.836+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1765447045836 | took 0ms | commit | connection 594| url jdbc:p6spy:postgresql://localhost:5433/testdb

;
2025-12-11T13:57:25.837+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-7] p6spy                                    : #1765447045837 | took 0ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T13:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:25.839+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-10] p6spy                                    : #1765447045839 | took 2ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT COALESCE(SUM(qty), 0) AS total_qty
    FROM branch_brand_service
    WHERE branch_id = ?

    SELECT COALESCE(SUM(qty), 0) AS total_qty
    FROM branch_brand_service
    WHERE branch_id = 1
;
2025-12-11T13:57:25.841+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-10] p6spy                                    : #1765447045840 | took 0ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT COALESCE(SUM(experts), 0) AS total_experts
    FROM branch_brand_service
    WHERE branch_id = ?

    SELECT COALESCE(SUM(experts), 0) AS total_experts
    FROM branch_brand_service
    WHERE branch_id = 1
;
2025-12-11T13:57:25.842+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-7] p6spy                                    : #1765447045842 | took 0ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T13:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:25.843+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-10] p6spy                                    : #1765447045843 | took 0ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T09:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:25.844+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-10] p6spy                                    : #1765447045844 | took 0ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T09:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:25.844+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-7] p6spy                                    : #1765447045844 | took 0ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T14:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:25.846+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-10] p6spy                                    : #1765447045846 | took 0ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T10:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:25.847+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-7] p6spy                                    : #1765447045847 | took 0ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T14:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:25.851+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1765447045851 | took 0ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT status,
           "from" AS from_time,
           "to"   AS to_time
    FROM work_days
    WHERE branch_id = ?
      AND UPPER(working_day) = ?
    LIMIT 1

    SELECT status,
           "from" AS from_time,
           "to"   AS to_time
    FROM work_days
    WHERE branch_id = 1
      AND UPPER(working_day) = 'THURSDAY'
    LIMIT 1
;
2025-12-11T13:57:25.857+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-10] p6spy                                    : #1765447045857 | took 4ms | statement | connection 592| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T10:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:25.859+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-7] p6spy                                    : #1765447045859 | took 0ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T15:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:25.861+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1765447045861 | took 0ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT COALESCE(SUM(qty), 0) AS total_qty
    FROM branch_brand_service
    WHERE branch_id = ?

    SELECT COALESCE(SUM(qty), 0) AS total_qty
    FROM branch_brand_service
    WHERE branch_id = 1
;
2025-12-11T13:57:25.862+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-10] p6spy                                    : #1765447045862 | took 0ms | statement | connection 592| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T11:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:25.866+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-7] p6spy                                    : #1765447045866 | took 0ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T15:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:25.867+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1765447045867 | took 0ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT COALESCE(SUM(experts), 0) AS total_experts
    FROM branch_brand_service
    WHERE branch_id = ?

    SELECT COALESCE(SUM(experts), 0) AS total_experts
    FROM branch_brand_service
    WHERE branch_id = 1
;
2025-12-11T13:57:25.871+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-10] p6spy                                    : #1765447045871 | took 0ms | statement | connection 592| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T11:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:25.871+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-7] p6spy                                    : #1765447045871 | took 0ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T16:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:25.873+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1765447045873 | took 0ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T09:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:25.876+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-10] p6spy                                    : #1765447045876 | took 0ms | statement | connection 592| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T12:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:25.877+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-7] p6spy                                    : #1765447045877 | took 0ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T16:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:25.878+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1765447045878 | took 0ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T09:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:25.883+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-10] p6spy                                    : #1765447045883 | took 1ms | statement | connection 592| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T12:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:25.886+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-7] p6spy                                    : #1765447045886 | took 0ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T17:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:25.890+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1765447045890 | took 0ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T10:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:25.892+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-10] p6spy                                    : #1765447045892 | took 0ms | statement | connection 592| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T13:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:25.894+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-7] p6spy                                    : #1765447045894 | took 0ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T17:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:25.900+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1765447045900 | took 0ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T10:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:25.907+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-10] p6spy                                    : #1765447045907 | took 0ms | statement | connection 592| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T13:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:25.909+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-7] p6spy                                    : #1765447045909 | took 0ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T18:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:25.909+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1765447045909 | took 0ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T11:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:25.909+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-10] p6spy                                    : #1765447045909 | took 0ms | statement | connection 592| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T14:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:25.914+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1765447045914 | took 0ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T11:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:25.918+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-10] p6spy                                    : #1765447045918 | took 0ms | statement | connection 592| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T14:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:25.920+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1765447045920 | took 0ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T12:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:25.924+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-10] p6spy                                    : #1765447045924 | took 0ms | statement | connection 592| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T15:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:25.926+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1765447045926 | took 0ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T12:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:25.927+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-10] p6spy                                    : #1765447045927 | took 0ms | statement | connection 592| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T15:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:25.932+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1765447045932 | took 0ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T13:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:25.932+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-10] p6spy                                    : #1765447045932 | took 0ms | statement | connection 592| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T16:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:25.935+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1765447045935 | took 0ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T13:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:25.935+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-10] p6spy                                    : #1765447045935 | took 0ms | statement | connection 592| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T16:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:25.937+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1765447045937 | took 0ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T14:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:25.937+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-10] p6spy                                    : #1765447045937 | took 0ms | statement | connection 592| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T17:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:25.940+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1765447045940 | took 1ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T14:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:25.940+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-10] p6spy                                    : #1765447045940 | took 0ms | statement | connection 592| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T17:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:25.944+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1765447045944 | took 0ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T15:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:25.944+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-6] p6spy                                    : #1765447045944 | took 1ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT status,
           "from" AS from_time,
           "to"   AS to_time
    FROM work_days
    WHERE branch_id = ?
      AND UPPER(working_day) = ?
    LIMIT 1

    SELECT status,
           "from" AS from_time,
           "to"   AS to_time
    FROM work_days
    WHERE branch_id = 1
      AND UPPER(working_day) = 'THURSDAY'
    LIMIT 1
;
2025-12-11T13:57:25.945+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-10] p6spy                                    : #1765447045945 | took 0ms | statement | connection 592| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T18:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:25.945+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1765447045945 | took 0ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T15:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:25.946+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-6] p6spy                                    : #1765447045946 | took 0ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT COALESCE(SUM(qty), 0) AS total_qty
    FROM branch_brand_service
    WHERE branch_id = ?

    SELECT COALESCE(SUM(qty), 0) AS total_qty
    FROM branch_brand_service
    WHERE branch_id = 1
;
2025-12-11T13:57:25.952+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1765447045952 | took 0ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T16:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:25.955+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-6] p6spy                                    : #1765447045955 | took 0ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT COALESCE(SUM(experts), 0) AS total_experts
    FROM branch_brand_service
    WHERE branch_id = ?

    SELECT COALESCE(SUM(experts), 0) AS total_experts
    FROM branch_brand_service
    WHERE branch_id = 1
;
2025-12-11T13:57:25.956+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1765447045956 | took 0ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T16:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:25.956+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-6] p6spy                                    : #1765447045956 | took 0ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T09:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:25.958+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1765447045958 | took 0ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T17:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:25.958+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-6] p6spy                                    : #1765447045958 | took 0ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T09:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:25.959+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1765447045959 | took 0ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T17:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:25.959+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-6] p6spy                                    : #1765447045959 | took 0ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T10:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:25.959+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1765447045959 | took 0ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T18:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:25.961+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-6] p6spy                                    : #1765447045961 | took 0ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T10:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:25.963+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-6] p6spy                                    : #1765447045963 | took 0ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T11:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:25.968+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-6] p6spy                                    : #1765447045968 | took 1ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T11:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:25.970+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-6] p6spy                                    : #1765447045970 | took 0ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T12:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:25.970+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-6] p6spy                                    : #1765447045970 | took 0ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T12:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:25.972+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-6] p6spy                                    : #1765447045972 | took 0ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T13:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:25.972+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-6] p6spy                                    : #1765447045972 | took 0ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T13:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:25.974+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-6] p6spy                                    : #1765447045974 | took 0ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T14:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:25.974+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-6] p6spy                                    : #1765447045974 | took 0ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T14:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:25.976+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-6] p6spy                                    : #1765447045976 | took 0ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T15:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:25.976+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-6] p6spy                                    : #1765447045976 | took 0ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T15:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:25.976+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-6] p6spy                                    : #1765447045976 | took 0ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T16:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:25.976+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-6] p6spy                                    : #1765447045976 | took 0ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T16:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:25.978+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-6] p6spy                                    : #1765447045978 | took 0ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T17:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:25.979+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-6] p6spy                                    : #1765447045979 | took 0ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T17:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:25.979+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-6] p6spy                                    : #1765447045979 | took 0ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-11'
      AND r.reservation_time = '1970-01-01T18:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:28.080+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-1] p6spy                                    : #1765447048080 | took 0ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT status,
           "from" AS from_time,
           "to"   AS to_time
    FROM work_days
    WHERE branch_id = ?
      AND UPPER(working_day) = ?
    LIMIT 1

    SELECT status,
           "from" AS from_time,
           "to"   AS to_time
    FROM work_days
    WHERE branch_id = 1
      AND UPPER(working_day) = 'FRIDAY'
    LIMIT 1
;
2025-12-11T13:57:28.081+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-1] p6spy                                    : #1765447048081 | took 0ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT COALESCE(SUM(qty), 0) AS total_qty
    FROM branch_brand_service
    WHERE branch_id = ?

    SELECT COALESCE(SUM(qty), 0) AS total_qty
    FROM branch_brand_service
    WHERE branch_id = 1
;
2025-12-11T13:57:28.084+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-1] p6spy                                    : #1765447048084 | took 0ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT COALESCE(SUM(experts), 0) AS total_experts
    FROM branch_brand_service
    WHERE branch_id = ?

    SELECT COALESCE(SUM(experts), 0) AS total_experts
    FROM branch_brand_service
    WHERE branch_id = 1
;
2025-12-11T13:57:28.086+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-1] p6spy                                    : #1765447048086 | took 0ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-12'
      AND r.reservation_time = '1970-01-01T09:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:28.087+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-1] p6spy                                    : #1765447048087 | took 0ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-12'
      AND r.reservation_time = '1970-01-01T09:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:28.087+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-1] p6spy                                    : #1765447048087 | took 0ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-12'
      AND r.reservation_time = '1970-01-01T10:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:28.088+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-1] p6spy                                    : #1765447048088 | took 0ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-12'
      AND r.reservation_time = '1970-01-01T10:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:28.088+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-1] p6spy                                    : #1765447048088 | took 0ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-12'
      AND r.reservation_time = '1970-01-01T11:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:28.089+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-1] p6spy                                    : #1765447048089 | took 0ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-12'
      AND r.reservation_time = '1970-01-01T11:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:28.089+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-1] p6spy                                    : #1765447048089 | took 0ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-12'
      AND r.reservation_time = '1970-01-01T12:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:28.090+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-1] p6spy                                    : #1765447048090 | took 0ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-12'
      AND r.reservation_time = '1970-01-01T12:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:28.090+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-1] p6spy                                    : #1765447048090 | took 0ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-12'
      AND r.reservation_time = '1970-01-01T13:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:28.091+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-1] p6spy                                    : #1765447048091 | took 0ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-12'
      AND r.reservation_time = '1970-01-01T13:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:28.091+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-1] p6spy                                    : #1765447048091 | took 0ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-12'
      AND r.reservation_time = '1970-01-01T14:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:28.092+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-1] p6spy                                    : #1765447048092 | took 0ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-12'
      AND r.reservation_time = '1970-01-01T14:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:28.092+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-1] p6spy                                    : #1765447048092 | took 0ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-12'
      AND r.reservation_time = '1970-01-01T15:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:28.093+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-1] p6spy                                    : #1765447048093 | took 0ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-12'
      AND r.reservation_time = '1970-01-01T15:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:28.093+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-1] p6spy                                    : #1765447048093 | took 0ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-12'
      AND r.reservation_time = '1970-01-01T16:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:28.094+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-1] p6spy                                    : #1765447048094 | took 0ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-12'
      AND r.reservation_time = '1970-01-01T16:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:28.094+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-1] p6spy                                    : #1765447048094 | took 0ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-12'
      AND r.reservation_time = '1970-01-01T17:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:28.095+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-1] p6spy                                    : #1765447048095 | took 0ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-12'
      AND r.reservation_time = '1970-01-01T17:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:28.096+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-1] p6spy                                    : #1765447048096 | took 0ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-12'
      AND r.reservation_time = '1970-01-01T18:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:43.869+04:00 DEBUG 31548 --- [carservices] [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        dts1_0.disable_time_slot_id,
        dts1_0.branch_id,
        dts1_0.service_id,
        dts1_0.time_slot 
    from
        disable_time_slot dts1_0
2025-12-11T13:57:43.873+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1765447063873 | took 4ms | statement | connection 592| url jdbc:p6spy:postgresql://localhost:5433/testdb
select dts1_0.disable_time_slot_id,dts1_0.branch_id,dts1_0.service_id,dts1_0.time_slot from disable_time_slot dts1_0
select dts1_0.disable_time_slot_id,dts1_0.branch_id,dts1_0.service_id,dts1_0.time_slot from disable_time_slot dts1_0;
2025-12-11T13:57:43.876+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1765447063876 | took 0ms | commit | connection 592| url jdbc:p6spy:postgresql://localhost:5433/testdb

;
2025-12-11T13:57:59.397+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-7] p6spy                                    : #1765447079397 | took 0ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT status,
           "from" AS from_time,
           "to"   AS to_time
    FROM work_days
    WHERE branch_id = ?
      AND UPPER(working_day) = ?
    LIMIT 1

    SELECT status,
           "from" AS from_time,
           "to"   AS to_time
    FROM work_days
    WHERE branch_id = 1
      AND UPPER(working_day) = 'FRIDAY'
    LIMIT 1
;
2025-12-11T13:57:59.399+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-7] p6spy                                    : #1765447079399 | took 0ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT COALESCE(SUM(qty), 0) AS total_qty
    FROM branch_brand_service
    WHERE branch_id = ?

    SELECT COALESCE(SUM(qty), 0) AS total_qty
    FROM branch_brand_service
    WHERE branch_id = 1
;
2025-12-11T13:57:59.400+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-7] p6spy                                    : #1765447079400 | took 0ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT COALESCE(SUM(experts), 0) AS total_experts
    FROM branch_brand_service
    WHERE branch_id = ?

    SELECT COALESCE(SUM(experts), 0) AS total_experts
    FROM branch_brand_service
    WHERE branch_id = 1
;
2025-12-11T13:57:59.402+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-7] p6spy                                    : #1765447079402 | took 0ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-12'
      AND r.reservation_time = '1970-01-01T09:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:59.403+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-7] p6spy                                    : #1765447079403 | took 0ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-12'
      AND r.reservation_time = '1970-01-01T09:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:59.404+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-7] p6spy                                    : #1765447079404 | took 0ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-12'
      AND r.reservation_time = '1970-01-01T10:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:59.404+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-7] p6spy                                    : #1765447079404 | took 0ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-12'
      AND r.reservation_time = '1970-01-01T10:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:59.405+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-7] p6spy                                    : #1765447079405 | took 0ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-12'
      AND r.reservation_time = '1970-01-01T11:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:59.406+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-7] p6spy                                    : #1765447079406 | took 0ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-12'
      AND r.reservation_time = '1970-01-01T11:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:59.406+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-7] p6spy                                    : #1765447079406 | took 0ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-12'
      AND r.reservation_time = '1970-01-01T12:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:59.406+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-7] p6spy                                    : #1765447079406 | took 0ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-12'
      AND r.reservation_time = '1970-01-01T12:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:59.408+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-8] p6spy                                    : #1765447079408 | took 0ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
SELECT DISTINCT s.service_id, s.service_name
  FROM branch_brand_service bbs
  JOIN service_entity s ON bbs.service_id = s.service_id
 WHERE bbs.branch_id = ?
   AND bbs.brand_id  = ?
   AND bbs.status    = 'active'
 ORDER BY s.service_name

SELECT DISTINCT s.service_id, s.service_name
  FROM branch_brand_service bbs
  JOIN service_entity s ON bbs.service_id = s.service_id
 WHERE bbs.branch_id = 1
   AND bbs.brand_id  = 2
   AND bbs.status    = 'active'
 ORDER BY s.service_name
;
2025-12-11T13:57:59.408+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-7] p6spy                                    : #1765447079408 | took 0ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-12'
      AND r.reservation_time = '1970-01-01T13:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:59.408+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-7] p6spy                                    : #1765447079408 | took 0ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-12'
      AND r.reservation_time = '1970-01-01T13:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:59.408+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-7] p6spy                                    : #1765447079408 | took 0ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-12'
      AND r.reservation_time = '1970-01-01T14:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:59.409+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-7] p6spy                                    : #1765447079409 | took 0ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-12'
      AND r.reservation_time = '1970-01-01T14:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:59.409+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-7] p6spy                                    : #1765447079409 | took 0ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-12'
      AND r.reservation_time = '1970-01-01T15:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:59.410+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-7] p6spy                                    : #1765447079410 | took 0ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-12'
      AND r.reservation_time = '1970-01-01T15:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:59.410+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-7] p6spy                                    : #1765447079410 | took 0ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-12'
      AND r.reservation_time = '1970-01-01T16:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:59.411+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-7] p6spy                                    : #1765447079411 | took 0ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-12'
      AND r.reservation_time = '1970-01-01T16:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:59.411+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-7] p6spy                                    : #1765447079411 | took 0ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-12'
      AND r.reservation_time = '1970-01-01T17:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:59.412+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-7] p6spy                                    : #1765447079412 | took 0ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-12'
      AND r.reservation_time = '1970-01-01T17:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:59.412+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-7] p6spy                                    : #1765447079412 | took 0ms | statement | connection 590| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-12'
      AND r.reservation_time = '1970-01-01T18:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:57:59.419+04:00 DEBUG 31548 --- [carservices] [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        cbm1_0.id,
        cbm1_0.brand_id,
        cbm1_0.model_name 
    from
        car_brand_model cbm1_0 
    left join
        brand b1_0 
            on b1_0.brand_id=cbm1_0.brand_id 
    where
        b1_0.brand_id=? 
    order by
        cbm1_0.model_name
2025-12-11T13:57:59.420+04:00 TRACE 31548 --- [carservices] [http-nio-8081-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [2]
2025-12-11T13:57:59.423+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1765447079423 | took 2ms | statement | connection 592| url jdbc:p6spy:postgresql://localhost:5433/testdb
select cbm1_0.id,cbm1_0.brand_id,cbm1_0.model_name from car_brand_model cbm1_0 left join brand b1_0 on b1_0.brand_id=cbm1_0.brand_id where b1_0.brand_id=? order by cbm1_0.model_name
select cbm1_0.id,cbm1_0.brand_id,cbm1_0.model_name from car_brand_model cbm1_0 left join brand b1_0 on b1_0.brand_id=cbm1_0.brand_id where b1_0.brand_id=2 order by cbm1_0.model_name;
2025-12-11T13:57:59.426+04:00 DEBUG 31548 --- [carservices] [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        b1_0.brand_id,
        b1_0.brand_name 
    from
        brand b1_0 
    where
        b1_0.brand_id=?
2025-12-11T13:57:59.426+04:00 TRACE 31548 --- [carservices] [http-nio-8081-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [2]
2025-12-11T13:57:59.427+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1765447079427 | took 0ms | statement | connection 592| url jdbc:p6spy:postgresql://localhost:5433/testdb
select b1_0.brand_id,b1_0.brand_name from brand b1_0 where b1_0.brand_id=?
select b1_0.brand_id,b1_0.brand_name from brand b1_0 where b1_0.brand_id=2;
2025-12-11T13:58:01.685+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1765447081685 | took 0ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT status,
           "from" AS from_time,
           "to"   AS to_time
    FROM work_days
    WHERE branch_id = ?
      AND UPPER(working_day) = ?
    LIMIT 1

    SELECT status,
           "from" AS from_time,
           "to"   AS to_time
    FROM work_days
    WHERE branch_id = 1
      AND UPPER(working_day) = 'FRIDAY'
    LIMIT 1
;
2025-12-11T13:58:01.686+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1765447081686 | took 0ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT COALESCE(SUM(qty), 0) AS total_qty
    FROM branch_brand_service
    WHERE branch_id = ?

    SELECT COALESCE(SUM(qty), 0) AS total_qty
    FROM branch_brand_service
    WHERE branch_id = 1
;
2025-12-11T13:58:01.689+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1765447081689 | took 0ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT COALESCE(SUM(experts), 0) AS total_experts
    FROM branch_brand_service
    WHERE branch_id = ?

    SELECT COALESCE(SUM(experts), 0) AS total_experts
    FROM branch_brand_service
    WHERE branch_id = 1
;
2025-12-11T13:58:01.690+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1765447081690 | took 0ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-12'
      AND r.reservation_time = '1970-01-01T09:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:58:01.690+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1765447081690 | took 0ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-12'
      AND r.reservation_time = '1970-01-01T09:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:58:01.692+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1765447081692 | took 0ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-12'
      AND r.reservation_time = '1970-01-01T10:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:58:01.693+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1765447081693 | took 0ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-12'
      AND r.reservation_time = '1970-01-01T10:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:58:01.694+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1765447081694 | took 0ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-12'
      AND r.reservation_time = '1970-01-01T11:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:58:01.695+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1765447081695 | took 0ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-12'
      AND r.reservation_time = '1970-01-01T11:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:58:01.696+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1765447081696 | took 0ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-12'
      AND r.reservation_time = '1970-01-01T12:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:58:01.696+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1765447081696 | took 0ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-12'
      AND r.reservation_time = '1970-01-01T12:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:58:01.696+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1765447081696 | took 0ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-12'
      AND r.reservation_time = '1970-01-01T13:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:58:01.697+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1765447081697 | took 0ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-12'
      AND r.reservation_time = '1970-01-01T13:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:58:01.698+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1765447081698 | took 0ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-12'
      AND r.reservation_time = '1970-01-01T14:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:58:01.699+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1765447081699 | took 0ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-12'
      AND r.reservation_time = '1970-01-01T14:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:58:01.699+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1765447081699 | took 0ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-12'
      AND r.reservation_time = '1970-01-01T15:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:58:01.700+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1765447081700 | took 0ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-12'
      AND r.reservation_time = '1970-01-01T15:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:58:01.700+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1765447081700 | took 0ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-12'
      AND r.reservation_time = '1970-01-01T16:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:58:01.700+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1765447081700 | took 0ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-12'
      AND r.reservation_time = '1970-01-01T16:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:58:01.701+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1765447081701 | took 0ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-12'
      AND r.reservation_time = '1970-01-01T17:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:58:01.701+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1765447081701 | took 0ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-12'
      AND r.reservation_time = '1970-01-01T17:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:58:01.702+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1765447081702 | took 0ms | statement | connection 591| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-12'
      AND r.reservation_time = '1970-01-01T18:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-12-11T13:58:04.786+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1765447084786 | took 8ms | statement | connection 594| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT status,
           "from" AS from_time,
           "to"   AS to_time
    FROM work_days
    WHERE branch_id = ?
      AND UPPER(working_day) = ?
    LIMIT 1

    SELECT status,
           "from" AS from_time,
           "to"   AS to_time
    FROM work_days
    WHERE branch_id = 1
      AND UPPER(working_day) = 'FRIDAY'
    LIMIT 1
;
2025-12-11T13:58:04.792+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1765447084792 | took 4ms | statement | connection 594| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT COALESCE(SUM(qty), 0) AS total_qty
    FROM branch_brand_service
    WHERE branch_id = ?
 AND brand_id = 2 AND service_id = 2
    SELECT COALESCE(SUM(qty), 0) AS total_qty
    FROM branch_brand_service
    WHERE branch_id = 1
 AND brand_id = 2 AND service_id = 2;
2025-12-11T13:58:04.793+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1765447084793 | took 0ms | statement | connection 594| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT COALESCE(SUM(experts), 0) AS total_experts
    FROM branch_brand_service
    WHERE branch_id = ?
 AND brand_id = 2 AND service_id = 2
    SELECT COALESCE(SUM(experts), 0) AS total_experts
    FROM branch_brand_service
    WHERE branch_id = 1
 AND brand_id = 2 AND service_id = 2;
2025-12-11T13:58:04.796+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1765447084796 | took 2ms | statement | connection 594| url jdbc:p6spy:postgresql://localhost:5433/testdb
SELECT UPPER(service_type) FROM service_entity WHERE service_id = ?
SELECT UPPER(service_type) FROM service_entity WHERE service_id = 2;
2025-12-11T13:58:04.802+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1765447084802 | took 4ms | statement | connection 594| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 2
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-12'
      AND r.reservation_time = '1970-01-01T09:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 2;
2025-12-11T13:58:04.803+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1765447084803 | took 0ms | statement | connection 594| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 2
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-12'
      AND r.reservation_time = '1970-01-01T09:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 2;
2025-12-11T13:58:04.804+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1765447084804 | took 0ms | statement | connection 594| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 2
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-12'
      AND r.reservation_time = '1970-01-01T10:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 2;
2025-12-11T13:58:04.805+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1765447084805 | took 0ms | statement | connection 594| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 2
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-12'
      AND r.reservation_time = '1970-01-01T10:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 2;
2025-12-11T13:58:04.806+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1765447084806 | took 0ms | statement | connection 594| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 2
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-12'
      AND r.reservation_time = '1970-01-01T11:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 2;
2025-12-11T13:58:04.807+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1765447084807 | took 0ms | statement | connection 594| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 2
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-12'
      AND r.reservation_time = '1970-01-01T11:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 2;
2025-12-11T13:58:04.807+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1765447084807 | took 0ms | statement | connection 594| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 2
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-12'
      AND r.reservation_time = '1970-01-01T12:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 2;
2025-12-11T13:58:04.808+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1765447084808 | took 0ms | statement | connection 594| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 2
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-12'
      AND r.reservation_time = '1970-01-01T12:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 2;
2025-12-11T13:58:04.808+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1765447084808 | took 0ms | statement | connection 594| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 2
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-12'
      AND r.reservation_time = '1970-01-01T13:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 2;
2025-12-11T13:58:04.809+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1765447084809 | took 0ms | statement | connection 594| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 2
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-12'
      AND r.reservation_time = '1970-01-01T13:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 2;
2025-12-11T13:58:04.809+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1765447084809 | took 0ms | statement | connection 594| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 2
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-12'
      AND r.reservation_time = '1970-01-01T14:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 2;
2025-12-11T13:58:04.810+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1765447084810 | took 0ms | statement | connection 594| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 2
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-12'
      AND r.reservation_time = '1970-01-01T14:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 2;
2025-12-11T13:58:04.810+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1765447084810 | took 0ms | statement | connection 594| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 2
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-12'
      AND r.reservation_time = '1970-01-01T15:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 2;
2025-12-11T13:58:04.810+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1765447084810 | took 0ms | statement | connection 594| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 2
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-12'
      AND r.reservation_time = '1970-01-01T15:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 2;
2025-12-11T13:58:04.812+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1765447084812 | took 0ms | statement | connection 594| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 2
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-12'
      AND r.reservation_time = '1970-01-01T16:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 2;
2025-12-11T13:58:04.812+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1765447084812 | took 0ms | statement | connection 594| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 2
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-12'
      AND r.reservation_time = '1970-01-01T16:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 2;
2025-12-11T13:58:04.813+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1765447084813 | took 0ms | statement | connection 594| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 2
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-12'
      AND r.reservation_time = '1970-01-01T17:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 2;
2025-12-11T13:58:04.813+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1765447084813 | took 0ms | statement | connection 594| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 2
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-12'
      AND r.reservation_time = '1970-01-01T17:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 2;
2025-12-11T13:58:04.813+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1765447084813 | took 0ms | statement | connection 594| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 2
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-12-12'
      AND r.reservation_time = '1970-01-01T18:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 2;
2025-12-11T13:58:16.981+04:00 DEBUG 31548 --- [carservices] [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        b1_0.branch_id,
        b1_0.address,
        b1_0.branch_address,
        b1_0.branch_code,
        b1_0.branch_cover_img,
        b1_0.branch_manager_name,
        b1_0.branch_manager_surname,
        b1_0.branch_name,
        b1_0.city,
        b1_0.company_id,
        b1_0.latitude,
        b1_0.location,
        b1_0.login_email,
        b1_0.logo_img,
        b1_0.longitude,
        b1_0.mobile,
        b1_0.password,
        b1_0.status 
    from
        branch b1_0 
    where
        b1_0.branch_id=?
2025-12-11T13:58:16.982+04:00 TRACE 31548 --- [carservices] [http-nio-8081-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-12-11T13:58:16.988+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-9] p6spy                                    : #1765447096988 | took 5ms | statement | connection 593| url jdbc:p6spy:postgresql://localhost:5433/testdb
select b1_0.branch_id,b1_0.address,b1_0.branch_address,b1_0.branch_code,b1_0.branch_cover_img,b1_0.branch_manager_name,b1_0.branch_manager_surname,b1_0.branch_name,b1_0.city,b1_0.company_id,b1_0.latitude,b1_0.location,b1_0.login_email,b1_0.logo_img,b1_0.longitude,b1_0.mobile,b1_0.password,b1_0.status from branch b1_0 where b1_0.branch_id=?
select b1_0.branch_id,b1_0.address,b1_0.branch_address,b1_0.branch_code,b1_0.branch_cover_img,b1_0.branch_manager_name,b1_0.branch_manager_surname,b1_0.branch_name,b1_0.city,b1_0.company_id,b1_0.latitude,b1_0.location,b1_0.login_email,b1_0.logo_img,b1_0.longitude,b1_0.mobile,b1_0.password,b1_0.status from branch b1_0 where b1_0.branch_id=1;
2025-12-11T13:58:17.002+04:00 DEBUG 31548 --- [carservices] [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        wd1_0.work_id,
        wd1_0.branch_id,
        wd1_0."from",
        wd1_0.status,
        wd1_0."to",
        wd1_0.working_day 
    from
        work_days wd1_0 
    left join
        branch b1_0 
            on b1_0.branch_id=wd1_0.branch_id 
    where
        b1_0.branch_id=?
2025-12-11T13:58:17.003+04:00 TRACE 31548 --- [carservices] [http-nio-8081-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-12-11T13:58:17.006+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-9] p6spy                                    : #1765447097006 | took 3ms | statement | connection 593| url jdbc:p6spy:postgresql://localhost:5433/testdb
select wd1_0.work_id,wd1_0.branch_id,wd1_0."from",wd1_0.status,wd1_0."to",wd1_0.working_day from work_days wd1_0 left join branch b1_0 on b1_0.branch_id=wd1_0.branch_id where b1_0.branch_id=?
select wd1_0.work_id,wd1_0.branch_id,wd1_0."from",wd1_0.status,wd1_0."to",wd1_0.working_day from work_days wd1_0 left join branch b1_0 on b1_0.branch_id=wd1_0.branch_id where b1_0.branch_id=1;
2025-12-11T13:58:17.020+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-9] p6spy                                    : #1765447097020 | took 0ms | commit | connection 593| url jdbc:p6spy:postgresql://localhost:5433/testdb

;
2025-12-11T13:58:18.645+04:00 DEBUG 31548 --- [carservices] [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        reservation_service_request
        (brand_id, car_id, model_id, reservation_date, reservation_status, reservation_time, service_id, user_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-12-11T13:58:18.646+04:00 TRACE 31548 --- [carservices] [http-nio-8081-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [2]
2025-12-11T13:58:18.646+04:00 TRACE 31548 --- [carservices] [http-nio-8081-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (2:BIGINT) <- [null]
2025-12-11T13:58:18.646+04:00 TRACE 31548 --- [carservices] [http-nio-8081-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (3:BIGINT) <- [2]
2025-12-11T13:58:18.647+04:00 TRACE 31548 --- [carservices] [http-nio-8081-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (4:DATE) <- [2025-12-12]
2025-12-11T13:58:18.649+04:00 TRACE 31548 --- [carservices] [http-nio-8081-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (5:VARCHAR) <- [pending]
2025-12-11T13:58:18.649+04:00 TRACE 31548 --- [carservices] [http-nio-8081-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (6:TIME) <- [10:00]
2025-12-11T13:58:18.649+04:00 TRACE 31548 --- [carservices] [http-nio-8081-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (7:BIGINT) <- [2]
2025-12-11T13:58:18.650+04:00 TRACE 31548 --- [carservices] [http-nio-8081-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (8:BIGINT) <- [1]
2025-12-11T13:58:18.662+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1765447098662 | took 11ms | statement | connection 592| url jdbc:p6spy:postgresql://localhost:5433/testdb
insert into reservation_service_request (brand_id,car_id,model_id,reservation_date,reservation_status,reservation_time,service_id,user_id) values (?,?,?,?,?,?,?,?)
insert into reservation_service_request (brand_id,car_id,model_id,reservation_date,reservation_status,reservation_time,service_id,user_id) values (2,NULL,2,'2025-12-12T00:00:00.000+0400','pending','1970-01-01T10:00:00.000+0400',2,1);
2025-12-11T13:58:18.666+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1765447098666 | took 1ms | commit | connection 592| url jdbc:p6spy:postgresql://localhost:5433/testdb

;
2025-12-11T15:43:53.240+04:00 DEBUG 31548 --- [carservices] [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        wd1_0.work_id,
        wd1_0.branch_id,
        wd1_0."from",
        wd1_0.status,
        wd1_0."to",
        wd1_0.working_day 
    from
        work_days wd1_0 
    where
        wd1_0.branch_id=?
2025-12-11T15:43:53.240+04:00 DEBUG 31548 --- [carservices] [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        wd1_0.work_id,
        wd1_0.branch_id,
        wd1_0."from",
        wd1_0.status,
        wd1_0."to",
        wd1_0.working_day 
    from
        work_days wd1_0 
    where
        wd1_0.branch_id=?
2025-12-11T15:43:53.256+04:00 TRACE 31548 --- [carservices] [http-nio-8081-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-12-11T15:43:53.256+04:00 TRACE 31548 --- [carservices] [http-nio-8081-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-12-11T15:43:53.329+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-9] p6spy                                    : #1765453433329 | took 72ms | statement | connection 630| url jdbc:p6spy:postgresql://localhost:5433/testdb
select wd1_0.work_id,wd1_0.branch_id,wd1_0."from",wd1_0.status,wd1_0."to",wd1_0.working_day from work_days wd1_0 where wd1_0.branch_id=?
select wd1_0.work_id,wd1_0.branch_id,wd1_0."from",wd1_0.status,wd1_0."to",wd1_0.working_day from work_days wd1_0 where wd1_0.branch_id=1;
2025-12-11T15:43:53.330+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1765453433329 | took 71ms | statement | connection 631| url jdbc:p6spy:postgresql://localhost:5433/testdb
select wd1_0.work_id,wd1_0.branch_id,wd1_0."from",wd1_0.status,wd1_0."to",wd1_0.working_day from work_days wd1_0 where wd1_0.branch_id=?
select wd1_0.work_id,wd1_0.branch_id,wd1_0."from",wd1_0.status,wd1_0."to",wd1_0.working_day from work_days wd1_0 where wd1_0.branch_id=1;
2025-12-11T15:43:53.384+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-9] p6spy                                    : #1765453433384 | took 1ms | commit | connection 630| url jdbc:p6spy:postgresql://localhost:5433/testdb

;
2025-12-11T15:43:53.384+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1765453433384 | took 1ms | commit | connection 631| url jdbc:p6spy:postgresql://localhost:5433/testdb

;
2025-12-11T15:43:54.392+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-8] c.c.c.c.ReservationQueryController       : POST /api/reservations/by-branch body: {"branch_id":1}
2025-12-11T15:43:54.466+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-8] p6spy                                    : #1765453434466 | took 67ms | statement | connection 630| url jdbc:p6spy:postgresql://localhost:5433/testdb
SELECT
    r.user_id                  AS user_id,                 -- ðŸ”¹ NEW
    r.reservation_id           AS reservation_id,
    r.reservation_date         AS reservation_date,
    r.reservation_time         AS reservation_time,
    b.branch_name              AS branch_name,
    b.address                  AS address,
    b.city                     AS city,
    b.logo_img                 AS logo_img,
    br.brand_name              AS brand_name,
    cd.car_model               AS model_name,
    s.service_name             AS service_name,
    r.reservation_status       AS reservation_status,
    bbs.id                     AS branch_brand_serviceid,
    cd.plate_number            AS plate_number,
    COALESCE(AVG(re.stars), 0) AS stars
FROM reservation_service_request r
JOIN branch b ON b.branch_id = r.branch_id
JOIN car_details cd ON cd.car_id = r.car_id
JOIN brand br ON br.brand_id = cd.brand_id
JOIN service_entity s ON s.service_id = r.service_id
LEFT JOIN branch_brand_service bbs
  ON bbs.branch_id = r.branch_id
 AND bbs.service_id = r.service_id
 AND bbs.brand_id   = cd.brand_id
LEFT JOIN rate_experience re
  ON re.branch_brand_serviceid = bbs.id
WHERE r.branch_id = ?
GROUP BY
    r.user_id,                                           -- ðŸ”¹ NEW
    r.reservation_id, r.reservation_date, r.reservation_time,
    b.branch_name, b.address, b.city, b.logo_img,
    br.brand_name, cd.car_model, s.service_name,
    r.reservation_status, bbs.id, cd.plate_number
ORDER BY r.reservation_date DESC, r.reservation_time DESC

SELECT
    r.user_id                  AS user_id,                 -- ðŸ”¹ NEW
    r.reservation_id           AS reservation_id,
    r.reservation_date         AS reservation_date,
    r.reservation_time         AS reservation_time,
    b.branch_name              AS branch_name,
    b.address                  AS address,
    b.city                     AS city,
    b.logo_img                 AS logo_img,
    br.brand_name              AS brand_name,
    cd.car_model               AS model_name,
    s.service_name             AS service_name,
    r.reservation_status       AS reservation_status,
    bbs.id                     AS branch_brand_serviceid,
    cd.plate_number            AS plate_number,
    COALESCE(AVG(re.stars), 0) AS stars
FROM reservation_service_request r
JOIN branch b ON b.branch_id = r.branch_id
JOIN car_details cd ON cd.car_id = r.car_id
JOIN brand br ON br.brand_id = cd.brand_id
JOIN service_entity s ON s.service_id = r.service_id
LEFT JOIN branch_brand_service bbs
  ON bbs.branch_id = r.branch_id
 AND bbs.service_id = r.service_id
 AND bbs.brand_id   = cd.brand_id
LEFT JOIN rate_experience re
  ON re.branch_brand_serviceid = bbs.id
WHERE r.branch_id = 1
GROUP BY
    r.user_id,                                           -- ðŸ”¹ NEW
    r.reservation_id, r.reservation_date, r.reservation_time,
    b.branch_name, b.address, b.city, b.logo_img,
    br.brand_name, cd.car_model, s.service_name,
    r.reservation_status, bbs.id, cd.plate_number
ORDER BY r.reservation_date DESC, r.reservation_time DESC
;
2025-12-11T15:43:54.485+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-8] p6spy                                    : #1765453434485 | took 10ms | statement | connection 630| url jdbc:p6spy:postgresql://localhost:5433/testdb
SELECT
  rss.reservation_service_sparepart_id,
  rss.part_name,
  rss.qty,
  rss.spareparts_id,
  sp.spareparts_type,
  rss.reservation_id
FROM reservation_service_sparepart rss
LEFT JOIN spare_parts sp
  ON sp.spareparts_id = rss.spareparts_id
WHERE rss.reservation_id IN (?,?,?,?,?,?)
ORDER BY rss.reservation_service_sparepart_id

SELECT
  rss.reservation_service_sparepart_id,
  rss.part_name,
  rss.qty,
  rss.spareparts_id,
  sp.spareparts_type,
  rss.reservation_id
FROM reservation_service_sparepart rss
LEFT JOIN spare_parts sp
  ON sp.spareparts_id = rss.spareparts_id
WHERE rss.reservation_id IN (89,90,87,88,1,5)
ORDER BY rss.reservation_service_sparepart_id
;
2025-12-11T15:43:54.763+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-2] c.c.c.c.ReservationQueryController       : POST /api/reservations/by-branch body: {"branch_id":1}
2025-12-11T15:43:54.771+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1765453434771 | took 6ms | statement | connection 630| url jdbc:p6spy:postgresql://localhost:5433/testdb
SELECT
    r.user_id                  AS user_id,                 -- ðŸ”¹ NEW
    r.reservation_id           AS reservation_id,
    r.reservation_date         AS reservation_date,
    r.reservation_time         AS reservation_time,
    b.branch_name              AS branch_name,
    b.address                  AS address,
    b.city                     AS city,
    b.logo_img                 AS logo_img,
    br.brand_name              AS brand_name,
    cd.car_model               AS model_name,
    s.service_name             AS service_name,
    r.reservation_status       AS reservation_status,
    bbs.id                     AS branch_brand_serviceid,
    cd.plate_number            AS plate_number,
    COALESCE(AVG(re.stars), 0) AS stars
FROM reservation_service_request r
JOIN branch b ON b.branch_id = r.branch_id
JOIN car_details cd ON cd.car_id = r.car_id
JOIN brand br ON br.brand_id = cd.brand_id
JOIN service_entity s ON s.service_id = r.service_id
LEFT JOIN branch_brand_service bbs
  ON bbs.branch_id = r.branch_id
 AND bbs.service_id = r.service_id
 AND bbs.brand_id   = cd.brand_id
LEFT JOIN rate_experience re
  ON re.branch_brand_serviceid = bbs.id
WHERE r.branch_id = ?
GROUP BY
    r.user_id,                                           -- ðŸ”¹ NEW
    r.reservation_id, r.reservation_date, r.reservation_time,
    b.branch_name, b.address, b.city, b.logo_img,
    br.brand_name, cd.car_model, s.service_name,
    r.reservation_status, bbs.id, cd.plate_number
ORDER BY r.reservation_date DESC, r.reservation_time DESC

SELECT
    r.user_id                  AS user_id,                 -- ðŸ”¹ NEW
    r.reservation_id           AS reservation_id,
    r.reservation_date         AS reservation_date,
    r.reservation_time         AS reservation_time,
    b.branch_name              AS branch_name,
    b.address                  AS address,
    b.city                     AS city,
    b.logo_img                 AS logo_img,
    br.brand_name              AS brand_name,
    cd.car_model               AS model_name,
    s.service_name             AS service_name,
    r.reservation_status       AS reservation_status,
    bbs.id                     AS branch_brand_serviceid,
    cd.plate_number            AS plate_number,
    COALESCE(AVG(re.stars), 0) AS stars
FROM reservation_service_request r
JOIN branch b ON b.branch_id = r.branch_id
JOIN car_details cd ON cd.car_id = r.car_id
JOIN brand br ON br.brand_id = cd.brand_id
JOIN service_entity s ON s.service_id = r.service_id
LEFT JOIN branch_brand_service bbs
  ON bbs.branch_id = r.branch_id
 AND bbs.service_id = r.service_id
 AND bbs.brand_id   = cd.brand_id
LEFT JOIN rate_experience re
  ON re.branch_brand_serviceid = bbs.id
WHERE r.branch_id = 1
GROUP BY
    r.user_id,                                           -- ðŸ”¹ NEW
    r.reservation_id, r.reservation_date, r.reservation_time,
    b.branch_name, b.address, b.city, b.logo_img,
    br.brand_name, cd.car_model, s.service_name,
    r.reservation_status, bbs.id, cd.plate_number
ORDER BY r.reservation_date DESC, r.reservation_time DESC
;
2025-12-11T15:43:54.775+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1765453434775 | took 1ms | statement | connection 630| url jdbc:p6spy:postgresql://localhost:5433/testdb
SELECT
  rss.reservation_service_sparepart_id,
  rss.part_name,
  rss.qty,
  rss.spareparts_id,
  sp.spareparts_type,
  rss.reservation_id
FROM reservation_service_sparepart rss
LEFT JOIN spare_parts sp
  ON sp.spareparts_id = rss.spareparts_id
WHERE rss.reservation_id IN (?,?,?,?,?,?)
ORDER BY rss.reservation_service_sparepart_id

SELECT
  rss.reservation_service_sparepart_id,
  rss.part_name,
  rss.qty,
  rss.spareparts_id,
  sp.spareparts_type,
  rss.reservation_id
FROM reservation_service_sparepart rss
LEFT JOIN spare_parts sp
  ON sp.spareparts_id = rss.spareparts_id
WHERE rss.reservation_id IN (89,90,87,88,1,5)
ORDER BY rss.reservation_service_sparepart_id
;
2025-12-11T15:48:10.572+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-4] c.c.c.c.ReservationQueryController       : POST /api/reservations/by-branch body: {"branch_id":1}
2025-12-11T15:48:10.572+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-9] c.c.c.c.ReservationQueryController       : POST /api/reservations/by-branch body: {"branch_id":1}
2025-12-11T15:48:10.670+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1765453690670 | took 60ms | statement | connection 630| url jdbc:p6spy:postgresql://localhost:5433/testdb
SELECT
    r.user_id                  AS user_id,                 -- ðŸ”¹ NEW
    r.reservation_id           AS reservation_id,
    r.reservation_date         AS reservation_date,
    r.reservation_time         AS reservation_time,
    b.branch_name              AS branch_name,
    b.address                  AS address,
    b.city                     AS city,
    b.logo_img                 AS logo_img,
    br.brand_name              AS brand_name,
    cd.car_model               AS model_name,
    s.service_name             AS service_name,
    r.reservation_status       AS reservation_status,
    bbs.id                     AS branch_brand_serviceid,
    cd.plate_number            AS plate_number,
    COALESCE(AVG(re.stars), 0) AS stars
FROM reservation_service_request r
JOIN branch b ON b.branch_id = r.branch_id
JOIN car_details cd ON cd.car_id = r.car_id
JOIN brand br ON br.brand_id = cd.brand_id
JOIN service_entity s ON s.service_id = r.service_id
LEFT JOIN branch_brand_service bbs
  ON bbs.branch_id = r.branch_id
 AND bbs.service_id = r.service_id
 AND bbs.brand_id   = cd.brand_id
LEFT JOIN rate_experience re
  ON re.branch_brand_serviceid = bbs.id
WHERE r.branch_id = ?
GROUP BY
    r.user_id,                                           -- ðŸ”¹ NEW
    r.reservation_id, r.reservation_date, r.reservation_time,
    b.branch_name, b.address, b.city, b.logo_img,
    br.brand_name, cd.car_model, s.service_name,
    r.reservation_status, bbs.id, cd.plate_number
ORDER BY r.reservation_date DESC, r.reservation_time DESC

SELECT
    r.user_id                  AS user_id,                 -- ðŸ”¹ NEW
    r.reservation_id           AS reservation_id,
    r.reservation_date         AS reservation_date,
    r.reservation_time         AS reservation_time,
    b.branch_name              AS branch_name,
    b.address                  AS address,
    b.city                     AS city,
    b.logo_img                 AS logo_img,
    br.brand_name              AS brand_name,
    cd.car_model               AS model_name,
    s.service_name             AS service_name,
    r.reservation_status       AS reservation_status,
    bbs.id                     AS branch_brand_serviceid,
    cd.plate_number            AS plate_number,
    COALESCE(AVG(re.stars), 0) AS stars
FROM reservation_service_request r
JOIN branch b ON b.branch_id = r.branch_id
JOIN car_details cd ON cd.car_id = r.car_id
JOIN brand br ON br.brand_id = cd.brand_id
JOIN service_entity s ON s.service_id = r.service_id
LEFT JOIN branch_brand_service bbs
  ON bbs.branch_id = r.branch_id
 AND bbs.service_id = r.service_id
 AND bbs.brand_id   = cd.brand_id
LEFT JOIN rate_experience re
  ON re.branch_brand_serviceid = bbs.id
WHERE r.branch_id = 1
GROUP BY
    r.user_id,                                           -- ðŸ”¹ NEW
    r.reservation_id, r.reservation_date, r.reservation_time,
    b.branch_name, b.address, b.city, b.logo_img,
    br.brand_name, cd.car_model, s.service_name,
    r.reservation_status, bbs.id, cd.plate_number
ORDER BY r.reservation_date DESC, r.reservation_time DESC
;
2025-12-11T15:48:10.688+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1765453690688 | took 2ms | statement | connection 630| url jdbc:p6spy:postgresql://localhost:5433/testdb
SELECT
  rss.reservation_service_sparepart_id,
  rss.part_name,
  rss.qty,
  rss.spareparts_id,
  sp.spareparts_type,
  rss.reservation_id
FROM reservation_service_sparepart rss
LEFT JOIN spare_parts sp
  ON sp.spareparts_id = rss.spareparts_id
WHERE rss.reservation_id IN (?,?,?,?,?,?)
ORDER BY rss.reservation_service_sparepart_id

SELECT
  rss.reservation_service_sparepart_id,
  rss.part_name,
  rss.qty,
  rss.spareparts_id,
  sp.spareparts_type,
  rss.reservation_id
FROM reservation_service_sparepart rss
LEFT JOIN spare_parts sp
  ON sp.spareparts_id = rss.spareparts_id
WHERE rss.reservation_id IN (89,90,87,88,1,5)
ORDER BY rss.reservation_service_sparepart_id
;
2025-12-11T15:48:10.693+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-9] p6spy                                    : #1765453690693 | took 83ms | statement | connection 631| url jdbc:p6spy:postgresql://localhost:5433/testdb
SELECT
    r.user_id                  AS user_id,                 -- ðŸ”¹ NEW
    r.reservation_id           AS reservation_id,
    r.reservation_date         AS reservation_date,
    r.reservation_time         AS reservation_time,
    b.branch_name              AS branch_name,
    b.address                  AS address,
    b.city                     AS city,
    b.logo_img                 AS logo_img,
    br.brand_name              AS brand_name,
    cd.car_model               AS model_name,
    s.service_name             AS service_name,
    r.reservation_status       AS reservation_status,
    bbs.id                     AS branch_brand_serviceid,
    cd.plate_number            AS plate_number,
    COALESCE(AVG(re.stars), 0) AS stars
FROM reservation_service_request r
JOIN branch b ON b.branch_id = r.branch_id
JOIN car_details cd ON cd.car_id = r.car_id
JOIN brand br ON br.brand_id = cd.brand_id
JOIN service_entity s ON s.service_id = r.service_id
LEFT JOIN branch_brand_service bbs
  ON bbs.branch_id = r.branch_id
 AND bbs.service_id = r.service_id
 AND bbs.brand_id   = cd.brand_id
LEFT JOIN rate_experience re
  ON re.branch_brand_serviceid = bbs.id
WHERE r.branch_id = ?
GROUP BY
    r.user_id,                                           -- ðŸ”¹ NEW
    r.reservation_id, r.reservation_date, r.reservation_time,
    b.branch_name, b.address, b.city, b.logo_img,
    br.brand_name, cd.car_model, s.service_name,
    r.reservation_status, bbs.id, cd.plate_number
ORDER BY r.reservation_date DESC, r.reservation_time DESC

SELECT
    r.user_id                  AS user_id,                 -- ðŸ”¹ NEW
    r.reservation_id           AS reservation_id,
    r.reservation_date         AS reservation_date,
    r.reservation_time         AS reservation_time,
    b.branch_name              AS branch_name,
    b.address                  AS address,
    b.city                     AS city,
    b.logo_img                 AS logo_img,
    br.brand_name              AS brand_name,
    cd.car_model               AS model_name,
    s.service_name             AS service_name,
    r.reservation_status       AS reservation_status,
    bbs.id                     AS branch_brand_serviceid,
    cd.plate_number            AS plate_number,
    COALESCE(AVG(re.stars), 0) AS stars
FROM reservation_service_request r
JOIN branch b ON b.branch_id = r.branch_id
JOIN car_details cd ON cd.car_id = r.car_id
JOIN brand br ON br.brand_id = cd.brand_id
JOIN service_entity s ON s.service_id = r.service_id
LEFT JOIN branch_brand_service bbs
  ON bbs.branch_id = r.branch_id
 AND bbs.service_id = r.service_id
 AND bbs.brand_id   = cd.brand_id
LEFT JOIN rate_experience re
  ON re.branch_brand_serviceid = bbs.id
WHERE r.branch_id = 1
GROUP BY
    r.user_id,                                           -- ðŸ”¹ NEW
    r.reservation_id, r.reservation_date, r.reservation_time,
    b.branch_name, b.address, b.city, b.logo_img,
    br.brand_name, cd.car_model, s.service_name,
    r.reservation_status, bbs.id, cd.plate_number
ORDER BY r.reservation_date DESC, r.reservation_time DESC
;
2025-12-11T15:48:10.710+04:00  INFO 31548 --- [carservices] [http-nio-8081-exec-9] p6spy                                    : #1765453690710 | took 10ms | statement | connection 631| url jdbc:p6spy:postgresql://localhost:5433/testdb
SELECT
  rss.reservation_service_sparepart_id,
  rss.part_name,
  rss.qty,
  rss.spareparts_id,
  sp.spareparts_type,
  rss.reservation_id
FROM reservation_service_sparepart rss
LEFT JOIN spare_parts sp
  ON sp.spareparts_id = rss.spareparts_id
WHERE rss.reservation_id IN (?,?,?,?,?,?)
ORDER BY rss.reservation_service_sparepart_id

SELECT
  rss.reservation_service_sparepart_id,
  rss.part_name,
  rss.qty,
  rss.spareparts_id,
  sp.spareparts_type,
  rss.reservation_id
FROM reservation_service_sparepart rss
LEFT JOIN spare_parts sp
  ON sp.spareparts_id = rss.spareparts_id
WHERE rss.reservation_id IN (89,90,87,88,1,5)
ORDER BY rss.reservation_service_sparepart_id
;
