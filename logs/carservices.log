2025-11-17T06:32:08.525+04:00  WARN 20568 --- [carservices] [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=7h49m56s699ms582µs800ns).
2025-11-17T07:34:12.243+04:00  WARN 20568 --- [carservices] [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=31m55s290ms876µs400ns).
2025-11-17T07:34:29.865+04:00  INFO 20568 --- [carservices] [http-nio-8081-exec-9] p6spy                                    : #1763350469865 | took 86ms | statement | connection 31| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT  b.brand_id,
            b.brand_name,
            b.status                 AS brand_status,
            b.brand_icon             AS brand_icon,
            bbs.id                   AS branch_brand_service_id,
            bbs.status               AS item_status,
            s.service_name
    FROM branch_brand_service bbs
    JOIN brand b           ON bbs.brand_id   = b.brand_id
    JOIN service_entity s  ON bbs.service_id = s.service_id
    WHERE bbs.branch_id = ?
 ORDER BY b.brand_name, s.service_name
    SELECT  b.brand_id,
            b.brand_name,
            b.status                 AS brand_status,
            b.brand_icon             AS brand_icon,
            bbs.id                   AS branch_brand_service_id,
            bbs.status               AS item_status,
            s.service_name
    FROM branch_brand_service bbs
    JOIN brand b           ON bbs.brand_id   = b.brand_id
    JOIN service_entity s  ON bbs.service_id = s.service_id
    WHERE bbs.branch_id = 1
 ORDER BY b.brand_name, s.service_name;
2025-11-17T07:34:29.865+04:00  INFO 20568 --- [carservices] [http-nio-8081-exec-10] p6spy                                    : #1763350469865 | took 86ms | statement | connection 30| url jdbc:p6spy:postgresql://localhost:5433/testdb
SELECT DISTINCT b.brand_id, b.brand_name
  FROM branch_brand_service bbs
  JOIN brand b ON bbs.brand_id = b.brand_id
 WHERE bbs.branch_id = ?
   AND bbs.status = 'active'
 ORDER BY b.brand_name

SELECT DISTINCT b.brand_id, b.brand_name
  FROM branch_brand_service bbs
  JOIN brand b ON bbs.brand_id = b.brand_id
 WHERE bbs.branch_id = 1
   AND bbs.status = 'active'
 ORDER BY b.brand_name
;
2025-11-17T07:34:30.249+04:00 DEBUG 20568 --- [carservices] [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        b1_0.branch_id,
        b1_0.address,
        b1_0.branch_address,
        b1_0.branch_code,
        b1_0.branch_cover_img,
        b1_0.branch_manager_name,
        b1_0.branch_manager_surname,
        b1_0.branch_name,
        b1_0.city,
        b1_0.company_id,
        b1_0.latitude,
        b1_0.location,
        b1_0.login_email,
        b1_0.logo_img,
        b1_0.longitude,
        b1_0.mobile,
        b1_0.password,
        b1_0.status 
    from
        branch b1_0 
    where
        b1_0.branch_id=?
2025-11-17T07:34:30.262+04:00 TRACE 20568 --- [carservices] [http-nio-8081-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-11-17T07:34:30.286+04:00  INFO 20568 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1763350470286 | took 21ms | statement | connection 34| url jdbc:p6spy:postgresql://localhost:5433/testdb
select b1_0.branch_id,b1_0.address,b1_0.branch_address,b1_0.branch_code,b1_0.branch_cover_img,b1_0.branch_manager_name,b1_0.branch_manager_surname,b1_0.branch_name,b1_0.city,b1_0.company_id,b1_0.latitude,b1_0.location,b1_0.login_email,b1_0.logo_img,b1_0.longitude,b1_0.mobile,b1_0.password,b1_0.status from branch b1_0 where b1_0.branch_id=?
select b1_0.branch_id,b1_0.address,b1_0.branch_address,b1_0.branch_code,b1_0.branch_cover_img,b1_0.branch_manager_name,b1_0.branch_manager_surname,b1_0.branch_name,b1_0.city,b1_0.company_id,b1_0.latitude,b1_0.location,b1_0.login_email,b1_0.logo_img,b1_0.longitude,b1_0.mobile,b1_0.password,b1_0.status from branch b1_0 where b1_0.branch_id=1;
2025-11-17T07:34:30.411+04:00 DEBUG 20568 --- [carservices] [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        wd1_0.work_id,
        wd1_0.branch_id,
        wd1_0."from",
        wd1_0.status,
        wd1_0."to",
        wd1_0.working_day 
    from
        work_days wd1_0 
    where
        wd1_0.branch_id=?
2025-11-17T07:34:30.411+04:00 DEBUG 20568 --- [carservices] [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        se1_0.service_id,
        se1_0.service_name 
    from
        service_entity se1_0
2025-11-17T07:34:30.415+04:00 TRACE 20568 --- [carservices] [http-nio-8081-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-11-17T07:34:30.420+04:00  INFO 20568 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1763350470420 | took 5ms | statement | connection 32| url jdbc:p6spy:postgresql://localhost:5433/testdb
select se1_0.service_id,se1_0.service_name from service_entity se1_0
select se1_0.service_id,se1_0.service_name from service_entity se1_0;
2025-11-17T07:34:30.425+04:00  INFO 20568 --- [carservices] [http-nio-8081-exec-1] p6spy                                    : #1763350470425 | took 8ms | statement | connection 33| url jdbc:p6spy:postgresql://localhost:5433/testdb
select wd1_0.work_id,wd1_0.branch_id,wd1_0."from",wd1_0.status,wd1_0."to",wd1_0.working_day from work_days wd1_0 where wd1_0.branch_id=?
select wd1_0.work_id,wd1_0.branch_id,wd1_0."from",wd1_0.status,wd1_0."to",wd1_0.working_day from work_days wd1_0 where wd1_0.branch_id=1;
2025-11-17T07:34:30.472+04:00  INFO 20568 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1763350470472 | took 2ms | commit | connection 32| url jdbc:p6spy:postgresql://localhost:5433/testdb

;
2025-11-17T07:34:30.472+04:00  INFO 20568 --- [carservices] [http-nio-8081-exec-1] p6spy                                    : #1763350470472 | took 3ms | commit | connection 33| url jdbc:p6spy:postgresql://localhost:5433/testdb

;
2025-11-17T07:34:30.536+04:00 DEBUG 20568 --- [carservices] [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        wd1_0.work_id,
        wd1_0.branch_id,
        wd1_0."from",
        wd1_0.status,
        wd1_0."to",
        wd1_0.working_day 
    from
        work_days wd1_0 
    left join
        branch b1_0 
            on b1_0.branch_id=wd1_0.branch_id 
    where
        b1_0.branch_id=?
2025-11-17T07:34:30.538+04:00 TRACE 20568 --- [carservices] [http-nio-8081-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-11-17T07:34:30.543+04:00  INFO 20568 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1763350470543 | took 4ms | statement | connection 34| url jdbc:p6spy:postgresql://localhost:5433/testdb
select wd1_0.work_id,wd1_0.branch_id,wd1_0."from",wd1_0.status,wd1_0."to",wd1_0.working_day from work_days wd1_0 left join branch b1_0 on b1_0.branch_id=wd1_0.branch_id where b1_0.branch_id=?
select wd1_0.work_id,wd1_0.branch_id,wd1_0."from",wd1_0.status,wd1_0."to",wd1_0.working_day from work_days wd1_0 left join branch b1_0 on b1_0.branch_id=wd1_0.branch_id where b1_0.branch_id=1;
2025-11-17T07:34:30.561+04:00  INFO 20568 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1763350470561 | took 0ms | commit | connection 34| url jdbc:p6spy:postgresql://localhost:5433/testdb

;
2025-11-17T07:34:30.647+04:00 DEBUG 20568 --- [carservices] [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        c1_0.company_id,
        c1_0.brand_name,
        c1_0.company_name,
        c1_0.manager_email,
        c1_0.manager_mobile,
        c1_0.manager_name,
        c1_0.manager_phone,
        c1_0.manager_surname,
        c1_0.password,
        c1_0.tax_id,
        c1_0.tin_photo,
        c1_0.website 
    from
        company c1_0 
    where
        c1_0.company_id=?
2025-11-17T07:34:30.648+04:00 TRACE 20568 --- [carservices] [http-nio-8081-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-11-17T07:34:30.656+04:00  INFO 20568 --- [carservices] [http-nio-8081-exec-7] p6spy                                    : #1763350470656 | took 6ms | statement | connection 30| url jdbc:p6spy:postgresql://localhost:5433/testdb
select c1_0.company_id,c1_0.brand_name,c1_0.company_name,c1_0.manager_email,c1_0.manager_mobile,c1_0.manager_name,c1_0.manager_phone,c1_0.manager_surname,c1_0.password,c1_0.tax_id,c1_0.tin_photo,c1_0.website from company c1_0 where c1_0.company_id=?
select c1_0.company_id,c1_0.brand_name,c1_0.company_name,c1_0.manager_email,c1_0.manager_mobile,c1_0.manager_name,c1_0.manager_phone,c1_0.manager_surname,c1_0.password,c1_0.tax_id,c1_0.tin_photo,c1_0.website from company c1_0 where c1_0.company_id=1;
2025-11-17T07:34:30.659+04:00  INFO 20568 --- [carservices] [http-nio-8081-exec-7] p6spy                                    : #1763350470659 | took 0ms | commit | connection 30| url jdbc:p6spy:postgresql://localhost:5433/testdb

;
2025-11-17T10:37:02.661+04:00  WARN 20568 --- [carservices] [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1h59m23s34ms692µs900ns).
2025-11-17T10:46:10.591+04:00  INFO 20568 --- [carservices] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-17T10:46:10.607+04:00  INFO 20568 --- [carservices] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-17T10:46:10.638+04:00  INFO 20568 --- [carservices] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-17T10:46:10.656+04:00  INFO 20568 --- [carservices] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-11-17T10:46:10.672+04:00  INFO 20568 --- [carservices] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-11-17T10:46:35.718+04:00  INFO 23528 --- [carservices] [restartedMain] c.c.carservices.CarservicesApplication   : Starting CarservicesApplication using Java 21.0.7 with PID 23528 (C:\Grand BackUp\Sheikh-2\Private\Sheikhkashifiqbal\temp\Spare Parts Project\SpringBoot\car-dev-1\carservices\target\classes started by lenovo in C:\Grand BackUp\Sheikh-2\Private\Sheikhkashifiqbal\temp\Spare Parts Project\SpringBoot\car-dev-1\carservices)
2025-11-17T10:46:35.720+04:00  INFO 23528 --- [carservices] [restartedMain] c.c.carservices.CarservicesApplication   : No active profile set, falling back to 1 default profile: "default"
2025-11-17T10:46:35.779+04:00  INFO 23528 --- [carservices] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-11-17T10:46:35.780+04:00  INFO 23528 --- [carservices] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-11-17T10:46:37.088+04:00  INFO 23528 --- [carservices] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-17T10:46:37.366+04:00  INFO 23528 --- [carservices] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 267 ms. Found 36 JPA repository interfaces.
2025-11-17T10:46:38.244+04:00  INFO 23528 --- [carservices] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-11-17T10:46:38.268+04:00  INFO 23528 --- [carservices] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-17T10:46:38.269+04:00  INFO 23528 --- [carservices] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-11-17T10:46:38.328+04:00  INFO 23528 --- [carservices] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-17T10:46:38.328+04:00  INFO 23528 --- [carservices] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2547 ms
2025-11-17T10:46:38.569+04:00  INFO 23528 --- [carservices] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-17T10:46:38.659+04:00  INFO 23528 --- [carservices] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.13.Final
2025-11-17T10:46:38.706+04:00  INFO 23528 --- [carservices] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-11-17T10:46:39.048+04:00  INFO 23528 --- [carservices] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-17T10:46:39.090+04:00  INFO 23528 --- [carservices] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-11-17T10:46:39.508+04:00  INFO 23528 --- [carservices] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.p6spy.engine.wrapper.ConnectionWrapper@385cda47
2025-11-17T10:46:39.511+04:00  INFO 23528 --- [carservices] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-11-17T10:46:39.589+04:00  WARN 23528 --- [carservices] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-17T10:46:39.616+04:00  INFO 23528 --- [carservices] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-17T10:46:41.173+04:00  INFO 23528 --- [carservices] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-17T10:46:41.246+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763362001245 | took 33ms | statement | connection 0| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from information_schema.sequences
select * from information_schema.sequences;
2025-11-17T10:46:41.325+04:00  INFO 23528 --- [carservices] [restartedMain] t.s.e.i.AbstractInformationExtractorImpl : HHH000475: Cannot locate column information using identifier [lower((manager_email)::text)]; ignoring index [ux_company_manager_email]
2025-11-17T10:46:41.326+04:00 DEBUG 23528 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       drop constraint if exists ux_company_company_name_ci
2025-11-17T10:46:41.336+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763362001336 | took 9ms | statement | connection 0| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       drop constraint if exists ux_company_company_name_ci

    alter table if exists company 
       drop constraint if exists ux_company_company_name_ci;
2025-11-17T10:46:41.337+04:00  WARN 23528 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2025-11-17T10:46:41.337+04:00  WARN 23528 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "ux_company_company_name_ci" of relation "company" does not exist, skipping
2025-11-17T10:46:41.338+04:00 DEBUG 23528 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       add constraint ux_company_company_name_ci unique (company_name)
2025-11-17T10:46:41.371+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763362001371 | took 32ms | statement | connection 0| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       add constraint ux_company_company_name_ci unique (company_name)

    alter table if exists company 
       add constraint ux_company_company_name_ci unique (company_name);
2025-11-17T10:46:41.373+04:00 DEBUG 23528 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       drop constraint if exists ux_company_brand_name_ci
2025-11-17T10:46:41.374+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763362001374 | took 1ms | statement | connection 0| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       drop constraint if exists ux_company_brand_name_ci

    alter table if exists company 
       drop constraint if exists ux_company_brand_name_ci;
2025-11-17T10:46:41.374+04:00  WARN 23528 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2025-11-17T10:46:41.374+04:00  WARN 23528 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "ux_company_brand_name_ci" of relation "company" does not exist, skipping
2025-11-17T10:46:41.374+04:00 DEBUG 23528 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       add constraint ux_company_brand_name_ci unique (brand_name)
2025-11-17T10:46:41.379+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763362001379 | took 4ms | statement | connection 0| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       add constraint ux_company_brand_name_ci unique (brand_name)

    alter table if exists company 
       add constraint ux_company_brand_name_ci unique (brand_name);
2025-11-17T10:46:41.510+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763362001510 | took 4ms | statement | connection 0| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."company" where 1=0
select * from "public"."company" where 1=0;
2025-11-17T10:46:41.634+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763362001634 | took 7ms | statement | connection 0| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."branch" where 1=0
select * from "public"."branch" where 1=0;
2025-11-17T10:46:41.644+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763362001643 | took 3ms | statement | connection 0| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-11-17T10:46:41.652+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763362001652 | took 3ms | statement | connection 0| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."service_entity" where 1=0
select * from "public"."service_entity" where 1=0;
2025-11-17T10:46:41.765+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763362001765 | took 0ms | statement | connection 0| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."branch" where 1=0
select * from "public"."branch" where 1=0;
2025-11-17T10:46:41.769+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763362001769 | took 0ms | statement | connection 0| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-11-17T10:46:41.778+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763362001778 | took 6ms | statement | connection 0| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."spare_parts" where 1=0
select * from "public"."spare_parts" where 1=0;
2025-11-17T10:46:41.880+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763362001880 | took 0ms | statement | connection 0| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-11-17T10:46:41.982+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763362001982 | took 0ms | statement | connection 0| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-11-17T10:46:41.993+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763362001993 | took 6ms | statement | connection 0| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."user_registration" where 1=0
select * from "public"."user_registration" where 1=0;
2025-11-17T10:46:42.112+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763362002112 | took 0ms | statement | connection 0| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."spare_parts" where 1=0
select * from "public"."spare_parts" where 1=0;
2025-11-17T10:46:42.222+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763362002222 | took 3ms | statement | connection 0| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."problem" where 1=0
select * from "public"."problem" where 1=0;
2025-11-17T10:46:42.332+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763362002332 | took 0ms | statement | connection 0| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."branch" where 1=0
select * from "public"."branch" where 1=0;
2025-11-17T10:46:42.335+04:00  INFO 23528 --- [carservices] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-17T10:46:42.780+04:00  INFO 23528 --- [carservices] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-17T10:46:45.524+04:00  WARN 23528 --- [carservices] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-17T10:46:46.440+04:00  INFO 23528 --- [carservices] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-11-17T10:46:46.503+04:00  INFO 23528 --- [carservices] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2025-11-17T10:46:46.514+04:00  INFO 23528 --- [carservices] [restartedMain] c.c.carservices.CarservicesApplication   : Started CarservicesApplication in 11.378 seconds (process running for 11.954)
2025-11-17T10:46:58.513+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-17T10:46:58.514+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-11-17T10:46:58.518+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2025-11-17T10:46:58.827+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-1] p6spy                                    : #1763362018827 | took 9ms | statement | connection 0| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT status,
           "from" AS from_time,
           "to"   AS to_time
    FROM work_days
    WHERE branch_id = ?
      AND UPPER(working_day) = ?
    LIMIT 1

    SELECT status,
           "from" AS from_time,
           "to"   AS to_time
    FROM work_days
    WHERE branch_id = 1
      AND UPPER(working_day) = 'SUNDAY'
    LIMIT 1
;
2025-11-17T10:46:58.845+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-1] p6spy                                    : #1763362018845 | took 8ms | statement | connection 0| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(qty), 0)      AS total_qty,
        COALESCE(SUM(experts), 0) AS total_experts
    FROM branch_brand_service
    WHERE branch_id = ?

    SELECT
        COALESCE(SUM(qty), 0)      AS total_qty,
        COALESCE(SUM(experts), 0) AS total_experts
    FROM branch_brand_service
    WHERE branch_id = 1
;
2025-11-17T10:46:58.851+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-1] p6spy                                    : #1763362018851 | took 1ms | statement | connection 0| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT service_type
    FROM service_entity
    WHERE service_id = ?
    LIMIT 1

    SELECT service_type
    FROM service_entity
    WHERE service_id = 1
    LIMIT 1
;
2025-11-17T10:46:58.866+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-1] p6spy                                    : #1763362018866 | took 9ms | statement | connection 0| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'     THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'NON-BOX' THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
      /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'     THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'NON-BOX' THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T09:00:00.000+0400'
      /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-11-17T10:46:58.869+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-1] p6spy                                    : #1763362018869 | took 1ms | statement | connection 0| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'     THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'NON-BOX' THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
      /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'     THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'NON-BOX' THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T09:30:00.000+0400'
      /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-11-17T10:46:58.872+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-1] p6spy                                    : #1763362018872 | took 0ms | statement | connection 0| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'     THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'NON-BOX' THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
      /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'     THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'NON-BOX' THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T10:00:00.000+0400'
      /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-11-17T10:46:58.874+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-1] p6spy                                    : #1763362018874 | took 1ms | statement | connection 0| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'     THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'NON-BOX' THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
      /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'     THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'NON-BOX' THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T10:30:00.000+0400'
      /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-11-17T10:46:58.880+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-1] p6spy                                    : #1763362018880 | took 3ms | statement | connection 0| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'     THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'NON-BOX' THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
      /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'     THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'NON-BOX' THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T11:00:00.000+0400'
      /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-11-17T10:46:58.884+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-1] p6spy                                    : #1763362018883 | took 1ms | statement | connection 0| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'     THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'NON-BOX' THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
      /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'     THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'NON-BOX' THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T11:30:00.000+0400'
      /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-11-17T10:46:58.886+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-1] p6spy                                    : #1763362018886 | took 1ms | statement | connection 0| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'     THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'NON-BOX' THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
      /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'     THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'NON-BOX' THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T12:00:00.000+0400'
      /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-11-17T10:46:58.890+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-1] p6spy                                    : #1763362018890 | took 1ms | statement | connection 0| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'     THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'NON-BOX' THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
      /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'     THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'NON-BOX' THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T12:30:00.000+0400'
      /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-11-17T10:46:58.893+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-1] p6spy                                    : #1763362018893 | took 1ms | statement | connection 0| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'     THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'NON-BOX' THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
      /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'     THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'NON-BOX' THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T13:00:00.000+0400'
      /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-11-17T10:46:58.897+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-1] p6spy                                    : #1763362018897 | took 1ms | statement | connection 0| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'     THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'NON-BOX' THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
      /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'     THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'NON-BOX' THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T13:30:00.000+0400'
      /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-11-17T10:46:58.899+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-1] p6spy                                    : #1763362018899 | took 0ms | statement | connection 0| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'     THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'NON-BOX' THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
      /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'     THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'NON-BOX' THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T14:00:00.000+0400'
      /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-11-17T10:46:58.900+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-1] p6spy                                    : #1763362018900 | took 0ms | statement | connection 0| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'     THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'NON-BOX' THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
      /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'     THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'NON-BOX' THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T14:30:00.000+0400'
      /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-11-17T10:46:58.901+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-1] p6spy                                    : #1763362018901 | took 0ms | statement | connection 0| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'     THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'NON-BOX' THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
      /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'     THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'NON-BOX' THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T15:00:00.000+0400'
      /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-11-17T10:46:58.903+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-1] p6spy                                    : #1763362018903 | took 0ms | statement | connection 0| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'     THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'NON-BOX' THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
      /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'     THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'NON-BOX' THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T15:30:00.000+0400'
      /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-11-17T10:46:58.905+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-1] p6spy                                    : #1763362018905 | took 0ms | statement | connection 0| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'     THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'NON-BOX' THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
      /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'     THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'NON-BOX' THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T16:00:00.000+0400'
      /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-11-17T10:46:58.906+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-1] p6spy                                    : #1763362018906 | took 0ms | statement | connection 0| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'     THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'NON-BOX' THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
      /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'     THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'NON-BOX' THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T16:30:00.000+0400'
      /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-11-17T10:46:58.908+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-1] p6spy                                    : #1763362018908 | took 0ms | statement | connection 0| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'     THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'NON-BOX' THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
      /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'     THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'NON-BOX' THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T17:00:00.000+0400'
      /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-11-17T10:46:58.909+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-1] p6spy                                    : #1763362018909 | took 0ms | statement | connection 0| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'     THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'NON-BOX' THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
      /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'     THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'NON-BOX' THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T17:30:00.000+0400'
      /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-11-17T10:46:58.910+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-1] p6spy                                    : #1763362018910 | took 0ms | statement | connection 0| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'     THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'NON-BOX' THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
      /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'     THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'NON-BOX' THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T18:00:00.000+0400'
      /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-11-17T10:48:17.077+04:00  INFO 23528 --- [carservices] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-11-17T10:48:17.084+04:00  INFO 23528 --- [carservices] [Thread-5] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-17T10:48:17.092+04:00  INFO 23528 --- [carservices] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-17T10:48:17.106+04:00  INFO 23528 --- [carservices] [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-17T10:48:17.111+04:00  INFO 23528 --- [carservices] [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-11-17T10:48:17.129+04:00  INFO 23528 --- [carservices] [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-11-17T10:48:17.250+04:00  INFO 23528 --- [carservices] [restartedMain] c.c.carservices.CarservicesApplication   : Starting CarservicesApplication using Java 21.0.7 with PID 23528 (C:\Grand BackUp\Sheikh-2\Private\Sheikhkashifiqbal\temp\Spare Parts Project\SpringBoot\car-dev-1\carservices\target\classes started by lenovo in C:\Grand BackUp\Sheikh-2\Private\Sheikhkashifiqbal\temp\Spare Parts Project\SpringBoot\car-dev-1\carservices)
2025-11-17T10:48:17.251+04:00  INFO 23528 --- [carservices] [restartedMain] c.c.carservices.CarservicesApplication   : No active profile set, falling back to 1 default profile: "default"
2025-11-17T10:48:18.080+04:00  INFO 23528 --- [carservices] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-17T10:48:18.301+04:00  INFO 23528 --- [carservices] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 220 ms. Found 36 JPA repository interfaces.
2025-11-17T10:48:18.525+04:00  INFO 23528 --- [carservices] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-11-17T10:48:18.527+04:00  INFO 23528 --- [carservices] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-17T10:48:18.527+04:00  INFO 23528 --- [carservices] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-11-17T10:48:18.557+04:00  INFO 23528 --- [carservices] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-17T10:48:18.557+04:00  INFO 23528 --- [carservices] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1304 ms
2025-11-17T10:48:18.627+04:00  INFO 23528 --- [carservices] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-17T10:48:18.630+04:00  INFO 23528 --- [carservices] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-11-17T10:48:18.652+04:00  INFO 23528 --- [carservices] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-17T10:48:18.653+04:00  INFO 23528 --- [carservices] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2025-11-17T10:48:18.828+04:00  INFO 23528 --- [carservices] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Added connection com.p6spy.engine.wrapper.ConnectionWrapper@1c1cc1af
2025-11-17T10:48:18.829+04:00  INFO 23528 --- [carservices] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2025-11-17T10:48:18.839+04:00  WARN 23528 --- [carservices] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-17T10:48:18.841+04:00  INFO 23528 --- [carservices] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-2)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-17T10:48:19.236+04:00  INFO 23528 --- [carservices] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-17T10:48:19.247+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763362099247 | took 9ms | statement | connection 10| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from information_schema.sequences
select * from information_schema.sequences;
2025-11-17T10:48:19.275+04:00  INFO 23528 --- [carservices] [restartedMain] t.s.e.i.AbstractInformationExtractorImpl : HHH000475: Cannot locate column information using identifier [lower((manager_email)::text)]; ignoring index [ux_company_manager_email]
2025-11-17T10:48:19.275+04:00 DEBUG 23528 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       drop constraint if exists ux_company_company_name_ci
2025-11-17T10:48:19.277+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763362099277 | took 1ms | statement | connection 10| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       drop constraint if exists ux_company_company_name_ci

    alter table if exists company 
       drop constraint if exists ux_company_company_name_ci;
2025-11-17T10:48:19.277+04:00  WARN 23528 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2025-11-17T10:48:19.277+04:00  WARN 23528 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "ux_company_company_name_ci" of relation "company" does not exist, skipping
2025-11-17T10:48:19.277+04:00 DEBUG 23528 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       add constraint ux_company_company_name_ci unique (company_name)
2025-11-17T10:48:19.287+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763362099287 | took 8ms | statement | connection 10| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       add constraint ux_company_company_name_ci unique (company_name)

    alter table if exists company 
       add constraint ux_company_company_name_ci unique (company_name);
2025-11-17T10:48:19.287+04:00 DEBUG 23528 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       drop constraint if exists ux_company_brand_name_ci
2025-11-17T10:48:19.288+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763362099288 | took 0ms | statement | connection 10| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       drop constraint if exists ux_company_brand_name_ci

    alter table if exists company 
       drop constraint if exists ux_company_brand_name_ci;
2025-11-17T10:48:19.289+04:00  WARN 23528 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2025-11-17T10:48:19.289+04:00  WARN 23528 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "ux_company_brand_name_ci" of relation "company" does not exist, skipping
2025-11-17T10:48:19.289+04:00 DEBUG 23528 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       add constraint ux_company_brand_name_ci unique (brand_name)
2025-11-17T10:48:19.293+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763362099292 | took 3ms | statement | connection 10| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       add constraint ux_company_brand_name_ci unique (brand_name)

    alter table if exists company 
       add constraint ux_company_brand_name_ci unique (brand_name);
2025-11-17T10:48:19.400+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763362099400 | took 2ms | statement | connection 10| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."company" where 1=0
select * from "public"."company" where 1=0;
2025-11-17T10:48:19.500+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763362099500 | took 2ms | statement | connection 10| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."branch" where 1=0
select * from "public"."branch" where 1=0;
2025-11-17T10:48:19.507+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763362099507 | took 1ms | statement | connection 10| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-11-17T10:48:19.514+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763362099513 | took 1ms | statement | connection 10| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."service_entity" where 1=0
select * from "public"."service_entity" where 1=0;
2025-11-17T10:48:19.608+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763362099608 | took 0ms | statement | connection 10| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."branch" where 1=0
select * from "public"."branch" where 1=0;
2025-11-17T10:48:19.611+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763362099611 | took 0ms | statement | connection 10| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-11-17T10:48:19.614+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763362099614 | took 1ms | statement | connection 10| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."spare_parts" where 1=0
select * from "public"."spare_parts" where 1=0;
2025-11-17T10:48:19.716+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763362099716 | took 0ms | statement | connection 10| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-11-17T10:48:19.816+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763362099816 | took 0ms | statement | connection 10| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-11-17T10:48:19.821+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763362099821 | took 2ms | statement | connection 10| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."user_registration" where 1=0
select * from "public"."user_registration" where 1=0;
2025-11-17T10:48:19.917+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763362099917 | took 0ms | statement | connection 10| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."spare_parts" where 1=0
select * from "public"."spare_parts" where 1=0;
2025-11-17T10:48:20.023+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763362100023 | took 1ms | statement | connection 10| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."problem" where 1=0
select * from "public"."problem" where 1=0;
2025-11-17T10:48:20.117+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763362100117 | took 0ms | statement | connection 10| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."branch" where 1=0
select * from "public"."branch" where 1=0;
2025-11-17T10:48:20.118+04:00  INFO 23528 --- [carservices] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-17T10:48:20.852+04:00  WARN 23528 --- [carservices] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-17T10:48:21.036+04:00  INFO 23528 --- [carservices] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-11-17T10:48:21.061+04:00  INFO 23528 --- [carservices] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2025-11-17T10:48:21.066+04:00  INFO 23528 --- [carservices] [restartedMain] c.c.carservices.CarservicesApplication   : Started CarservicesApplication in 3.868 seconds (process running for 106.505)
2025-11-17T10:48:21.069+04:00  INFO 23528 --- [carservices] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-11-17T10:48:42.757+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-17T10:48:42.758+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-11-17T10:48:42.761+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2025-11-17T10:48:42.779+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1763362122779 | took 4ms | statement | connection 10| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT status,
           "from" AS from_time,
           "to"   AS to_time
    FROM work_days
    WHERE branch_id = ?
      AND UPPER(working_day) = ?
    LIMIT 1

    SELECT status,
           "from" AS from_time,
           "to"   AS to_time
    FROM work_days
    WHERE branch_id = 1
      AND UPPER(working_day) = 'SUNDAY'
    LIMIT 1
;
2025-11-17T10:48:42.785+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1763362122785 | took 3ms | statement | connection 10| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(qty), 0)      AS total_qty,
        COALESCE(SUM(experts), 0) AS total_experts
    FROM branch_brand_service
    WHERE branch_id = ?

    SELECT
        COALESCE(SUM(qty), 0)      AS total_qty,
        COALESCE(SUM(experts), 0) AS total_experts
    FROM branch_brand_service
    WHERE branch_id = 1
;
2025-11-17T10:48:42.787+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1763362122787 | took 0ms | statement | connection 10| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT service_type
    FROM service_entity
    WHERE service_id = ?
    LIMIT 1

    SELECT service_type
    FROM service_entity
    WHERE service_id = 1
    LIMIT 1
;
2025-11-17T10:48:42.793+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1763362122793 | took 4ms | statement | connection 10| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'     THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'NON-BOX' THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
      /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'     THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'NON-BOX' THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T09:00:00.000+0400'
      /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-11-17T10:48:42.795+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1763362122795 | took 0ms | statement | connection 10| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'     THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'NON-BOX' THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
      /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'     THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'NON-BOX' THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T09:30:00.000+0400'
      /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-11-17T10:48:42.797+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1763362122797 | took 0ms | statement | connection 10| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'     THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'NON-BOX' THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
      /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'     THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'NON-BOX' THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T10:00:00.000+0400'
      /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-11-17T10:48:42.799+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1763362122799 | took 0ms | statement | connection 10| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'     THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'NON-BOX' THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
      /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'     THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'NON-BOX' THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T10:30:00.000+0400'
      /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-11-17T10:48:42.800+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1763362122800 | took 0ms | statement | connection 10| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'     THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'NON-BOX' THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
      /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'     THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'NON-BOX' THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T11:00:00.000+0400'
      /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-11-17T10:48:42.802+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1763362122802 | took 0ms | statement | connection 10| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'     THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'NON-BOX' THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
      /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'     THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'NON-BOX' THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T11:30:00.000+0400'
      /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-11-17T10:48:42.804+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1763362122804 | took 0ms | statement | connection 10| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'     THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'NON-BOX' THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
      /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'     THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'NON-BOX' THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T12:00:00.000+0400'
      /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-11-17T10:48:42.805+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1763362122805 | took 0ms | statement | connection 10| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'     THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'NON-BOX' THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
      /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'     THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'NON-BOX' THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T12:30:00.000+0400'
      /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-11-17T10:48:42.806+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1763362122806 | took 0ms | statement | connection 10| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'     THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'NON-BOX' THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
      /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'     THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'NON-BOX' THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T13:00:00.000+0400'
      /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-11-17T10:48:42.807+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1763362122807 | took 0ms | statement | connection 10| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'     THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'NON-BOX' THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
      /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'     THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'NON-BOX' THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T13:30:00.000+0400'
      /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-11-17T10:48:42.810+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1763362122810 | took 0ms | statement | connection 10| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'     THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'NON-BOX' THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
      /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'     THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'NON-BOX' THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T14:00:00.000+0400'
      /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-11-17T10:48:42.811+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1763362122811 | took 0ms | statement | connection 10| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'     THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'NON-BOX' THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
      /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'     THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'NON-BOX' THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T14:30:00.000+0400'
      /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-11-17T10:48:42.812+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1763362122812 | took 0ms | statement | connection 10| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'     THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'NON-BOX' THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
      /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'     THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'NON-BOX' THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T15:00:00.000+0400'
      /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-11-17T10:48:42.813+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1763362122813 | took 0ms | statement | connection 10| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'     THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'NON-BOX' THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
      /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'     THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'NON-BOX' THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T15:30:00.000+0400'
      /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-11-17T10:48:42.815+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1763362122815 | took 0ms | statement | connection 10| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'     THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'NON-BOX' THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
      /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'     THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'NON-BOX' THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T16:00:00.000+0400'
      /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-11-17T10:48:42.815+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1763362122815 | took 0ms | statement | connection 10| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'     THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'NON-BOX' THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
      /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'     THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'NON-BOX' THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T16:30:00.000+0400'
      /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-11-17T10:48:42.816+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1763362122816 | took 0ms | statement | connection 10| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'     THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'NON-BOX' THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
      /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'     THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'NON-BOX' THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T17:00:00.000+0400'
      /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-11-17T10:48:42.817+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1763362122817 | took 0ms | statement | connection 10| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'     THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'NON-BOX' THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
      /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'     THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'NON-BOX' THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T17:30:00.000+0400'
      /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-11-17T10:48:42.817+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1763362122817 | took 0ms | statement | connection 10| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'     THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'NON-BOX' THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
      /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */

    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'     THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'NON-BOX' THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T18:00:00.000+0400'
      /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
;
2025-11-17T10:51:04.530+04:00  INFO 23528 --- [carservices] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-11-17T10:51:04.535+04:00  INFO 23528 --- [carservices] [Thread-7] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-17T10:51:04.542+04:00  INFO 23528 --- [carservices] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-17T10:51:04.547+04:00  INFO 23528 --- [carservices] [Thread-7] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-17T10:51:04.548+04:00  INFO 23528 --- [carservices] [Thread-7] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2025-11-17T10:51:04.567+04:00  INFO 23528 --- [carservices] [Thread-7] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2025-11-17T10:51:04.697+04:00  INFO 23528 --- [carservices] [restartedMain] c.c.carservices.CarservicesApplication   : Starting CarservicesApplication using Java 21.0.7 with PID 23528 (C:\Grand BackUp\Sheikh-2\Private\Sheikhkashifiqbal\temp\Spare Parts Project\SpringBoot\car-dev-1\carservices\target\classes started by lenovo in C:\Grand BackUp\Sheikh-2\Private\Sheikhkashifiqbal\temp\Spare Parts Project\SpringBoot\car-dev-1\carservices)
2025-11-17T10:51:04.699+04:00  INFO 23528 --- [carservices] [restartedMain] c.c.carservices.CarservicesApplication   : No active profile set, falling back to 1 default profile: "default"
2025-11-17T10:51:05.610+04:00  INFO 23528 --- [carservices] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-17T10:51:05.822+04:00  INFO 23528 --- [carservices] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 210 ms. Found 36 JPA repository interfaces.
2025-11-17T10:51:06.096+04:00  INFO 23528 --- [carservices] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-11-17T10:51:06.100+04:00  INFO 23528 --- [carservices] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-17T10:51:06.101+04:00  INFO 23528 --- [carservices] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-11-17T10:51:06.130+04:00  INFO 23528 --- [carservices] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-17T10:51:06.130+04:00  INFO 23528 --- [carservices] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1428 ms
2025-11-17T10:51:06.235+04:00  INFO 23528 --- [carservices] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-17T10:51:06.240+04:00  INFO 23528 --- [carservices] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-11-17T10:51:06.259+04:00  INFO 23528 --- [carservices] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-17T10:51:06.262+04:00  INFO 23528 --- [carservices] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Starting...
2025-11-17T10:51:06.335+04:00  INFO 23528 --- [carservices] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Added connection com.p6spy.engine.wrapper.ConnectionWrapper@335ae13d
2025-11-17T10:51:06.335+04:00  INFO 23528 --- [carservices] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Start completed.
2025-11-17T10:51:06.343+04:00  WARN 23528 --- [carservices] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-17T10:51:06.346+04:00  INFO 23528 --- [carservices] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-3)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-17T10:51:06.709+04:00  INFO 23528 --- [carservices] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-17T10:51:06.719+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763362266719 | took 9ms | statement | connection 20| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from information_schema.sequences
select * from information_schema.sequences;
2025-11-17T10:51:06.746+04:00  INFO 23528 --- [carservices] [restartedMain] t.s.e.i.AbstractInformationExtractorImpl : HHH000475: Cannot locate column information using identifier [lower((manager_email)::text)]; ignoring index [ux_company_manager_email]
2025-11-17T10:51:06.750+04:00 DEBUG 23528 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       drop constraint if exists ux_company_company_name_ci
2025-11-17T10:51:06.752+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763362266752 | took 1ms | statement | connection 20| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       drop constraint if exists ux_company_company_name_ci

    alter table if exists company 
       drop constraint if exists ux_company_company_name_ci;
2025-11-17T10:51:06.753+04:00  WARN 23528 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2025-11-17T10:51:06.753+04:00  WARN 23528 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "ux_company_company_name_ci" of relation "company" does not exist, skipping
2025-11-17T10:51:06.753+04:00 DEBUG 23528 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       add constraint ux_company_company_name_ci unique (company_name)
2025-11-17T10:51:06.762+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763362266762 | took 8ms | statement | connection 20| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       add constraint ux_company_company_name_ci unique (company_name)

    alter table if exists company 
       add constraint ux_company_company_name_ci unique (company_name);
2025-11-17T10:51:06.762+04:00 DEBUG 23528 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       drop constraint if exists ux_company_brand_name_ci
2025-11-17T10:51:06.764+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763362266764 | took 0ms | statement | connection 20| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       drop constraint if exists ux_company_brand_name_ci

    alter table if exists company 
       drop constraint if exists ux_company_brand_name_ci;
2025-11-17T10:51:06.764+04:00  WARN 23528 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2025-11-17T10:51:06.764+04:00  WARN 23528 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "ux_company_brand_name_ci" of relation "company" does not exist, skipping
2025-11-17T10:51:06.764+04:00 DEBUG 23528 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       add constraint ux_company_brand_name_ci unique (brand_name)
2025-11-17T10:51:06.767+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763362266767 | took 3ms | statement | connection 20| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       add constraint ux_company_brand_name_ci unique (brand_name)

    alter table if exists company 
       add constraint ux_company_brand_name_ci unique (brand_name);
2025-11-17T10:51:06.872+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763362266872 | took 2ms | statement | connection 20| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."company" where 1=0
select * from "public"."company" where 1=0;
2025-11-17T10:51:06.980+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763362266980 | took 3ms | statement | connection 20| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."branch" where 1=0
select * from "public"."branch" where 1=0;
2025-11-17T10:51:06.987+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763362266987 | took 1ms | statement | connection 20| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-11-17T10:51:07.000+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763362267000 | took 1ms | statement | connection 20| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."service_entity" where 1=0
select * from "public"."service_entity" where 1=0;
2025-11-17T10:51:07.099+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763362267099 | took 0ms | statement | connection 20| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."branch" where 1=0
select * from "public"."branch" where 1=0;
2025-11-17T10:51:07.102+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763362267102 | took 0ms | statement | connection 20| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-11-17T10:51:07.106+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763362267105 | took 1ms | statement | connection 20| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."spare_parts" where 1=0
select * from "public"."spare_parts" where 1=0;
2025-11-17T10:51:07.204+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763362267204 | took 0ms | statement | connection 20| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-11-17T10:51:07.325+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763362267325 | took 0ms | statement | connection 20| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-11-17T10:51:07.332+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763362267332 | took 2ms | statement | connection 20| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."user_registration" where 1=0
select * from "public"."user_registration" where 1=0;
2025-11-17T10:51:07.426+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763362267426 | took 0ms | statement | connection 20| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."spare_parts" where 1=0
select * from "public"."spare_parts" where 1=0;
2025-11-17T10:51:07.527+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763362267527 | took 1ms | statement | connection 20| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."problem" where 1=0
select * from "public"."problem" where 1=0;
2025-11-17T10:51:07.627+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763362267627 | took 0ms | statement | connection 20| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."branch" where 1=0
select * from "public"."branch" where 1=0;
2025-11-17T10:51:07.628+04:00  INFO 23528 --- [carservices] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-17T10:51:08.598+04:00  WARN 23528 --- [carservices] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-17T10:51:08.863+04:00  INFO 23528 --- [carservices] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-11-17T10:51:08.885+04:00  INFO 23528 --- [carservices] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2025-11-17T10:51:08.893+04:00  INFO 23528 --- [carservices] [restartedMain] c.c.carservices.CarservicesApplication   : Started CarservicesApplication in 4.248 seconds (process running for 274.333)
2025-11-17T10:51:08.895+04:00  INFO 23528 --- [carservices] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-11-17T10:57:06.103+04:00  INFO 23528 --- [carservices] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-11-17T10:57:06.132+04:00  INFO 23528 --- [carservices] [Thread-11] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-17T10:57:06.151+04:00  INFO 23528 --- [carservices] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-17T10:57:06.165+04:00  INFO 23528 --- [carservices] [Thread-11] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-17T10:57:06.180+04:00  INFO 23528 --- [carservices] [Thread-11] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown initiated...
2025-11-17T10:57:06.193+04:00  INFO 23528 --- [carservices] [Thread-11] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown completed.
2025-11-17T10:57:06.454+04:00  INFO 23528 --- [carservices] [restartedMain] c.c.carservices.CarservicesApplication   : Starting CarservicesApplication using Java 21.0.7 with PID 23528 (C:\Grand BackUp\Sheikh-2\Private\Sheikhkashifiqbal\temp\Spare Parts Project\SpringBoot\car-dev-1\carservices\target\classes started by lenovo in C:\Grand BackUp\Sheikh-2\Private\Sheikhkashifiqbal\temp\Spare Parts Project\SpringBoot\car-dev-1\carservices)
2025-11-17T10:57:06.454+04:00  INFO 23528 --- [carservices] [restartedMain] c.c.carservices.CarservicesApplication   : No active profile set, falling back to 1 default profile: "default"
2025-11-17T10:57:07.249+04:00  INFO 23528 --- [carservices] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-17T10:57:07.461+04:00  INFO 23528 --- [carservices] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 209 ms. Found 36 JPA repository interfaces.
2025-11-17T10:57:07.696+04:00  INFO 23528 --- [carservices] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-11-17T10:57:07.699+04:00  INFO 23528 --- [carservices] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-17T10:57:07.700+04:00  INFO 23528 --- [carservices] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-11-17T10:57:07.739+04:00  INFO 23528 --- [carservices] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-17T10:57:07.740+04:00  INFO 23528 --- [carservices] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1281 ms
2025-11-17T10:57:07.831+04:00  INFO 23528 --- [carservices] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-17T10:57:07.836+04:00  INFO 23528 --- [carservices] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-11-17T10:57:07.847+04:00  INFO 23528 --- [carservices] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-17T10:57:07.848+04:00  INFO 23528 --- [carservices] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Starting...
2025-11-17T10:57:07.910+04:00  INFO 23528 --- [carservices] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-4 - Added connection com.p6spy.engine.wrapper.ConnectionWrapper@6f8428d
2025-11-17T10:57:07.911+04:00  INFO 23528 --- [carservices] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Start completed.
2025-11-17T10:57:07.928+04:00  WARN 23528 --- [carservices] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-17T10:57:07.930+04:00  INFO 23528 --- [carservices] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-4)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-17T10:57:08.285+04:00  INFO 23528 --- [carservices] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-17T10:57:08.305+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763362628305 | took 19ms | statement | connection 30| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from information_schema.sequences
select * from information_schema.sequences;
2025-11-17T10:57:08.351+04:00  INFO 23528 --- [carservices] [restartedMain] t.s.e.i.AbstractInformationExtractorImpl : HHH000475: Cannot locate column information using identifier [lower((manager_email)::text)]; ignoring index [ux_company_manager_email]
2025-11-17T10:57:08.352+04:00 DEBUG 23528 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       drop constraint if exists ux_company_company_name_ci
2025-11-17T10:57:08.358+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763362628358 | took 5ms | statement | connection 30| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       drop constraint if exists ux_company_company_name_ci

    alter table if exists company 
       drop constraint if exists ux_company_company_name_ci;
2025-11-17T10:57:08.358+04:00  WARN 23528 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2025-11-17T10:57:08.359+04:00  WARN 23528 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "ux_company_company_name_ci" of relation "company" does not exist, skipping
2025-11-17T10:57:08.359+04:00 DEBUG 23528 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       add constraint ux_company_company_name_ci unique (company_name)
2025-11-17T10:57:08.377+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763362628377 | took 17ms | statement | connection 30| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       add constraint ux_company_company_name_ci unique (company_name)

    alter table if exists company 
       add constraint ux_company_company_name_ci unique (company_name);
2025-11-17T10:57:08.377+04:00 DEBUG 23528 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       drop constraint if exists ux_company_brand_name_ci
2025-11-17T10:57:08.379+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763362628379 | took 1ms | statement | connection 30| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       drop constraint if exists ux_company_brand_name_ci

    alter table if exists company 
       drop constraint if exists ux_company_brand_name_ci;
2025-11-17T10:57:08.379+04:00  WARN 23528 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2025-11-17T10:57:08.380+04:00  WARN 23528 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "ux_company_brand_name_ci" of relation "company" does not exist, skipping
2025-11-17T10:57:08.380+04:00 DEBUG 23528 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       add constraint ux_company_brand_name_ci unique (brand_name)
2025-11-17T10:57:08.386+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763362628386 | took 5ms | statement | connection 30| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       add constraint ux_company_brand_name_ci unique (brand_name)

    alter table if exists company 
       add constraint ux_company_brand_name_ci unique (brand_name);
2025-11-17T10:57:08.507+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763362628507 | took 1ms | statement | connection 30| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."company" where 1=0
select * from "public"."company" where 1=0;
2025-11-17T10:57:08.589+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763362628589 | took 2ms | statement | connection 30| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."branch" where 1=0
select * from "public"."branch" where 1=0;
2025-11-17T10:57:08.594+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763362628594 | took 1ms | statement | connection 30| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-11-17T10:57:08.598+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763362628598 | took 1ms | statement | connection 30| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."service_entity" where 1=0
select * from "public"."service_entity" where 1=0;
2025-11-17T10:57:08.674+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763362628674 | took 0ms | statement | connection 30| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."branch" where 1=0
select * from "public"."branch" where 1=0;
2025-11-17T10:57:08.675+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763362628675 | took 0ms | statement | connection 30| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-11-17T10:57:08.679+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763362628679 | took 1ms | statement | connection 30| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."spare_parts" where 1=0
select * from "public"."spare_parts" where 1=0;
2025-11-17T10:57:08.774+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763362628774 | took 0ms | statement | connection 30| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-11-17T10:57:08.863+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763362628863 | took 0ms | statement | connection 30| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-11-17T10:57:08.868+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763362628868 | took 2ms | statement | connection 30| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."user_registration" where 1=0
select * from "public"."user_registration" where 1=0;
2025-11-17T10:57:08.940+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763362628940 | took 0ms | statement | connection 30| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."spare_parts" where 1=0
select * from "public"."spare_parts" where 1=0;
2025-11-17T10:57:09.017+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763362629017 | took 1ms | statement | connection 30| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."problem" where 1=0
select * from "public"."problem" where 1=0;
2025-11-17T10:57:09.097+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763362629097 | took 0ms | statement | connection 30| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."branch" where 1=0
select * from "public"."branch" where 1=0;
2025-11-17T10:57:09.097+04:00  INFO 23528 --- [carservices] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-17T10:57:10.095+04:00  WARN 23528 --- [carservices] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-17T10:57:10.298+04:00  INFO 23528 --- [carservices] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-11-17T10:57:10.318+04:00  INFO 23528 --- [carservices] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2025-11-17T10:57:10.323+04:00  INFO 23528 --- [carservices] [restartedMain] c.c.carservices.CarservicesApplication   : Started CarservicesApplication in 3.943 seconds (process running for 635.763)
2025-11-17T10:57:10.325+04:00  INFO 23528 --- [carservices] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-11-17T11:58:34.808+04:00  INFO 23528 --- [carservices] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-11-17T11:58:34.857+04:00  INFO 23528 --- [carservices] [Thread-15] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-17T11:58:34.884+04:00  INFO 23528 --- [carservices] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-17T11:58:34.915+04:00  INFO 23528 --- [carservices] [Thread-15] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-17T11:58:34.941+04:00  INFO 23528 --- [carservices] [Thread-15] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Shutdown initiated...
2025-11-17T11:58:34.957+04:00  INFO 23528 --- [carservices] [Thread-15] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Shutdown completed.
2025-11-17T11:58:35.323+04:00  INFO 23528 --- [carservices] [restartedMain] c.c.carservices.CarservicesApplication   : Starting CarservicesApplication using Java 21.0.7 with PID 23528 (C:\Grand BackUp\Sheikh-2\Private\Sheikhkashifiqbal\temp\Spare Parts Project\SpringBoot\car-dev-1\carservices\target\classes started by lenovo in C:\Grand BackUp\Sheikh-2\Private\Sheikhkashifiqbal\temp\Spare Parts Project\SpringBoot\car-dev-1\carservices)
2025-11-17T11:58:35.325+04:00  INFO 23528 --- [carservices] [restartedMain] c.c.carservices.CarservicesApplication   : No active profile set, falling back to 1 default profile: "default"
2025-11-17T11:58:36.473+04:00  INFO 23528 --- [carservices] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-17T11:58:36.757+04:00  INFO 23528 --- [carservices] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 281 ms. Found 36 JPA repository interfaces.
2025-11-17T11:58:37.185+04:00  INFO 23528 --- [carservices] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-11-17T11:58:37.190+04:00  INFO 23528 --- [carservices] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-17T11:58:37.191+04:00  INFO 23528 --- [carservices] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-11-17T11:58:37.242+04:00  INFO 23528 --- [carservices] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-17T11:58:37.243+04:00  INFO 23528 --- [carservices] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1908 ms
2025-11-17T11:58:37.360+04:00  INFO 23528 --- [carservices] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-17T11:58:37.367+04:00  INFO 23528 --- [carservices] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-11-17T11:58:37.392+04:00  INFO 23528 --- [carservices] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-17T11:58:37.393+04:00  INFO 23528 --- [carservices] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Starting...
2025-11-17T11:58:37.462+04:00  INFO 23528 --- [carservices] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-5 - Added connection com.p6spy.engine.wrapper.ConnectionWrapper@5d5f1add
2025-11-17T11:58:37.464+04:00  INFO 23528 --- [carservices] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Start completed.
2025-11-17T11:58:37.495+04:00  WARN 23528 --- [carservices] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-17T11:58:37.498+04:00  INFO 23528 --- [carservices] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-5)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-17T11:58:38.064+04:00  INFO 23528 --- [carservices] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-17T11:58:38.088+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366318088 | took 21ms | statement | connection 60| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from information_schema.sequences
select * from information_schema.sequences;
2025-11-17T11:58:38.143+04:00  INFO 23528 --- [carservices] [restartedMain] t.s.e.i.AbstractInformationExtractorImpl : HHH000475: Cannot locate column information using identifier [lower((manager_email)::text)]; ignoring index [ux_company_manager_email]
2025-11-17T11:58:38.145+04:00 DEBUG 23528 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       drop constraint if exists ux_company_company_name_ci
2025-11-17T11:58:38.153+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366318153 | took 6ms | statement | connection 60| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       drop constraint if exists ux_company_company_name_ci

    alter table if exists company 
       drop constraint if exists ux_company_company_name_ci;
2025-11-17T11:58:38.153+04:00  WARN 23528 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2025-11-17T11:58:38.154+04:00  WARN 23528 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "ux_company_company_name_ci" of relation "company" does not exist, skipping
2025-11-17T11:58:38.154+04:00 DEBUG 23528 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       add constraint ux_company_company_name_ci unique (company_name)
2025-11-17T11:58:38.174+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366318174 | took 19ms | statement | connection 60| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       add constraint ux_company_company_name_ci unique (company_name)

    alter table if exists company 
       add constraint ux_company_company_name_ci unique (company_name);
2025-11-17T11:58:38.174+04:00 DEBUG 23528 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       drop constraint if exists ux_company_brand_name_ci
2025-11-17T11:58:38.176+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366318176 | took 0ms | statement | connection 60| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       drop constraint if exists ux_company_brand_name_ci

    alter table if exists company 
       drop constraint if exists ux_company_brand_name_ci;
2025-11-17T11:58:38.176+04:00  WARN 23528 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2025-11-17T11:58:38.176+04:00  WARN 23528 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "ux_company_brand_name_ci" of relation "company" does not exist, skipping
2025-11-17T11:58:38.177+04:00 DEBUG 23528 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       add constraint ux_company_brand_name_ci unique (brand_name)
2025-11-17T11:58:38.181+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366318181 | took 2ms | statement | connection 60| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       add constraint ux_company_brand_name_ci unique (brand_name)

    alter table if exists company 
       add constraint ux_company_brand_name_ci unique (brand_name);
2025-11-17T11:58:38.288+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366318288 | took 3ms | statement | connection 60| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."company" where 1=0
select * from "public"."company" where 1=0;
2025-11-17T11:58:38.395+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366318395 | took 3ms | statement | connection 60| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."branch" where 1=0
select * from "public"."branch" where 1=0;
2025-11-17T11:58:38.403+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366318403 | took 2ms | statement | connection 60| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-11-17T11:58:38.410+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366318410 | took 2ms | statement | connection 60| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."service_entity" where 1=0
select * from "public"."service_entity" where 1=0;
2025-11-17T11:58:38.520+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366318520 | took 0ms | statement | connection 60| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."branch" where 1=0
select * from "public"."branch" where 1=0;
2025-11-17T11:58:38.523+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366318523 | took 0ms | statement | connection 60| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-11-17T11:58:38.528+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366318528 | took 2ms | statement | connection 60| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."spare_parts" where 1=0
select * from "public"."spare_parts" where 1=0;
2025-11-17T11:58:38.628+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366318628 | took 0ms | statement | connection 60| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-11-17T11:58:38.722+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366318722 | took 0ms | statement | connection 60| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-11-17T11:58:38.727+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366318727 | took 2ms | statement | connection 60| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."user_registration" where 1=0
select * from "public"."user_registration" where 1=0;
2025-11-17T11:58:38.828+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366318828 | took 0ms | statement | connection 60| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."spare_parts" where 1=0
select * from "public"."spare_parts" where 1=0;
2025-11-17T11:58:38.924+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366318924 | took 2ms | statement | connection 60| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."problem" where 1=0
select * from "public"."problem" where 1=0;
2025-11-17T11:58:39.014+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366319014 | took 0ms | statement | connection 60| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."branch" where 1=0
select * from "public"."branch" where 1=0;
2025-11-17T11:58:39.016+04:00  INFO 23528 --- [carservices] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-17T11:58:40.545+04:00  WARN 23528 --- [carservices] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-17T11:58:41.054+04:00  INFO 23528 --- [carservices] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-11-17T11:58:41.091+04:00  INFO 23528 --- [carservices] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2025-11-17T11:58:41.101+04:00  INFO 23528 --- [carservices] [restartedMain] c.c.carservices.CarservicesApplication   : Started CarservicesApplication in 5.907 seconds (process running for 4326.541)
2025-11-17T11:58:41.106+04:00  INFO 23528 --- [carservices] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-11-17T11:59:04.456+04:00  INFO 23528 --- [carservices] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-11-17T11:59:04.459+04:00  INFO 23528 --- [carservices] [Thread-19] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-17T11:59:04.463+04:00  INFO 23528 --- [carservices] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-17T11:59:04.470+04:00  INFO 23528 --- [carservices] [Thread-19] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-17T11:59:04.472+04:00  INFO 23528 --- [carservices] [Thread-19] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Shutdown initiated...
2025-11-17T11:59:04.476+04:00  INFO 23528 --- [carservices] [Thread-19] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Shutdown completed.
2025-11-17T11:59:04.601+04:00  INFO 23528 --- [carservices] [restartedMain] c.c.carservices.CarservicesApplication   : Starting CarservicesApplication using Java 21.0.7 with PID 23528 (C:\Grand BackUp\Sheikh-2\Private\Sheikhkashifiqbal\temp\Spare Parts Project\SpringBoot\car-dev-1\carservices\target\classes started by lenovo in C:\Grand BackUp\Sheikh-2\Private\Sheikhkashifiqbal\temp\Spare Parts Project\SpringBoot\car-dev-1\carservices)
2025-11-17T11:59:04.601+04:00  INFO 23528 --- [carservices] [restartedMain] c.c.carservices.CarservicesApplication   : No active profile set, falling back to 1 default profile: "default"
2025-11-17T11:59:05.379+04:00  INFO 23528 --- [carservices] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-17T11:59:05.744+04:00  INFO 23528 --- [carservices] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 361 ms. Found 36 JPA repository interfaces.
2025-11-17T11:59:06.112+04:00  INFO 23528 --- [carservices] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-11-17T11:59:06.114+04:00  INFO 23528 --- [carservices] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-17T11:59:06.114+04:00  INFO 23528 --- [carservices] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-11-17T11:59:06.169+04:00  INFO 23528 --- [carservices] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-17T11:59:06.169+04:00  INFO 23528 --- [carservices] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1564 ms
2025-11-17T11:59:06.290+04:00  INFO 23528 --- [carservices] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-17T11:59:06.293+04:00  INFO 23528 --- [carservices] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-11-17T11:59:06.313+04:00  INFO 23528 --- [carservices] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-17T11:59:06.315+04:00  INFO 23528 --- [carservices] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Starting...
2025-11-17T11:59:06.511+04:00  INFO 23528 --- [carservices] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-6 - Added connection com.p6spy.engine.wrapper.ConnectionWrapper@4156a1dd
2025-11-17T11:59:06.512+04:00  INFO 23528 --- [carservices] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Start completed.
2025-11-17T11:59:06.527+04:00  WARN 23528 --- [carservices] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-17T11:59:06.529+04:00  INFO 23528 --- [carservices] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-6)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-17T11:59:07.000+04:00  INFO 23528 --- [carservices] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-17T11:59:07.008+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366347008 | took 6ms | statement | connection 70| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from information_schema.sequences
select * from information_schema.sequences;
2025-11-17T11:59:07.036+04:00  INFO 23528 --- [carservices] [restartedMain] t.s.e.i.AbstractInformationExtractorImpl : HHH000475: Cannot locate column information using identifier [lower((manager_email)::text)]; ignoring index [ux_company_manager_email]
2025-11-17T11:59:07.036+04:00 DEBUG 23528 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       drop constraint if exists ux_company_company_name_ci
2025-11-17T11:59:07.039+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366347039 | took 1ms | statement | connection 70| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       drop constraint if exists ux_company_company_name_ci

    alter table if exists company 
       drop constraint if exists ux_company_company_name_ci;
2025-11-17T11:59:07.039+04:00  WARN 23528 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2025-11-17T11:59:07.039+04:00  WARN 23528 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "ux_company_company_name_ci" of relation "company" does not exist, skipping
2025-11-17T11:59:07.039+04:00 DEBUG 23528 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       add constraint ux_company_company_name_ci unique (company_name)
2025-11-17T11:59:07.048+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366347048 | took 7ms | statement | connection 70| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       add constraint ux_company_company_name_ci unique (company_name)

    alter table if exists company 
       add constraint ux_company_company_name_ci unique (company_name);
2025-11-17T11:59:07.048+04:00 DEBUG 23528 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       drop constraint if exists ux_company_brand_name_ci
2025-11-17T11:59:07.049+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366347049 | took 0ms | statement | connection 70| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       drop constraint if exists ux_company_brand_name_ci

    alter table if exists company 
       drop constraint if exists ux_company_brand_name_ci;
2025-11-17T11:59:07.049+04:00  WARN 23528 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2025-11-17T11:59:07.049+04:00  WARN 23528 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "ux_company_brand_name_ci" of relation "company" does not exist, skipping
2025-11-17T11:59:07.049+04:00 DEBUG 23528 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       add constraint ux_company_brand_name_ci unique (brand_name)
2025-11-17T11:59:07.052+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366347052 | took 2ms | statement | connection 70| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       add constraint ux_company_brand_name_ci unique (brand_name)

    alter table if exists company 
       add constraint ux_company_brand_name_ci unique (brand_name);
2025-11-17T11:59:07.154+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366347154 | took 2ms | statement | connection 70| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."company" where 1=0
select * from "public"."company" where 1=0;
2025-11-17T11:59:07.248+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366347248 | took 2ms | statement | connection 70| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."branch" where 1=0
select * from "public"."branch" where 1=0;
2025-11-17T11:59:07.255+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366347255 | took 1ms | statement | connection 70| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-11-17T11:59:07.261+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366347261 | took 1ms | statement | connection 70| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."service_entity" where 1=0
select * from "public"."service_entity" where 1=0;
2025-11-17T11:59:07.350+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366347350 | took 0ms | statement | connection 70| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."branch" where 1=0
select * from "public"."branch" where 1=0;
2025-11-17T11:59:07.352+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366347352 | took 0ms | statement | connection 70| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-11-17T11:59:07.356+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366347356 | took 1ms | statement | connection 70| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."spare_parts" where 1=0
select * from "public"."spare_parts" where 1=0;
2025-11-17T11:59:07.449+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366347449 | took 0ms | statement | connection 70| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-11-17T11:59:07.540+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366347540 | took 0ms | statement | connection 70| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-11-17T11:59:07.543+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366347543 | took 1ms | statement | connection 70| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."user_registration" where 1=0
select * from "public"."user_registration" where 1=0;
2025-11-17T11:59:07.627+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366347627 | took 0ms | statement | connection 70| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."spare_parts" where 1=0
select * from "public"."spare_parts" where 1=0;
2025-11-17T11:59:07.725+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366347725 | took 2ms | statement | connection 70| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."problem" where 1=0
select * from "public"."problem" where 1=0;
2025-11-17T11:59:07.807+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366347807 | took 0ms | statement | connection 70| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."branch" where 1=0
select * from "public"."branch" where 1=0;
2025-11-17T11:59:07.807+04:00  INFO 23528 --- [carservices] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-17T11:59:08.885+04:00  WARN 23528 --- [carservices] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-17T11:59:09.231+04:00  INFO 23528 --- [carservices] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-11-17T11:59:09.268+04:00  INFO 23528 --- [carservices] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2025-11-17T11:59:09.275+04:00  INFO 23528 --- [carservices] [restartedMain] c.c.carservices.CarservicesApplication   : Started CarservicesApplication in 4.722 seconds (process running for 4354.715)
2025-11-17T11:59:09.279+04:00  INFO 23528 --- [carservices] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-11-17T11:59:40.930+04:00  INFO 23528 --- [carservices] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-11-17T11:59:40.932+04:00  INFO 23528 --- [carservices] [Thread-23] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-17T11:59:40.939+04:00  INFO 23528 --- [carservices] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-17T11:59:40.944+04:00  INFO 23528 --- [carservices] [Thread-23] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-17T11:59:40.945+04:00  INFO 23528 --- [carservices] [Thread-23] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Shutdown initiated...
2025-11-17T11:59:40.946+04:00  INFO 23528 --- [carservices] [Thread-23] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Shutdown completed.
2025-11-17T11:59:41.076+04:00  INFO 23528 --- [carservices] [restartedMain] c.c.carservices.CarservicesApplication   : Starting CarservicesApplication using Java 21.0.7 with PID 23528 (C:\Grand BackUp\Sheikh-2\Private\Sheikhkashifiqbal\temp\Spare Parts Project\SpringBoot\car-dev-1\carservices\target\classes started by lenovo in C:\Grand BackUp\Sheikh-2\Private\Sheikhkashifiqbal\temp\Spare Parts Project\SpringBoot\car-dev-1\carservices)
2025-11-17T11:59:41.077+04:00  INFO 23528 --- [carservices] [restartedMain] c.c.carservices.CarservicesApplication   : No active profile set, falling back to 1 default profile: "default"
2025-11-17T11:59:41.842+04:00  INFO 23528 --- [carservices] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-17T11:59:42.157+04:00  INFO 23528 --- [carservices] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 313 ms. Found 36 JPA repository interfaces.
2025-11-17T11:59:42.475+04:00  INFO 23528 --- [carservices] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-11-17T11:59:42.477+04:00  INFO 23528 --- [carservices] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-17T11:59:42.477+04:00  INFO 23528 --- [carservices] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-11-17T11:59:42.502+04:00  INFO 23528 --- [carservices] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-17T11:59:42.503+04:00  INFO 23528 --- [carservices] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1423 ms
2025-11-17T11:59:42.580+04:00  INFO 23528 --- [carservices] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-17T11:59:42.585+04:00  INFO 23528 --- [carservices] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-11-17T11:59:42.604+04:00  INFO 23528 --- [carservices] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-17T11:59:42.607+04:00  INFO 23528 --- [carservices] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-7 - Starting...
2025-11-17T11:59:42.703+04:00  INFO 23528 --- [carservices] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-7 - Added connection com.p6spy.engine.wrapper.ConnectionWrapper@5f1d86a0
2025-11-17T11:59:42.703+04:00  INFO 23528 --- [carservices] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-7 - Start completed.
2025-11-17T11:59:42.725+04:00  WARN 23528 --- [carservices] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-17T11:59:42.726+04:00  INFO 23528 --- [carservices] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-7)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-17T11:59:43.110+04:00  INFO 23528 --- [carservices] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-17T11:59:43.119+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366383119 | took 8ms | statement | connection 80| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from information_schema.sequences
select * from information_schema.sequences;
2025-11-17T11:59:43.146+04:00  INFO 23528 --- [carservices] [restartedMain] t.s.e.i.AbstractInformationExtractorImpl : HHH000475: Cannot locate column information using identifier [lower((manager_email)::text)]; ignoring index [ux_company_manager_email]
2025-11-17T11:59:43.147+04:00 DEBUG 23528 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       drop constraint if exists ux_company_company_name_ci
2025-11-17T11:59:43.150+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366383150 | took 1ms | statement | connection 80| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       drop constraint if exists ux_company_company_name_ci

    alter table if exists company 
       drop constraint if exists ux_company_company_name_ci;
2025-11-17T11:59:43.150+04:00  WARN 23528 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2025-11-17T11:59:43.150+04:00  WARN 23528 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "ux_company_company_name_ci" of relation "company" does not exist, skipping
2025-11-17T11:59:43.151+04:00 DEBUG 23528 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       add constraint ux_company_company_name_ci unique (company_name)
2025-11-17T11:59:43.157+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366383157 | took 6ms | statement | connection 80| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       add constraint ux_company_company_name_ci unique (company_name)

    alter table if exists company 
       add constraint ux_company_company_name_ci unique (company_name);
2025-11-17T11:59:43.158+04:00 DEBUG 23528 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       drop constraint if exists ux_company_brand_name_ci
2025-11-17T11:59:43.159+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366383159 | took 0ms | statement | connection 80| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       drop constraint if exists ux_company_brand_name_ci

    alter table if exists company 
       drop constraint if exists ux_company_brand_name_ci;
2025-11-17T11:59:43.159+04:00  WARN 23528 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2025-11-17T11:59:43.159+04:00  WARN 23528 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "ux_company_brand_name_ci" of relation "company" does not exist, skipping
2025-11-17T11:59:43.159+04:00 DEBUG 23528 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       add constraint ux_company_brand_name_ci unique (brand_name)
2025-11-17T11:59:43.162+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366383162 | took 3ms | statement | connection 80| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       add constraint ux_company_brand_name_ci unique (brand_name)

    alter table if exists company 
       add constraint ux_company_brand_name_ci unique (brand_name);
2025-11-17T11:59:43.263+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366383263 | took 2ms | statement | connection 80| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."company" where 1=0
select * from "public"."company" where 1=0;
2025-11-17T11:59:43.355+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366383355 | took 1ms | statement | connection 80| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."branch" where 1=0
select * from "public"."branch" where 1=0;
2025-11-17T11:59:43.363+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366383363 | took 1ms | statement | connection 80| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-11-17T11:59:43.368+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366383368 | took 1ms | statement | connection 80| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."service_entity" where 1=0
select * from "public"."service_entity" where 1=0;
2025-11-17T11:59:43.465+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366383465 | took 0ms | statement | connection 80| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."branch" where 1=0
select * from "public"."branch" where 1=0;
2025-11-17T11:59:43.468+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366383468 | took 0ms | statement | connection 80| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-11-17T11:59:43.473+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366383473 | took 1ms | statement | connection 80| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."spare_parts" where 1=0
select * from "public"."spare_parts" where 1=0;
2025-11-17T11:59:43.579+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366383579 | took 0ms | statement | connection 80| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-11-17T11:59:43.679+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366383679 | took 0ms | statement | connection 80| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-11-17T11:59:43.684+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366383684 | took 2ms | statement | connection 80| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."user_registration" where 1=0
select * from "public"."user_registration" where 1=0;
2025-11-17T11:59:43.780+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366383780 | took 0ms | statement | connection 80| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."spare_parts" where 1=0
select * from "public"."spare_parts" where 1=0;
2025-11-17T11:59:43.876+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366383876 | took 1ms | statement | connection 80| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."problem" where 1=0
select * from "public"."problem" where 1=0;
2025-11-17T11:59:43.970+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366383970 | took 0ms | statement | connection 80| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."branch" where 1=0
select * from "public"."branch" where 1=0;
2025-11-17T11:59:43.970+04:00  INFO 23528 --- [carservices] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-17T11:59:44.909+04:00  WARN 23528 --- [carservices] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-17T11:59:45.171+04:00  INFO 23528 --- [carservices] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-11-17T11:59:45.193+04:00  INFO 23528 --- [carservices] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2025-11-17T11:59:45.199+04:00  INFO 23528 --- [carservices] [restartedMain] c.c.carservices.CarservicesApplication   : Started CarservicesApplication in 4.17 seconds (process running for 4390.639)
2025-11-17T11:59:45.201+04:00  INFO 23528 --- [carservices] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-11-17T12:00:11.889+04:00  INFO 23528 --- [carservices] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-11-17T12:00:11.893+04:00  INFO 23528 --- [carservices] [Thread-27] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-17T12:00:11.904+04:00  INFO 23528 --- [carservices] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-17T12:00:11.910+04:00  INFO 23528 --- [carservices] [Thread-27] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-17T12:00:11.913+04:00  INFO 23528 --- [carservices] [Thread-27] com.zaxxer.hikari.HikariDataSource       : HikariPool-7 - Shutdown initiated...
2025-11-17T12:00:11.919+04:00  INFO 23528 --- [carservices] [Thread-27] com.zaxxer.hikari.HikariDataSource       : HikariPool-7 - Shutdown completed.
2025-11-17T12:00:12.049+04:00  INFO 23528 --- [carservices] [restartedMain] c.c.carservices.CarservicesApplication   : Starting CarservicesApplication using Java 21.0.7 with PID 23528 (C:\Grand BackUp\Sheikh-2\Private\Sheikhkashifiqbal\temp\Spare Parts Project\SpringBoot\car-dev-1\carservices\target\classes started by lenovo in C:\Grand BackUp\Sheikh-2\Private\Sheikhkashifiqbal\temp\Spare Parts Project\SpringBoot\car-dev-1\carservices)
2025-11-17T12:00:12.049+04:00  INFO 23528 --- [carservices] [restartedMain] c.c.carservices.CarservicesApplication   : No active profile set, falling back to 1 default profile: "default"
2025-11-17T12:00:12.730+04:00  INFO 23528 --- [carservices] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-17T12:00:12.946+04:00  INFO 23528 --- [carservices] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 213 ms. Found 36 JPA repository interfaces.
2025-11-17T12:00:13.178+04:00  INFO 23528 --- [carservices] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-11-17T12:00:13.180+04:00  INFO 23528 --- [carservices] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-17T12:00:13.180+04:00  INFO 23528 --- [carservices] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-11-17T12:00:13.208+04:00  INFO 23528 --- [carservices] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-17T12:00:13.209+04:00  INFO 23528 --- [carservices] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1157 ms
2025-11-17T12:00:13.340+04:00  INFO 23528 --- [carservices] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-17T12:00:13.344+04:00  INFO 23528 --- [carservices] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-11-17T12:00:13.356+04:00  INFO 23528 --- [carservices] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-17T12:00:13.358+04:00  INFO 23528 --- [carservices] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-8 - Starting...
2025-11-17T12:00:13.581+04:00  INFO 23528 --- [carservices] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-8 - Added connection com.p6spy.engine.wrapper.ConnectionWrapper@444e97d2
2025-11-17T12:00:13.581+04:00  INFO 23528 --- [carservices] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-8 - Start completed.
2025-11-17T12:00:13.600+04:00  WARN 23528 --- [carservices] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-17T12:00:13.602+04:00  INFO 23528 --- [carservices] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-8)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-17T12:00:13.980+04:00  INFO 23528 --- [carservices] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-17T12:00:13.990+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366413990 | took 8ms | statement | connection 90| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from information_schema.sequences
select * from information_schema.sequences;
2025-11-17T12:00:14.016+04:00  INFO 23528 --- [carservices] [restartedMain] t.s.e.i.AbstractInformationExtractorImpl : HHH000475: Cannot locate column information using identifier [lower((manager_email)::text)]; ignoring index [ux_company_manager_email]
2025-11-17T12:00:14.016+04:00 DEBUG 23528 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       drop constraint if exists ux_company_company_name_ci
2025-11-17T12:00:14.018+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366414018 | took 1ms | statement | connection 90| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       drop constraint if exists ux_company_company_name_ci

    alter table if exists company 
       drop constraint if exists ux_company_company_name_ci;
2025-11-17T12:00:14.018+04:00  WARN 23528 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2025-11-17T12:00:14.018+04:00  WARN 23528 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "ux_company_company_name_ci" of relation "company" does not exist, skipping
2025-11-17T12:00:14.018+04:00 DEBUG 23528 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       add constraint ux_company_company_name_ci unique (company_name)
2025-11-17T12:00:14.025+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366414025 | took 6ms | statement | connection 90| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       add constraint ux_company_company_name_ci unique (company_name)

    alter table if exists company 
       add constraint ux_company_company_name_ci unique (company_name);
2025-11-17T12:00:14.025+04:00 DEBUG 23528 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       drop constraint if exists ux_company_brand_name_ci
2025-11-17T12:00:14.026+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366414026 | took 0ms | statement | connection 90| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       drop constraint if exists ux_company_brand_name_ci

    alter table if exists company 
       drop constraint if exists ux_company_brand_name_ci;
2025-11-17T12:00:14.027+04:00  WARN 23528 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2025-11-17T12:00:14.027+04:00  WARN 23528 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "ux_company_brand_name_ci" of relation "company" does not exist, skipping
2025-11-17T12:00:14.027+04:00 DEBUG 23528 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       add constraint ux_company_brand_name_ci unique (brand_name)
2025-11-17T12:00:14.030+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366414030 | took 2ms | statement | connection 90| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       add constraint ux_company_brand_name_ci unique (brand_name)

    alter table if exists company 
       add constraint ux_company_brand_name_ci unique (brand_name);
2025-11-17T12:00:14.126+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366414126 | took 1ms | statement | connection 90| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."company" where 1=0
select * from "public"."company" where 1=0;
2025-11-17T12:00:14.211+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366414211 | took 2ms | statement | connection 90| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."branch" where 1=0
select * from "public"."branch" where 1=0;
2025-11-17T12:00:14.219+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366414219 | took 1ms | statement | connection 90| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-11-17T12:00:14.224+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366414224 | took 1ms | statement | connection 90| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."service_entity" where 1=0
select * from "public"."service_entity" where 1=0;
2025-11-17T12:00:14.325+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366414325 | took 0ms | statement | connection 90| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."branch" where 1=0
select * from "public"."branch" where 1=0;
2025-11-17T12:00:14.329+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366414329 | took 0ms | statement | connection 90| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-11-17T12:00:14.333+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366414333 | took 1ms | statement | connection 90| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."spare_parts" where 1=0
select * from "public"."spare_parts" where 1=0;
2025-11-17T12:00:14.434+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366414434 | took 0ms | statement | connection 90| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-11-17T12:00:14.533+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366414533 | took 0ms | statement | connection 90| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-11-17T12:00:14.536+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366414536 | took 1ms | statement | connection 90| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."user_registration" where 1=0
select * from "public"."user_registration" where 1=0;
2025-11-17T12:00:14.627+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366414627 | took 0ms | statement | connection 90| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."spare_parts" where 1=0
select * from "public"."spare_parts" where 1=0;
2025-11-17T12:00:14.728+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366414728 | took 1ms | statement | connection 90| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."problem" where 1=0
select * from "public"."problem" where 1=0;
2025-11-17T12:00:14.820+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366414820 | took 0ms | statement | connection 90| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."branch" where 1=0
select * from "public"."branch" where 1=0;
2025-11-17T12:00:14.821+04:00  INFO 23528 --- [carservices] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-17T12:00:15.798+04:00  WARN 23528 --- [carservices] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-17T12:00:16.118+04:00  INFO 23528 --- [carservices] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-11-17T12:00:16.144+04:00  INFO 23528 --- [carservices] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2025-11-17T12:00:16.147+04:00  INFO 23528 --- [carservices] [restartedMain] c.c.carservices.CarservicesApplication   : Started CarservicesApplication in 4.144 seconds (process running for 4421.587)
2025-11-17T12:00:16.149+04:00  INFO 23528 --- [carservices] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-11-17T12:00:35.970+04:00  INFO 23528 --- [carservices] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 2 class path changes (1 addition, 0 deletions, 1 modification)
2025-11-17T12:00:35.972+04:00  INFO 23528 --- [carservices] [Thread-31] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-17T12:00:35.979+04:00  INFO 23528 --- [carservices] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-17T12:00:35.985+04:00  INFO 23528 --- [carservices] [Thread-31] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-17T12:00:35.986+04:00  INFO 23528 --- [carservices] [Thread-31] com.zaxxer.hikari.HikariDataSource       : HikariPool-8 - Shutdown initiated...
2025-11-17T12:00:35.990+04:00  INFO 23528 --- [carservices] [Thread-31] com.zaxxer.hikari.HikariDataSource       : HikariPool-8 - Shutdown completed.
2025-11-17T12:00:36.100+04:00  INFO 23528 --- [carservices] [restartedMain] c.c.carservices.CarservicesApplication   : Starting CarservicesApplication using Java 21.0.7 with PID 23528 (C:\Grand BackUp\Sheikh-2\Private\Sheikhkashifiqbal\temp\Spare Parts Project\SpringBoot\car-dev-1\carservices\target\classes started by lenovo in C:\Grand BackUp\Sheikh-2\Private\Sheikhkashifiqbal\temp\Spare Parts Project\SpringBoot\car-dev-1\carservices)
2025-11-17T12:00:36.101+04:00  INFO 23528 --- [carservices] [restartedMain] c.c.carservices.CarservicesApplication   : No active profile set, falling back to 1 default profile: "default"
2025-11-17T12:00:36.789+04:00  INFO 23528 --- [carservices] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-17T12:00:37.020+04:00  INFO 23528 --- [carservices] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 229 ms. Found 36 JPA repository interfaces.
2025-11-17T12:00:37.268+04:00  INFO 23528 --- [carservices] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-11-17T12:00:37.269+04:00  INFO 23528 --- [carservices] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-17T12:00:37.270+04:00  INFO 23528 --- [carservices] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-11-17T12:00:37.310+04:00  INFO 23528 --- [carservices] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-17T12:00:37.311+04:00  INFO 23528 --- [carservices] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1208 ms
2025-11-17T12:00:37.427+04:00  INFO 23528 --- [carservices] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-17T12:00:37.430+04:00  INFO 23528 --- [carservices] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-11-17T12:00:37.441+04:00  INFO 23528 --- [carservices] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-17T12:00:37.443+04:00  INFO 23528 --- [carservices] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-9 - Starting...
2025-11-17T12:00:37.516+04:00  INFO 23528 --- [carservices] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-9 - Added connection com.p6spy.engine.wrapper.ConnectionWrapper@6dda6f39
2025-11-17T12:00:37.517+04:00  INFO 23528 --- [carservices] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-9 - Start completed.
2025-11-17T12:00:37.527+04:00  WARN 23528 --- [carservices] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-17T12:00:37.529+04:00  INFO 23528 --- [carservices] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-9)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-17T12:00:37.840+04:00  INFO 23528 --- [carservices] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-17T12:00:37.849+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366437849 | took 7ms | statement | connection 100| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from information_schema.sequences
select * from information_schema.sequences;
2025-11-17T12:00:37.882+04:00  INFO 23528 --- [carservices] [restartedMain] t.s.e.i.AbstractInformationExtractorImpl : HHH000475: Cannot locate column information using identifier [lower((manager_email)::text)]; ignoring index [ux_company_manager_email]
2025-11-17T12:00:37.882+04:00 DEBUG 23528 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       drop constraint if exists ux_company_company_name_ci
2025-11-17T12:00:37.883+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366437883 | took 1ms | statement | connection 100| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       drop constraint if exists ux_company_company_name_ci

    alter table if exists company 
       drop constraint if exists ux_company_company_name_ci;
2025-11-17T12:00:37.883+04:00  WARN 23528 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2025-11-17T12:00:37.883+04:00  WARN 23528 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "ux_company_company_name_ci" of relation "company" does not exist, skipping
2025-11-17T12:00:37.885+04:00 DEBUG 23528 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       add constraint ux_company_company_name_ci unique (company_name)
2025-11-17T12:00:37.890+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366437890 | took 6ms | statement | connection 100| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       add constraint ux_company_company_name_ci unique (company_name)

    alter table if exists company 
       add constraint ux_company_company_name_ci unique (company_name);
2025-11-17T12:00:37.891+04:00 DEBUG 23528 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       drop constraint if exists ux_company_brand_name_ci
2025-11-17T12:00:37.892+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366437892 | took 0ms | statement | connection 100| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       drop constraint if exists ux_company_brand_name_ci

    alter table if exists company 
       drop constraint if exists ux_company_brand_name_ci;
2025-11-17T12:00:37.892+04:00  WARN 23528 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2025-11-17T12:00:37.892+04:00  WARN 23528 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "ux_company_brand_name_ci" of relation "company" does not exist, skipping
2025-11-17T12:00:37.892+04:00 DEBUG 23528 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       add constraint ux_company_brand_name_ci unique (brand_name)
2025-11-17T12:00:37.895+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366437895 | took 2ms | statement | connection 100| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       add constraint ux_company_brand_name_ci unique (brand_name)

    alter table if exists company 
       add constraint ux_company_brand_name_ci unique (brand_name);
2025-11-17T12:00:37.988+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366437988 | took 2ms | statement | connection 100| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."company" where 1=0
select * from "public"."company" where 1=0;
2025-11-17T12:00:38.088+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366438088 | took 3ms | statement | connection 100| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."branch" where 1=0
select * from "public"."branch" where 1=0;
2025-11-17T12:00:38.095+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366438095 | took 1ms | statement | connection 100| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-11-17T12:00:38.101+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366438101 | took 2ms | statement | connection 100| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."service_entity" where 1=0
select * from "public"."service_entity" where 1=0;
2025-11-17T12:00:38.199+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366438199 | took 0ms | statement | connection 100| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."branch" where 1=0
select * from "public"."branch" where 1=0;
2025-11-17T12:00:38.202+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366438202 | took 0ms | statement | connection 100| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-11-17T12:00:38.206+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366438206 | took 1ms | statement | connection 100| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."spare_parts" where 1=0
select * from "public"."spare_parts" where 1=0;
2025-11-17T12:00:38.296+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366438296 | took 0ms | statement | connection 100| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-11-17T12:00:38.390+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366438390 | took 0ms | statement | connection 100| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-11-17T12:00:38.393+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366438393 | took 2ms | statement | connection 100| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."user_registration" where 1=0
select * from "public"."user_registration" where 1=0;
2025-11-17T12:00:38.496+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366438496 | took 0ms | statement | connection 100| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."spare_parts" where 1=0
select * from "public"."spare_parts" where 1=0;
2025-11-17T12:00:38.592+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366438592 | took 1ms | statement | connection 100| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."problem" where 1=0
select * from "public"."problem" where 1=0;
2025-11-17T12:00:38.688+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366438688 | took 0ms | statement | connection 100| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."branch" where 1=0
select * from "public"."branch" where 1=0;
2025-11-17T12:00:38.689+04:00  INFO 23528 --- [carservices] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-17T12:00:39.829+04:00  WARN 23528 --- [carservices] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-17T12:00:40.189+04:00  INFO 23528 --- [carservices] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-11-17T12:00:40.212+04:00  INFO 23528 --- [carservices] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2025-11-17T12:00:40.220+04:00  INFO 23528 --- [carservices] [restartedMain] c.c.carservices.CarservicesApplication   : Started CarservicesApplication in 4.158 seconds (process running for 4445.66)
2025-11-17T12:00:40.223+04:00  INFO 23528 --- [carservices] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-11-17T12:01:09.171+04:00  INFO 23528 --- [carservices] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-11-17T12:01:09.173+04:00  INFO 23528 --- [carservices] [Thread-35] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-17T12:01:09.180+04:00  INFO 23528 --- [carservices] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-17T12:01:09.185+04:00  INFO 23528 --- [carservices] [Thread-35] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-17T12:01:09.187+04:00  INFO 23528 --- [carservices] [Thread-35] com.zaxxer.hikari.HikariDataSource       : HikariPool-9 - Shutdown initiated...
2025-11-17T12:01:09.191+04:00  INFO 23528 --- [carservices] [Thread-35] com.zaxxer.hikari.HikariDataSource       : HikariPool-9 - Shutdown completed.
2025-11-17T12:01:09.303+04:00  INFO 23528 --- [carservices] [restartedMain] c.c.carservices.CarservicesApplication   : Starting CarservicesApplication using Java 21.0.7 with PID 23528 (C:\Grand BackUp\Sheikh-2\Private\Sheikhkashifiqbal\temp\Spare Parts Project\SpringBoot\car-dev-1\carservices\target\classes started by lenovo in C:\Grand BackUp\Sheikh-2\Private\Sheikhkashifiqbal\temp\Spare Parts Project\SpringBoot\car-dev-1\carservices)
2025-11-17T12:01:09.303+04:00  INFO 23528 --- [carservices] [restartedMain] c.c.carservices.CarservicesApplication   : No active profile set, falling back to 1 default profile: "default"
2025-11-17T12:01:10.095+04:00  INFO 23528 --- [carservices] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-17T12:01:10.316+04:00  INFO 23528 --- [carservices] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 220 ms. Found 36 JPA repository interfaces.
2025-11-17T12:01:10.535+04:00  INFO 23528 --- [carservices] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-11-17T12:01:10.536+04:00  INFO 23528 --- [carservices] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-17T12:01:10.536+04:00  INFO 23528 --- [carservices] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-11-17T12:01:10.563+04:00  INFO 23528 --- [carservices] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-17T12:01:10.564+04:00  INFO 23528 --- [carservices] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1259 ms
2025-11-17T12:01:10.640+04:00  INFO 23528 --- [carservices] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-17T12:01:10.644+04:00  INFO 23528 --- [carservices] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-11-17T12:01:10.658+04:00  INFO 23528 --- [carservices] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-17T12:01:10.659+04:00  INFO 23528 --- [carservices] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-10 - Starting...
2025-11-17T12:01:10.847+04:00  INFO 23528 --- [carservices] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-10 - Added connection com.p6spy.engine.wrapper.ConnectionWrapper@2e4b98cd
2025-11-17T12:01:10.848+04:00  INFO 23528 --- [carservices] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-10 - Start completed.
2025-11-17T12:01:10.855+04:00  WARN 23528 --- [carservices] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-17T12:01:10.857+04:00  INFO 23528 --- [carservices] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-10)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-17T12:01:11.193+04:00  INFO 23528 --- [carservices] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-17T12:01:11.202+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366471202 | took 8ms | statement | connection 110| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from information_schema.sequences
select * from information_schema.sequences;
2025-11-17T12:01:11.225+04:00  INFO 23528 --- [carservices] [restartedMain] t.s.e.i.AbstractInformationExtractorImpl : HHH000475: Cannot locate column information using identifier [lower((manager_email)::text)]; ignoring index [ux_company_manager_email]
2025-11-17T12:01:11.226+04:00 DEBUG 23528 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       drop constraint if exists ux_company_company_name_ci
2025-11-17T12:01:11.230+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366471230 | took 4ms | statement | connection 110| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       drop constraint if exists ux_company_company_name_ci

    alter table if exists company 
       drop constraint if exists ux_company_company_name_ci;
2025-11-17T12:01:11.231+04:00  WARN 23528 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2025-11-17T12:01:11.231+04:00  WARN 23528 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "ux_company_company_name_ci" of relation "company" does not exist, skipping
2025-11-17T12:01:11.231+04:00 DEBUG 23528 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       add constraint ux_company_company_name_ci unique (company_name)
2025-11-17T12:01:11.237+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366471237 | took 5ms | statement | connection 110| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       add constraint ux_company_company_name_ci unique (company_name)

    alter table if exists company 
       add constraint ux_company_company_name_ci unique (company_name);
2025-11-17T12:01:11.237+04:00 DEBUG 23528 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       drop constraint if exists ux_company_brand_name_ci
2025-11-17T12:01:11.238+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366471238 | took 0ms | statement | connection 110| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       drop constraint if exists ux_company_brand_name_ci

    alter table if exists company 
       drop constraint if exists ux_company_brand_name_ci;
2025-11-17T12:01:11.239+04:00  WARN 23528 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2025-11-17T12:01:11.239+04:00  WARN 23528 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "ux_company_brand_name_ci" of relation "company" does not exist, skipping
2025-11-17T12:01:11.239+04:00 DEBUG 23528 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       add constraint ux_company_brand_name_ci unique (brand_name)
2025-11-17T12:01:11.247+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366471247 | took 8ms | statement | connection 110| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       add constraint ux_company_brand_name_ci unique (brand_name)

    alter table if exists company 
       add constraint ux_company_brand_name_ci unique (brand_name);
2025-11-17T12:01:11.380+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366471380 | took 3ms | statement | connection 110| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."company" where 1=0
select * from "public"."company" where 1=0;
2025-11-17T12:01:11.499+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366471499 | took 2ms | statement | connection 110| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."branch" where 1=0
select * from "public"."branch" where 1=0;
2025-11-17T12:01:11.506+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366471506 | took 1ms | statement | connection 110| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-11-17T12:01:11.510+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366471510 | took 1ms | statement | connection 110| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."service_entity" where 1=0
select * from "public"."service_entity" where 1=0;
2025-11-17T12:01:11.593+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366471593 | took 0ms | statement | connection 110| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."branch" where 1=0
select * from "public"."branch" where 1=0;
2025-11-17T12:01:11.595+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366471595 | took 0ms | statement | connection 110| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-11-17T12:01:11.599+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366471599 | took 1ms | statement | connection 110| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."spare_parts" where 1=0
select * from "public"."spare_parts" where 1=0;
2025-11-17T12:01:11.668+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366471668 | took 0ms | statement | connection 110| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-11-17T12:01:11.756+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366471756 | took 0ms | statement | connection 110| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-11-17T12:01:11.761+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366471761 | took 2ms | statement | connection 110| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."user_registration" where 1=0
select * from "public"."user_registration" where 1=0;
2025-11-17T12:01:11.846+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366471846 | took 0ms | statement | connection 110| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."spare_parts" where 1=0
select * from "public"."spare_parts" where 1=0;
2025-11-17T12:01:11.924+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366471924 | took 1ms | statement | connection 110| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."problem" where 1=0
select * from "public"."problem" where 1=0;
2025-11-17T12:01:12.037+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366472037 | took 0ms | statement | connection 110| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."branch" where 1=0
select * from "public"."branch" where 1=0;
2025-11-17T12:01:12.038+04:00  INFO 23528 --- [carservices] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-17T12:01:12.876+04:00  WARN 23528 --- [carservices] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-17T12:01:13.191+04:00  INFO 23528 --- [carservices] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-11-17T12:01:13.228+04:00  INFO 23528 --- [carservices] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2025-11-17T12:01:13.234+04:00  INFO 23528 --- [carservices] [restartedMain] c.c.carservices.CarservicesApplication   : Started CarservicesApplication in 3.97 seconds (process running for 4478.673)
2025-11-17T12:01:13.234+04:00  INFO 23528 --- [carservices] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-11-17T12:01:57.059+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-5] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-17T12:01:57.061+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-11-17T12:01:57.061+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2025-11-17T12:01:57.085+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1763366517085 | took 8ms | statement | connection 110| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT status,
           "from" AS from_time,
           "to"   AS to_time
    FROM work_days
    WHERE branch_id = ?
      AND UPPER(working_day) = ?
    LIMIT 1

    SELECT status,
           "from" AS from_time,
           "to"   AS to_time
    FROM work_days
    WHERE branch_id = 1
      AND UPPER(working_day) = 'SUNDAY'
    LIMIT 1
;
2025-11-17T12:01:57.096+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1763366517096 | took 6ms | statement | connection 110| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT COALESCE(SUM(qty), 0) AS total_qty
    FROM branch_brand_service
    WHERE branch_id = ?
 AND brand_id = 1 AND service_id = 1
    SELECT COALESCE(SUM(qty), 0) AS total_qty
    FROM branch_brand_service
    WHERE branch_id = 1
 AND brand_id = 1 AND service_id = 1;
2025-11-17T12:01:57.098+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1763366517098 | took 0ms | statement | connection 110| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT COALESCE(SUM(experts), 0) AS total_experts
    FROM branch_brand_service
    WHERE branch_id = ?
 AND brand_id = 1 AND service_id = 1
    SELECT COALESCE(SUM(experts), 0) AS total_experts
    FROM branch_brand_service
    WHERE branch_id = 1
 AND brand_id = 1 AND service_id = 1;
2025-11-17T12:01:57.099+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1763366517099 | took 0ms | statement | connection 110| url jdbc:p6spy:postgresql://localhost:5433/testdb
SELECT UPPER(service_type) FROM service_entity WHERE service_id = ?
SELECT UPPER(service_type) FROM service_entity WHERE service_id = 1;
2025-11-17T12:01:57.110+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1763366517110 | took 8ms | statement | connection 110| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1 AND r.service_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T09:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1 AND r.service_id = 1;
2025-11-17T12:01:57.119+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1763366517119 | took 1ms | statement | connection 110| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1 AND r.service_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T09:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1 AND r.service_id = 1;
2025-11-17T12:01:57.121+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1763366517121 | took 0ms | statement | connection 110| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1 AND r.service_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T10:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1 AND r.service_id = 1;
2025-11-17T12:01:57.123+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1763366517123 | took 0ms | statement | connection 110| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1 AND r.service_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T10:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1 AND r.service_id = 1;
2025-11-17T12:01:57.126+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1763366517126 | took 1ms | statement | connection 110| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1 AND r.service_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T11:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1 AND r.service_id = 1;
2025-11-17T12:01:57.128+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1763366517128 | took 0ms | statement | connection 110| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1 AND r.service_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T11:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1 AND r.service_id = 1;
2025-11-17T12:01:57.129+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1763366517129 | took 0ms | statement | connection 110| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1 AND r.service_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T12:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1 AND r.service_id = 1;
2025-11-17T12:01:57.131+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1763366517131 | took 0ms | statement | connection 110| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1 AND r.service_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T12:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1 AND r.service_id = 1;
2025-11-17T12:01:57.132+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1763366517132 | took 0ms | statement | connection 110| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1 AND r.service_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T13:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1 AND r.service_id = 1;
2025-11-17T12:01:57.134+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1763366517134 | took 0ms | statement | connection 110| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1 AND r.service_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T13:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1 AND r.service_id = 1;
2025-11-17T12:01:57.135+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1763366517135 | took 0ms | statement | connection 110| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1 AND r.service_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T14:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1 AND r.service_id = 1;
2025-11-17T12:01:57.136+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1763366517136 | took 0ms | statement | connection 110| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1 AND r.service_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T14:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1 AND r.service_id = 1;
2025-11-17T12:01:57.139+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1763366517139 | took 0ms | statement | connection 110| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1 AND r.service_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T15:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1 AND r.service_id = 1;
2025-11-17T12:01:57.140+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1763366517140 | took 0ms | statement | connection 110| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1 AND r.service_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T15:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1 AND r.service_id = 1;
2025-11-17T12:01:57.141+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1763366517141 | took 0ms | statement | connection 110| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1 AND r.service_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T16:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1 AND r.service_id = 1;
2025-11-17T12:01:57.142+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1763366517142 | took 0ms | statement | connection 110| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1 AND r.service_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T16:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1 AND r.service_id = 1;
2025-11-17T12:01:57.143+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1763366517143 | took 0ms | statement | connection 110| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1 AND r.service_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T17:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1 AND r.service_id = 1;
2025-11-17T12:01:57.144+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1763366517144 | took 0ms | statement | connection 110| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1 AND r.service_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T17:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1 AND r.service_id = 1;
2025-11-17T12:01:57.145+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1763366517145 | took 0ms | statement | connection 110| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1 AND r.service_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T18:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1 AND r.service_id = 1;
2025-11-17T12:03:04.843+04:00  INFO 23528 --- [carservices] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 2 class path changes (0 additions, 0 deletions, 2 modifications)
2025-11-17T12:03:04.846+04:00  INFO 23528 --- [carservices] [Thread-39] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-17T12:03:04.859+04:00  INFO 23528 --- [carservices] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-17T12:03:04.866+04:00  INFO 23528 --- [carservices] [Thread-39] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-17T12:03:04.867+04:00  INFO 23528 --- [carservices] [Thread-39] com.zaxxer.hikari.HikariDataSource       : HikariPool-10 - Shutdown initiated...
2025-11-17T12:03:04.871+04:00  INFO 23528 --- [carservices] [Thread-39] com.zaxxer.hikari.HikariDataSource       : HikariPool-10 - Shutdown completed.
2025-11-17T12:03:05.054+04:00  INFO 23528 --- [carservices] [restartedMain] c.c.carservices.CarservicesApplication   : Starting CarservicesApplication using Java 21.0.7 with PID 23528 (C:\Grand BackUp\Sheikh-2\Private\Sheikhkashifiqbal\temp\Spare Parts Project\SpringBoot\car-dev-1\carservices\target\classes started by lenovo in C:\Grand BackUp\Sheikh-2\Private\Sheikhkashifiqbal\temp\Spare Parts Project\SpringBoot\car-dev-1\carservices)
2025-11-17T12:03:05.054+04:00  INFO 23528 --- [carservices] [restartedMain] c.c.carservices.CarservicesApplication   : No active profile set, falling back to 1 default profile: "default"
2025-11-17T12:03:05.603+04:00  INFO 23528 --- [carservices] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-17T12:03:05.760+04:00  INFO 23528 --- [carservices] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 155 ms. Found 36 JPA repository interfaces.
2025-11-17T12:03:05.971+04:00  INFO 23528 --- [carservices] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-11-17T12:03:05.973+04:00  INFO 23528 --- [carservices] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-17T12:03:05.973+04:00  INFO 23528 --- [carservices] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-11-17T12:03:06.003+04:00  INFO 23528 --- [carservices] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-17T12:03:06.004+04:00  INFO 23528 --- [carservices] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 947 ms
2025-11-17T12:03:06.092+04:00  INFO 23528 --- [carservices] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-17T12:03:06.095+04:00  INFO 23528 --- [carservices] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-11-17T12:03:06.109+04:00  INFO 23528 --- [carservices] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-17T12:03:06.111+04:00  INFO 23528 --- [carservices] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-11 - Starting...
2025-11-17T12:03:06.169+04:00  INFO 23528 --- [carservices] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-11 - Added connection com.p6spy.engine.wrapper.ConnectionWrapper@288a05e9
2025-11-17T12:03:06.171+04:00  INFO 23528 --- [carservices] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-11 - Start completed.
2025-11-17T12:03:06.179+04:00  WARN 23528 --- [carservices] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-17T12:03:06.181+04:00  INFO 23528 --- [carservices] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-11)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-17T12:03:06.502+04:00  INFO 23528 --- [carservices] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-17T12:03:06.513+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366586513 | took 9ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from information_schema.sequences
select * from information_schema.sequences;
2025-11-17T12:03:06.536+04:00  INFO 23528 --- [carservices] [restartedMain] t.s.e.i.AbstractInformationExtractorImpl : HHH000475: Cannot locate column information using identifier [lower((manager_email)::text)]; ignoring index [ux_company_manager_email]
2025-11-17T12:03:06.536+04:00 DEBUG 23528 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       drop constraint if exists ux_company_company_name_ci
2025-11-17T12:03:06.540+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366586540 | took 4ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       drop constraint if exists ux_company_company_name_ci

    alter table if exists company 
       drop constraint if exists ux_company_company_name_ci;
2025-11-17T12:03:06.541+04:00  WARN 23528 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2025-11-17T12:03:06.541+04:00  WARN 23528 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "ux_company_company_name_ci" of relation "company" does not exist, skipping
2025-11-17T12:03:06.541+04:00 DEBUG 23528 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       add constraint ux_company_company_name_ci unique (company_name)
2025-11-17T12:03:06.548+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366586548 | took 7ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       add constraint ux_company_company_name_ci unique (company_name)

    alter table if exists company 
       add constraint ux_company_company_name_ci unique (company_name);
2025-11-17T12:03:06.549+04:00 DEBUG 23528 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       drop constraint if exists ux_company_brand_name_ci
2025-11-17T12:03:06.550+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366586550 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       drop constraint if exists ux_company_brand_name_ci

    alter table if exists company 
       drop constraint if exists ux_company_brand_name_ci;
2025-11-17T12:03:06.550+04:00  WARN 23528 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2025-11-17T12:03:06.551+04:00  WARN 23528 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "ux_company_brand_name_ci" of relation "company" does not exist, skipping
2025-11-17T12:03:06.551+04:00 DEBUG 23528 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       add constraint ux_company_brand_name_ci unique (brand_name)
2025-11-17T12:03:06.553+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366586553 | took 2ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       add constraint ux_company_brand_name_ci unique (brand_name)

    alter table if exists company 
       add constraint ux_company_brand_name_ci unique (brand_name);
2025-11-17T12:03:06.637+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366586637 | took 2ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."company" where 1=0
select * from "public"."company" where 1=0;
2025-11-17T12:03:06.713+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366586713 | took 2ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."branch" where 1=0
select * from "public"."branch" where 1=0;
2025-11-17T12:03:06.717+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366586717 | took 1ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-11-17T12:03:06.722+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366586722 | took 1ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."service_entity" where 1=0
select * from "public"."service_entity" where 1=0;
2025-11-17T12:03:06.797+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366586797 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."branch" where 1=0
select * from "public"."branch" where 1=0;
2025-11-17T12:03:06.801+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366586801 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-11-17T12:03:06.805+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366586805 | took 1ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."spare_parts" where 1=0
select * from "public"."spare_parts" where 1=0;
2025-11-17T12:03:06.882+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366586882 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-11-17T12:03:06.953+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366586953 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-11-17T12:03:06.957+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366586957 | took 2ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."user_registration" where 1=0
select * from "public"."user_registration" where 1=0;
2025-11-17T12:03:07.037+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366587037 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."spare_parts" where 1=0
select * from "public"."spare_parts" where 1=0;
2025-11-17T12:03:07.111+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366587111 | took 1ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."problem" where 1=0
select * from "public"."problem" where 1=0;
2025-11-17T12:03:07.177+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763366587177 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."branch" where 1=0
select * from "public"."branch" where 1=0;
2025-11-17T12:03:07.178+04:00  INFO 23528 --- [carservices] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-17T12:03:08.028+04:00  WARN 23528 --- [carservices] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-17T12:03:08.284+04:00  INFO 23528 --- [carservices] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-11-17T12:03:08.311+04:00  INFO 23528 --- [carservices] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2025-11-17T12:03:08.318+04:00  INFO 23528 --- [carservices] [restartedMain] c.c.carservices.CarservicesApplication   : Started CarservicesApplication in 3.336 seconds (process running for 4593.757)
2025-11-17T12:03:08.319+04:00  INFO 23528 --- [carservices] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-11-17T12:04:54.739+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-17T12:04:54.740+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-11-17T12:04:54.742+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-11-17T12:04:54.767+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1763366694767 | took 4ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT status,
           "from" AS from_time,
           "to"   AS to_time
    FROM work_days
    WHERE branch_id = ?
      AND UPPER(working_day) = ?
    LIMIT 1

    SELECT status,
           "from" AS from_time,
           "to"   AS to_time
    FROM work_days
    WHERE branch_id = 1
      AND UPPER(working_day) = 'SUNDAY'
    LIMIT 1
;
2025-11-17T12:04:54.776+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1763366694776 | took 3ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT COALESCE(SUM(qty), 0) AS total_qty
    FROM branch_brand_service
    WHERE branch_id = ?
 AND brand_id = 1 AND service_id = 1
    SELECT COALESCE(SUM(qty), 0) AS total_qty
    FROM branch_brand_service
    WHERE branch_id = 1
 AND brand_id = 1 AND service_id = 1;
2025-11-17T12:04:54.778+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1763366694778 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT COALESCE(SUM(experts), 0) AS total_experts
    FROM branch_brand_service
    WHERE branch_id = ?
 AND brand_id = 1 AND service_id = 1
    SELECT COALESCE(SUM(experts), 0) AS total_experts
    FROM branch_brand_service
    WHERE branch_id = 1
 AND brand_id = 1 AND service_id = 1;
2025-11-17T12:04:54.779+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1763366694779 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
SELECT UPPER(service_type) FROM service_entity WHERE service_id = ?
SELECT UPPER(service_type) FROM service_entity WHERE service_id = 1;
2025-11-17T12:04:54.787+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1763366694787 | took 5ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T09:00:00.000+0400'
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1;
2025-11-17T12:04:54.796+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1763366694796 | took 1ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T09:30:00.000+0400'
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1;
2025-11-17T12:04:54.798+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1763366694798 | took 1ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T10:00:00.000+0400'
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1;
2025-11-17T12:04:54.800+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1763366694800 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T10:30:00.000+0400'
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1;
2025-11-17T12:04:54.803+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1763366694803 | took 1ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T11:00:00.000+0400'
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1;
2025-11-17T12:04:54.805+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1763366694805 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T11:30:00.000+0400'
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1;
2025-11-17T12:04:54.806+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1763366694806 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T12:00:00.000+0400'
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1;
2025-11-17T12:04:54.807+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1763366694807 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T12:30:00.000+0400'
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1;
2025-11-17T12:04:54.809+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1763366694809 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T13:00:00.000+0400'
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1;
2025-11-17T12:04:54.812+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1763366694812 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T13:30:00.000+0400'
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1;
2025-11-17T12:04:54.813+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1763366694813 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T14:00:00.000+0400'
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1;
2025-11-17T12:04:54.815+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1763366694815 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T14:30:00.000+0400'
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1;
2025-11-17T12:04:54.816+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1763366694816 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T15:00:00.000+0400'
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1;
2025-11-17T12:04:54.818+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1763366694818 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T15:30:00.000+0400'
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1;
2025-11-17T12:04:54.819+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1763366694819 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T16:00:00.000+0400'
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1;
2025-11-17T12:04:54.821+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1763366694821 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T16:30:00.000+0400'
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1;
2025-11-17T12:04:54.821+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1763366694821 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T17:00:00.000+0400'
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1;
2025-11-17T12:04:54.823+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1763366694823 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T17:30:00.000+0400'
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1;
2025-11-17T12:04:54.825+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1763366694825 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T18:00:00.000+0400'
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1;
2025-11-17T12:05:37.830+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1763366737830 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT status,
           "from" AS from_time,
           "to"   AS to_time
    FROM work_days
    WHERE branch_id = ?
      AND UPPER(working_day) = ?
    LIMIT 1

    SELECT status,
           "from" AS from_time,
           "to"   AS to_time
    FROM work_days
    WHERE branch_id = 1
      AND UPPER(working_day) = 'SUNDAY'
    LIMIT 1
;
2025-11-17T12:05:37.831+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1763366737831 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT COALESCE(SUM(qty), 0) AS total_qty
    FROM branch_brand_service
    WHERE branch_id = ?
 AND brand_id = 1 AND service_id = 1
    SELECT COALESCE(SUM(qty), 0) AS total_qty
    FROM branch_brand_service
    WHERE branch_id = 1
 AND brand_id = 1 AND service_id = 1;
2025-11-17T12:05:37.832+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1763366737832 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT COALESCE(SUM(experts), 0) AS total_experts
    FROM branch_brand_service
    WHERE branch_id = ?
 AND brand_id = 1 AND service_id = 1
    SELECT COALESCE(SUM(experts), 0) AS total_experts
    FROM branch_brand_service
    WHERE branch_id = 1
 AND brand_id = 1 AND service_id = 1;
2025-11-17T12:05:37.832+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1763366737832 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
SELECT UPPER(service_type) FROM service_entity WHERE service_id = ?
SELECT UPPER(service_type) FROM service_entity WHERE service_id = 1;
2025-11-17T12:05:37.834+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1763366737834 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T09:00:00.000+0400'
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1;
2025-11-17T12:05:37.835+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1763366737835 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T09:30:00.000+0400'
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1;
2025-11-17T12:05:37.836+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1763366737836 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T10:00:00.000+0400'
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1;
2025-11-17T12:05:37.837+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1763366737837 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T10:30:00.000+0400'
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1;
2025-11-17T12:05:37.840+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1763366737840 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T11:00:00.000+0400'
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1;
2025-11-17T12:05:37.840+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1763366737840 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T11:30:00.000+0400'
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1;
2025-11-17T12:05:37.841+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1763366737841 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T12:00:00.000+0400'
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1;
2025-11-17T12:05:37.841+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1763366737841 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T12:30:00.000+0400'
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1;
2025-11-17T12:05:37.842+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1763366737842 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T13:00:00.000+0400'
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1;
2025-11-17T12:05:37.843+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1763366737843 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T13:30:00.000+0400'
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1;
2025-11-17T12:05:37.844+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1763366737844 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T14:00:00.000+0400'
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1;
2025-11-17T12:05:37.844+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1763366737844 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T14:30:00.000+0400'
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1;
2025-11-17T12:05:37.845+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1763366737845 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T15:00:00.000+0400'
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1;
2025-11-17T12:05:37.845+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1763366737845 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T15:30:00.000+0400'
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1;
2025-11-17T12:05:37.846+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1763366737846 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T16:00:00.000+0400'
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1;
2025-11-17T12:05:37.847+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1763366737847 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T16:30:00.000+0400'
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1;
2025-11-17T12:05:37.848+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1763366737848 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T17:00:00.000+0400'
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1;
2025-11-17T12:05:37.850+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1763366737850 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T17:30:00.000+0400'
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1;
2025-11-17T12:05:37.852+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1763366737852 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T18:00:00.000+0400'
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1;
2025-11-17T12:06:19.635+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1763366779635 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT status,
           "from" AS from_time,
           "to"   AS to_time
    FROM work_days
    WHERE branch_id = ?
      AND UPPER(working_day) = ?
    LIMIT 1

    SELECT status,
           "from" AS from_time,
           "to"   AS to_time
    FROM work_days
    WHERE branch_id = 1
      AND UPPER(working_day) = 'SUNDAY'
    LIMIT 1
;
2025-11-17T12:06:19.637+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1763366779637 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT COALESCE(SUM(qty), 0) AS total_qty
    FROM branch_brand_service
    WHERE branch_id = ?
 AND brand_id = 1 AND service_id = 6
    SELECT COALESCE(SUM(qty), 0) AS total_qty
    FROM branch_brand_service
    WHERE branch_id = 1
 AND brand_id = 1 AND service_id = 6;
2025-11-17T12:06:19.637+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1763366779637 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT COALESCE(SUM(experts), 0) AS total_experts
    FROM branch_brand_service
    WHERE branch_id = ?
 AND brand_id = 1 AND service_id = 6
    SELECT COALESCE(SUM(experts), 0) AS total_experts
    FROM branch_brand_service
    WHERE branch_id = 1
 AND brand_id = 1 AND service_id = 6;
2025-11-17T12:06:19.637+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1763366779637 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
SELECT UPPER(service_type) FROM service_entity WHERE service_id = ?
SELECT UPPER(service_type) FROM service_entity WHERE service_id = 6;
2025-11-17T12:06:19.639+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1763366779639 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 6
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T09:00:00.000+0400'
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 6;
2025-11-17T12:06:19.640+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1763366779640 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 6
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T09:30:00.000+0400'
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 6;
2025-11-17T12:06:19.641+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1763366779641 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 6
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T10:00:00.000+0400'
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 6;
2025-11-17T12:06:19.642+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1763366779642 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 6
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T10:30:00.000+0400'
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 6;
2025-11-17T12:06:19.643+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1763366779643 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 6
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T11:00:00.000+0400'
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 6;
2025-11-17T12:06:19.645+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1763366779645 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 6
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T11:30:00.000+0400'
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 6;
2025-11-17T12:06:19.646+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1763366779646 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 6
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T12:00:00.000+0400'
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 6;
2025-11-17T12:06:19.647+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1763366779647 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 6
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T12:30:00.000+0400'
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 6;
2025-11-17T12:06:19.648+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1763366779648 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 6
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T13:00:00.000+0400'
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 6;
2025-11-17T12:06:19.649+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1763366779649 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 6
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T13:30:00.000+0400'
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 6;
2025-11-17T12:06:19.651+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1763366779651 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 6
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T14:00:00.000+0400'
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 6;
2025-11-17T12:06:19.652+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1763366779652 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 6
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T14:30:00.000+0400'
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 6;
2025-11-17T12:06:19.653+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1763366779653 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 6
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T15:00:00.000+0400'
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 6;
2025-11-17T12:06:19.654+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1763366779654 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 6
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T15:30:00.000+0400'
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 6;
2025-11-17T12:06:19.655+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1763366779655 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 6
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T16:00:00.000+0400'
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 6;
2025-11-17T12:06:19.656+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1763366779656 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 6
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T16:30:00.000+0400'
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 6;
2025-11-17T12:06:19.657+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1763366779657 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 6
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T17:00:00.000+0400'
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 6;
2025-11-17T12:06:19.658+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1763366779658 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 6
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T17:30:00.000+0400'
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 6;
2025-11-17T12:06:19.659+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1763366779659 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 6
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T18:00:00.000+0400'
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 6;
2025-11-17T12:06:29.480+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1763366789480 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT status,
           "from" AS from_time,
           "to"   AS to_time
    FROM work_days
    WHERE branch_id = ?
      AND UPPER(working_day) = ?
    LIMIT 1

    SELECT status,
           "from" AS from_time,
           "to"   AS to_time
    FROM work_days
    WHERE branch_id = 1
      AND UPPER(working_day) = 'SUNDAY'
    LIMIT 1
;
2025-11-17T12:06:29.481+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1763366789481 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT COALESCE(SUM(qty), 0) AS total_qty
    FROM branch_brand_service
    WHERE branch_id = ?
 AND brand_id = 1 AND service_id = 1
    SELECT COALESCE(SUM(qty), 0) AS total_qty
    FROM branch_brand_service
    WHERE branch_id = 1
 AND brand_id = 1 AND service_id = 1;
2025-11-17T12:06:29.481+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1763366789481 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT COALESCE(SUM(experts), 0) AS total_experts
    FROM branch_brand_service
    WHERE branch_id = ?
 AND brand_id = 1 AND service_id = 1
    SELECT COALESCE(SUM(experts), 0) AS total_experts
    FROM branch_brand_service
    WHERE branch_id = 1
 AND brand_id = 1 AND service_id = 1;
2025-11-17T12:06:29.483+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1763366789483 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
SELECT UPPER(service_type) FROM service_entity WHERE service_id = ?
SELECT UPPER(service_type) FROM service_entity WHERE service_id = 1;
2025-11-17T12:06:29.484+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1763366789484 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T09:00:00.000+0400'
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1;
2025-11-17T12:06:29.484+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1763366789484 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T09:30:00.000+0400'
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1;
2025-11-17T12:06:29.485+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1763366789485 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T10:00:00.000+0400'
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1;
2025-11-17T12:06:29.486+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1763366789486 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T10:30:00.000+0400'
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1;
2025-11-17T12:06:29.488+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1763366789488 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T11:00:00.000+0400'
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1;
2025-11-17T12:06:29.489+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1763366789489 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T11:30:00.000+0400'
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1;
2025-11-17T12:06:29.490+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1763366789490 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T12:00:00.000+0400'
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1;
2025-11-17T12:06:29.490+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1763366789490 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T12:30:00.000+0400'
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1;
2025-11-17T12:06:29.491+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1763366789491 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T13:00:00.000+0400'
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1;
2025-11-17T12:06:29.492+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1763366789492 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T13:30:00.000+0400'
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1;
2025-11-17T12:06:29.493+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1763366789493 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T14:00:00.000+0400'
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1;
2025-11-17T12:06:29.494+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1763366789494 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T14:30:00.000+0400'
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1;
2025-11-17T12:06:29.495+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1763366789495 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T15:00:00.000+0400'
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1;
2025-11-17T12:06:29.496+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1763366789496 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T15:30:00.000+0400'
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1;
2025-11-17T12:06:29.496+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1763366789496 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T16:00:00.000+0400'
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1;
2025-11-17T12:06:29.497+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1763366789497 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T16:30:00.000+0400'
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1;
2025-11-17T12:06:29.497+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1763366789497 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T17:00:00.000+0400'
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1;
2025-11-17T12:06:29.498+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1763366789498 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T17:30:00.000+0400'
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1;
2025-11-17T12:06:29.499+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1763366789499 | took 0ms | statement | connection 120| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T18:00:00.000+0400'
     AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled')
 AND r.brand_id = 1 AND r.service_id = 1;
2025-11-17T12:16:35.044+04:00  INFO 23528 --- [carservices] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 2 class path changes (0 additions, 0 deletions, 2 modifications)
2025-11-17T12:16:35.048+04:00  INFO 23528 --- [carservices] [Thread-43] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-17T12:16:35.064+04:00  INFO 23528 --- [carservices] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-17T12:16:35.080+04:00  INFO 23528 --- [carservices] [Thread-43] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-17T12:16:35.086+04:00  INFO 23528 --- [carservices] [Thread-43] com.zaxxer.hikari.HikariDataSource       : HikariPool-11 - Shutdown initiated...
2025-11-17T12:16:35.091+04:00  INFO 23528 --- [carservices] [Thread-43] com.zaxxer.hikari.HikariDataSource       : HikariPool-11 - Shutdown completed.
2025-11-17T12:16:35.262+04:00  INFO 23528 --- [carservices] [restartedMain] c.c.carservices.CarservicesApplication   : Starting CarservicesApplication using Java 21.0.7 with PID 23528 (C:\Grand BackUp\Sheikh-2\Private\Sheikhkashifiqbal\temp\Spare Parts Project\SpringBoot\car-dev-1\carservices\target\classes started by lenovo in C:\Grand BackUp\Sheikh-2\Private\Sheikhkashifiqbal\temp\Spare Parts Project\SpringBoot\car-dev-1\carservices)
2025-11-17T12:16:35.262+04:00  INFO 23528 --- [carservices] [restartedMain] c.c.carservices.CarservicesApplication   : No active profile set, falling back to 1 default profile: "default"
2025-11-17T12:16:35.940+04:00  INFO 23528 --- [carservices] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-17T12:16:36.228+04:00  INFO 23528 --- [carservices] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 285 ms. Found 36 JPA repository interfaces.
2025-11-17T12:16:36.503+04:00  INFO 23528 --- [carservices] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-11-17T12:16:36.534+04:00  INFO 23528 --- [carservices] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-17T12:16:36.535+04:00  INFO 23528 --- [carservices] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-11-17T12:16:36.573+04:00  INFO 23528 --- [carservices] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-17T12:16:36.575+04:00  INFO 23528 --- [carservices] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1309 ms
2025-11-17T12:16:36.718+04:00  INFO 23528 --- [carservices] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-17T12:16:36.725+04:00  INFO 23528 --- [carservices] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-11-17T12:16:36.758+04:00  INFO 23528 --- [carservices] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-17T12:16:36.762+04:00  INFO 23528 --- [carservices] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-12 - Starting...
2025-11-17T12:16:36.873+04:00  INFO 23528 --- [carservices] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-12 - Added connection com.p6spy.engine.wrapper.ConnectionWrapper@4e50890c
2025-11-17T12:16:36.873+04:00  INFO 23528 --- [carservices] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-12 - Start completed.
2025-11-17T12:16:36.886+04:00  WARN 23528 --- [carservices] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-17T12:16:36.888+04:00  INFO 23528 --- [carservices] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-12)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-17T12:16:37.573+04:00  INFO 23528 --- [carservices] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-17T12:16:37.583+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763367397583 | took 8ms | statement | connection 130| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from information_schema.sequences
select * from information_schema.sequences;
2025-11-17T12:16:37.610+04:00  INFO 23528 --- [carservices] [restartedMain] t.s.e.i.AbstractInformationExtractorImpl : HHH000475: Cannot locate column information using identifier [lower((manager_email)::text)]; ignoring index [ux_company_manager_email]
2025-11-17T12:16:37.611+04:00 DEBUG 23528 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       drop constraint if exists ux_company_company_name_ci
2025-11-17T12:16:37.615+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763367397615 | took 4ms | statement | connection 130| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       drop constraint if exists ux_company_company_name_ci

    alter table if exists company 
       drop constraint if exists ux_company_company_name_ci;
2025-11-17T12:16:37.615+04:00  WARN 23528 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2025-11-17T12:16:37.615+04:00  WARN 23528 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "ux_company_company_name_ci" of relation "company" does not exist, skipping
2025-11-17T12:16:37.616+04:00 DEBUG 23528 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       add constraint ux_company_company_name_ci unique (company_name)
2025-11-17T12:16:37.625+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763367397625 | took 9ms | statement | connection 130| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       add constraint ux_company_company_name_ci unique (company_name)

    alter table if exists company 
       add constraint ux_company_company_name_ci unique (company_name);
2025-11-17T12:16:37.626+04:00 DEBUG 23528 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       drop constraint if exists ux_company_brand_name_ci
2025-11-17T12:16:37.628+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763367397628 | took 1ms | statement | connection 130| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       drop constraint if exists ux_company_brand_name_ci

    alter table if exists company 
       drop constraint if exists ux_company_brand_name_ci;
2025-11-17T12:16:37.628+04:00  WARN 23528 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2025-11-17T12:16:37.628+04:00  WARN 23528 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "ux_company_brand_name_ci" of relation "company" does not exist, skipping
2025-11-17T12:16:37.629+04:00 DEBUG 23528 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       add constraint ux_company_brand_name_ci unique (brand_name)
2025-11-17T12:16:37.632+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763367397632 | took 2ms | statement | connection 130| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       add constraint ux_company_brand_name_ci unique (brand_name)

    alter table if exists company 
       add constraint ux_company_brand_name_ci unique (brand_name);
2025-11-17T12:16:37.770+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763367397770 | took 3ms | statement | connection 130| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."company" where 1=0
select * from "public"."company" where 1=0;
2025-11-17T12:16:37.871+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763367397871 | took 2ms | statement | connection 130| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."branch" where 1=0
select * from "public"."branch" where 1=0;
2025-11-17T12:16:37.878+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763367397878 | took 1ms | statement | connection 130| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-11-17T12:16:37.884+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763367397884 | took 1ms | statement | connection 130| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."service_entity" where 1=0
select * from "public"."service_entity" where 1=0;
2025-11-17T12:16:37.968+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763367397968 | took 0ms | statement | connection 130| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."branch" where 1=0
select * from "public"."branch" where 1=0;
2025-11-17T12:16:37.969+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763367397969 | took 0ms | statement | connection 130| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-11-17T12:16:37.974+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763367397974 | took 1ms | statement | connection 130| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."spare_parts" where 1=0
select * from "public"."spare_parts" where 1=0;
2025-11-17T12:16:38.055+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763367398055 | took 0ms | statement | connection 130| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-11-17T12:16:38.136+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763367398136 | took 0ms | statement | connection 130| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-11-17T12:16:38.140+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763367398140 | took 2ms | statement | connection 130| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."user_registration" where 1=0
select * from "public"."user_registration" where 1=0;
2025-11-17T12:16:38.217+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763367398217 | took 0ms | statement | connection 130| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."spare_parts" where 1=0
select * from "public"."spare_parts" where 1=0;
2025-11-17T12:16:38.300+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763367398300 | took 1ms | statement | connection 130| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."problem" where 1=0
select * from "public"."problem" where 1=0;
2025-11-17T12:16:38.375+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763367398375 | took 0ms | statement | connection 130| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."branch" where 1=0
select * from "public"."branch" where 1=0;
2025-11-17T12:16:38.376+04:00  INFO 23528 --- [carservices] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-17T12:16:39.353+04:00  WARN 23528 --- [carservices] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-17T12:16:39.677+04:00  INFO 23528 --- [carservices] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-11-17T12:16:39.708+04:00  INFO 23528 --- [carservices] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2025-11-17T12:16:39.714+04:00  INFO 23528 --- [carservices] [restartedMain] c.c.carservices.CarservicesApplication   : Started CarservicesApplication in 4.522 seconds (process running for 5405.154)
2025-11-17T12:16:39.717+04:00  INFO 23528 --- [carservices] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-11-17T12:16:53.461+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-4] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-17T12:16:53.461+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-11-17T12:16:53.462+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-11-17T12:16:53.476+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1763367413476 | took 3ms | statement | connection 130| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT status,
           "from" AS from_time,
           "to"   AS to_time
    FROM work_days
    WHERE branch_id = ?
      AND UPPER(working_day) = ?
    LIMIT 1

    SELECT status,
           "from" AS from_time,
           "to"   AS to_time
    FROM work_days
    WHERE branch_id = 1
      AND UPPER(working_day) = 'SUNDAY'
    LIMIT 1
;
2025-11-17T12:16:53.483+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1763367413483 | took 4ms | statement | connection 130| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT COALESCE(SUM(qty), 0) AS total_qty
    FROM branch_brand_service
    WHERE branch_id = ?
 AND brand_id = 1 AND service_id = 1
    SELECT COALESCE(SUM(qty), 0) AS total_qty
    FROM branch_brand_service
    WHERE branch_id = 1
 AND brand_id = 1 AND service_id = 1;
2025-11-17T12:16:53.485+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1763367413485 | took 0ms | statement | connection 130| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT COALESCE(SUM(experts), 0) AS total_experts
    FROM branch_brand_service
    WHERE branch_id = ?
 AND brand_id = 1 AND service_id = 1
    SELECT COALESCE(SUM(experts), 0) AS total_experts
    FROM branch_brand_service
    WHERE branch_id = 1
 AND brand_id = 1 AND service_id = 1;
2025-11-17T12:16:53.487+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1763367413487 | took 0ms | statement | connection 130| url jdbc:p6spy:postgresql://localhost:5433/testdb
SELECT UPPER(service_type) FROM service_entity WHERE service_id = ?
SELECT UPPER(service_type) FROM service_entity WHERE service_id = 1;
2025-11-17T12:16:53.496+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1763367413496 | took 5ms | statement | connection 130| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T09:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1;
2025-11-17T12:16:53.502+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1763367413502 | took 1ms | statement | connection 130| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T09:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1;
2025-11-17T12:16:53.504+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1763367413504 | took 1ms | statement | connection 130| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T10:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1;
2025-11-17T12:16:53.506+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1763367413506 | took 1ms | statement | connection 130| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T10:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1;
2025-11-17T12:16:53.508+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1763367413508 | took 0ms | statement | connection 130| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T11:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1;
2025-11-17T12:16:53.511+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1763367413511 | took 1ms | statement | connection 130| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T11:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1;
2025-11-17T12:16:53.512+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1763367413512 | took 0ms | statement | connection 130| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T12:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1;
2025-11-17T12:16:53.513+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1763367413513 | took 0ms | statement | connection 130| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T12:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1;
2025-11-17T12:16:53.514+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1763367413514 | took 0ms | statement | connection 130| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T13:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1;
2025-11-17T12:16:53.516+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1763367413516 | took 0ms | statement | connection 130| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T13:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1;
2025-11-17T12:16:53.516+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1763367413516 | took 0ms | statement | connection 130| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T14:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1;
2025-11-17T12:16:53.517+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1763367413517 | took 0ms | statement | connection 130| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T14:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1;
2025-11-17T12:16:53.519+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1763367413519 | took 0ms | statement | connection 130| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T15:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1;
2025-11-17T12:16:53.519+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1763367413519 | took 0ms | statement | connection 130| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T15:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1;
2025-11-17T12:16:53.520+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1763367413520 | took 0ms | statement | connection 130| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T16:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1;
2025-11-17T12:16:53.522+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1763367413522 | took 0ms | statement | connection 130| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T16:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1;
2025-11-17T12:16:53.522+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1763367413522 | took 0ms | statement | connection 130| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T17:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1;
2025-11-17T12:16:53.525+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1763367413525 | took 0ms | statement | connection 130| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T17:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1;
2025-11-17T12:16:53.526+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1763367413526 | took 0ms | statement | connection 130| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T18:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1;
2025-11-17T12:17:04.392+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1763367424392 | took 0ms | statement | connection 130| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT status,
           "from" AS from_time,
           "to"   AS to_time
    FROM work_days
    WHERE branch_id = ?
      AND UPPER(working_day) = ?
    LIMIT 1

    SELECT status,
           "from" AS from_time,
           "to"   AS to_time
    FROM work_days
    WHERE branch_id = 1
      AND UPPER(working_day) = 'SUNDAY'
    LIMIT 1
;
2025-11-17T12:17:04.395+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1763367424395 | took 0ms | statement | connection 130| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT COALESCE(SUM(qty), 0) AS total_qty
    FROM branch_brand_service
    WHERE branch_id = ?
 AND brand_id = 1 AND service_id = 6
    SELECT COALESCE(SUM(qty), 0) AS total_qty
    FROM branch_brand_service
    WHERE branch_id = 1
 AND brand_id = 1 AND service_id = 6;
2025-11-17T12:17:04.395+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1763367424395 | took 0ms | statement | connection 130| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT COALESCE(SUM(experts), 0) AS total_experts
    FROM branch_brand_service
    WHERE branch_id = ?
 AND brand_id = 1 AND service_id = 6
    SELECT COALESCE(SUM(experts), 0) AS total_experts
    FROM branch_brand_service
    WHERE branch_id = 1
 AND brand_id = 1 AND service_id = 6;
2025-11-17T12:17:04.396+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1763367424396 | took 0ms | statement | connection 130| url jdbc:p6spy:postgresql://localhost:5433/testdb
SELECT UPPER(service_type) FROM service_entity WHERE service_id = ?
SELECT UPPER(service_type) FROM service_entity WHERE service_id = 6;
2025-11-17T12:17:04.396+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1763367424396 | took 0ms | statement | connection 130| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T09:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1;
2025-11-17T12:17:04.397+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1763367424397 | took 0ms | statement | connection 130| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T09:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1;
2025-11-17T12:17:04.398+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1763367424398 | took 0ms | statement | connection 130| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T10:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1;
2025-11-17T12:17:04.399+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1763367424399 | took 0ms | statement | connection 130| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T10:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1;
2025-11-17T12:17:04.399+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1763367424399 | took 0ms | statement | connection 130| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T11:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1;
2025-11-17T12:17:04.401+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1763367424401 | took 0ms | statement | connection 130| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T11:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1;
2025-11-17T12:17:04.401+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1763367424401 | took 0ms | statement | connection 130| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T12:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1;
2025-11-17T12:17:04.402+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1763367424402 | took 0ms | statement | connection 130| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T12:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1;
2025-11-17T12:17:04.403+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1763367424403 | took 0ms | statement | connection 130| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T13:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1;
2025-11-17T12:17:04.403+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1763367424403 | took 0ms | statement | connection 130| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T13:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1;
2025-11-17T12:17:04.404+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1763367424404 | took 0ms | statement | connection 130| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T14:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1;
2025-11-17T12:17:04.405+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1763367424405 | took 0ms | statement | connection 130| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T14:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1;
2025-11-17T12:17:04.406+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1763367424406 | took 0ms | statement | connection 130| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T15:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1;
2025-11-17T12:17:04.406+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1763367424406 | took 0ms | statement | connection 130| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T15:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1;
2025-11-17T12:17:04.407+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1763367424407 | took 0ms | statement | connection 130| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T16:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1;
2025-11-17T12:17:04.408+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1763367424408 | took 0ms | statement | connection 130| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T16:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1;
2025-11-17T12:17:04.409+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1763367424409 | took 0ms | statement | connection 130| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T17:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1;
2025-11-17T12:17:04.411+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1763367424409 | took 0ms | statement | connection 130| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T17:30:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1;
2025-11-17T12:17:04.411+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1763367424411 | took 0ms | statement | connection 130| url jdbc:p6spy:postgresql://localhost:5433/testdb
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = ?
      AND r.reservation_date = ?
      AND r.reservation_time = ?
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1
    SELECT
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) = 'BOX'
                          THEN 1 ELSE 0 END), 0) AS box_reserved,
        COALESCE(SUM(CASE WHEN UPPER(se.service_type) <> 'BOX'
                          THEN 1 ELSE 0 END), 0) AS non_box_reserved
    FROM reservation_service_request r
    JOIN service_entity se ON r.service_id = se.service_id
    WHERE r.branch_id = 1
      AND r.reservation_date = '2025-11-02'
      AND r.reservation_time = '1970-01-01T18:00:00.000+0400'
     /* AND (r.reservation_status IS NULL OR LOWER(r.reservation_status) <> 'canceled') */
 AND r.brand_id = 1;
