2025-11-23T08:17:29.012+04:00  WARN 23528 --- [carservices] [HikariPool-91 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-91 - Thread starvation or clock leap detected (housekeeper delta=9h9m27s485ms183Âµs500ns).
2025-11-23T11:26:05.386+04:00 DEBUG 23528 --- [carservices] [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    SELECT
        spr.sparepartsrequest_id          AS sparePartsRequestId,
        spr.date                          AS date,
        b.branch_name                     AS branchName,
        b.address                         AS address,
        b.city                            AS city,
        spr.vin_number                    AS vin,
        sp.spareparts_type                AS sparepartsType,
        bbsp.state                        AS state,
        sprd.spare_part                   AS sparePart,
        sprd.class_type                   AS classType,
        sprd.qty                          AS qty,
        sprd.price                        AS price,
        c.manager_mobile                  AS managerMobile,
        bbsp.id                           AS id,
        spr.request_status                AS requestStatus,
        sprd.id                           AS detailId,
        br.brand_id                       AS brandId,
        br.brand_name                     AS brandName 
    FROM
        spare_parts_request spr 
    JOIN
        spare_parts             sp   
            ON sp.spareparts_id = spr.spareparts_id 
    JOIN
        branch_brand_spare_part bbsp 
            ON bbsp.branch_id = spr.branch_id 
    JOIN
        branch                  b    
            ON b.branch_id     = bbsp.branch_id 
    JOIN
        company                 c    
            ON c.company_id    = b.company_id 
    JOIN
        spare_parts_request_details sprd 
            ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id 
    JOIN
        brand                   br   
            ON br.brand_id     = bbsp.brand_id 
    WHERE
        b.branch_id = ? 
    ORDER BY
        spr.date DESC,
        b.branch_name ASC 
2025-11-23T11:26:05.467+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-11-23T11:26:05.607+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-8] p6spy                                    : #1763882765607 | took 128ms | statement | connection 2297| url jdbc:p6spy:postgresql://localhost:5433/testdb
SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,
    br.brand_name                     AS brandName
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id
WHERE b.branch_id = ?
ORDER BY spr.date DESC, b.branch_name ASC

SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,
    br.brand_name                     AS brandName
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id
WHERE b.branch_id = 1
ORDER BY spr.date DESC, b.branch_name ASC
;
2025-11-23T11:26:18.532+04:00 DEBUG 23528 --- [carservices] [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    SELECT
        spr.sparepartsrequest_id          AS sparePartsRequestId,
        spr.date                          AS date,
        b.branch_name                     AS branchName,
        b.address                         AS address,
        b.city                            AS city,
        spr.vin_number                    AS vin,
        sp.spareparts_type                AS sparepartsType,
        bbsp.state                        AS state,
        sprd.spare_part                   AS sparePart,
        sprd.class_type                   AS classType,
        sprd.qty                          AS qty,
        sprd.price                        AS price,
        c.manager_mobile                  AS managerMobile,
        bbsp.id                           AS id,
        spr.request_status                AS requestStatus,
        sprd.id                           AS detailId,
        br.brand_id                       AS brandId,
        br.brand_name                     AS brandName 
    FROM
        spare_parts_request spr 
    JOIN
        spare_parts             sp   
            ON sp.spareparts_id = spr.spareparts_id 
    JOIN
        branch_brand_spare_part bbsp 
            ON bbsp.branch_id = spr.branch_id 
    JOIN
        branch                  b    
            ON b.branch_id     = bbsp.branch_id 
    JOIN
        company                 c    
            ON c.company_id    = b.company_id 
    JOIN
        spare_parts_request_details sprd 
            ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id 
    JOIN
        brand                   br   
            ON br.brand_id     = bbsp.brand_id 
    WHERE
        b.branch_id = ? 
    ORDER BY
        spr.date DESC,
        b.branch_name ASC 
2025-11-23T11:26:18.540+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-11-23T11:26:18.546+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-7] p6spy                                    : #1763882778546 | took 3ms | statement | connection 2297| url jdbc:p6spy:postgresql://localhost:5433/testdb
SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,
    br.brand_name                     AS brandName
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id
WHERE b.branch_id = ?
ORDER BY spr.date DESC, b.branch_name ASC

SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,
    br.brand_name                     AS brandName
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id
WHERE b.branch_id = 1
ORDER BY spr.date DESC, b.branch_name ASC
;
2025-11-23T11:26:28.949+04:00 DEBUG 23528 --- [carservices] [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    SELECT
        spr.sparepartsrequest_id          AS sparePartsRequestId,
        spr.date                          AS date,
        b.branch_name                     AS branchName,
        b.address                         AS address,
        b.city                            AS city,
        spr.vin_number                    AS vin,
        sp.spareparts_type                AS sparepartsType,
        bbsp.state                        AS state,
        sprd.spare_part                   AS sparePart,
        sprd.class_type                   AS classType,
        sprd.qty                          AS qty,
        sprd.price                        AS price,
        c.manager_mobile                  AS managerMobile,
        bbsp.id                           AS id,
        spr.request_status                AS requestStatus,
        sprd.id                           AS detailId,
        br.brand_id                       AS brandId,
        br.brand_name                     AS brandName 
    FROM
        spare_parts_request spr 
    JOIN
        spare_parts             sp   
            ON sp.spareparts_id = spr.spareparts_id 
    JOIN
        branch_brand_spare_part bbsp 
            ON bbsp.branch_id = spr.branch_id 
    JOIN
        branch                  b    
            ON b.branch_id     = bbsp.branch_id 
    JOIN
        company                 c    
            ON c.company_id    = b.company_id 
    JOIN
        spare_parts_request_details sprd 
            ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id 
    JOIN
        brand                   br   
            ON br.brand_id     = bbsp.brand_id 
    WHERE
        b.branch_id = ? 
    ORDER BY
        spr.date DESC,
        b.branch_name ASC 
2025-11-23T11:26:28.951+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-11-23T11:26:28.957+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1763882788957 | took 5ms | statement | connection 2297| url jdbc:p6spy:postgresql://localhost:5433/testdb
SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,
    br.brand_name                     AS brandName
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id
WHERE b.branch_id = ?
ORDER BY spr.date DESC, b.branch_name ASC

SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,
    br.brand_name                     AS brandName
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id
WHERE b.branch_id = 1
ORDER BY spr.date DESC, b.branch_name ASC
;
2025-11-23T11:26:35.824+04:00 DEBUG 23528 --- [carservices] [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        sprd1_0.id,
        sprd1_0.class_type,
        sprd1_0.price,
        sprd1_0.qty,
        sprd1_0.spare_part,
        sprd1_0.sparepartsrequest_id 
    from
        spare_parts_request_details sprd1_0 
    where
        sprd1_0.id=?
2025-11-23T11:26:35.827+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [5]
2025-11-23T11:26:35.829+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-1] p6spy                                    : #1763882795829 | took 3ms | statement | connection 2297| url jdbc:p6spy:postgresql://localhost:5433/testdb
select sprd1_0.id,sprd1_0.class_type,sprd1_0.price,sprd1_0.qty,sprd1_0.spare_part,sprd1_0.sparepartsrequest_id from spare_parts_request_details sprd1_0 where sprd1_0.id=?
select sprd1_0.id,sprd1_0.class_type,sprd1_0.price,sprd1_0.qty,sprd1_0.spare_part,sprd1_0.sparepartsrequest_id from spare_parts_request_details sprd1_0 where sprd1_0.id=5;
2025-11-23T11:26:35.901+04:00 DEBUG 23528 --- [carservices] [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    update
        spare_parts_request_details 
    set
        class_type=?,
        price=?,
        qty=?,
        spare_part=?,
        sparepartsrequest_id=? 
    where
        id=?
2025-11-23T11:26:35.905+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [class C]
2025-11-23T11:26:35.907+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (2:NUMERIC) <- [23.52]
2025-11-23T11:26:35.915+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (3:INTEGER) <- [6]
2025-11-23T11:26:35.917+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (4:VARCHAR) <- [CNG Enginee]
2025-11-23T11:26:35.918+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (5:BIGINT) <- [3]
2025-11-23T11:26:35.918+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (6:BIGINT) <- [5]
2025-11-23T11:26:35.941+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-1] p6spy                                    : #1763882795941 | took 16ms | statement | connection 2297| url jdbc:p6spy:postgresql://localhost:5433/testdb
update spare_parts_request_details set class_type=?,price=?,qty=?,spare_part=?,sparepartsrequest_id=? where id=?
update spare_parts_request_details set class_type='class C',price=23.52,qty=6,spare_part='CNG Enginee',sparepartsrequest_id=3 where id=5;
2025-11-23T11:26:35.952+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-1] p6spy                                    : #1763882795952 | took 7ms | commit | connection 2297| url jdbc:p6spy:postgresql://localhost:5433/testdb

;
2025-11-23T11:26:36.002+04:00 DEBUG 23528 --- [carservices] [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        spr1_0.sparepartsrequest_id,
        spr1_0.branch_id,
        spr1_0.date,
        spr1_0.request_status,
        spr1_0.spareparts_id,
        spr1_0.user_id,
        spr1_0.vin_number 
    from
        spare_parts_request spr1_0 
    where
        spr1_0.sparepartsrequest_id=?
2025-11-23T11:26:36.003+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [3]
2025-11-23T11:26:36.009+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1763882796009 | took 4ms | statement | connection 2297| url jdbc:p6spy:postgresql://localhost:5433/testdb
select spr1_0.sparepartsrequest_id,spr1_0.branch_id,spr1_0.date,spr1_0.request_status,spr1_0.spareparts_id,spr1_0.user_id,spr1_0.vin_number from spare_parts_request spr1_0 where spr1_0.sparepartsrequest_id=?
select spr1_0.sparepartsrequest_id,spr1_0.branch_id,spr1_0.date,spr1_0.request_status,spr1_0.spareparts_id,spr1_0.user_id,spr1_0.vin_number from spare_parts_request spr1_0 where spr1_0.sparepartsrequest_id=3;
2025-11-23T11:26:36.012+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1763882796012 | took 0ms | commit | connection 2297| url jdbc:p6spy:postgresql://localhost:5433/testdb

;
2025-11-23T11:26:36.038+04:00 DEBUG 23528 --- [carservices] [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    update
        spare_parts_request 
    set
        branch_id=?,
        date=?,
        request_status=?,
        spareparts_id=?,
        user_id=?,
        vin_number=? 
    where
        sparepartsrequest_id=?
2025-11-23T11:26:36.041+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [null]
2025-11-23T11:26:36.042+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (2:VARCHAR) <- [null]
2025-11-23T11:26:36.042+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (3:VARCHAR) <- [null]
2025-11-23T11:26:36.042+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (4:BIGINT) <- [null]
2025-11-23T11:26:36.042+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (5:BIGINT) <- [null]
2025-11-23T11:26:36.044+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (6:VARCHAR) <- [null]
2025-11-23T11:26:36.044+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (7:BIGINT) <- [3]
2025-11-23T11:26:36.046+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1763882796046 | took 1ms | statement | connection 2297| url jdbc:p6spy:postgresql://localhost:5433/testdb
update spare_parts_request set branch_id=?,date=?,request_status=?,spareparts_id=?,user_id=?,vin_number=? where sparepartsrequest_id=?
update spare_parts_request set branch_id=NULL,date=NULL,request_status=NULL,spareparts_id=NULL,user_id=NULL,vin_number=NULL where sparepartsrequest_id=3;
2025-11-23T11:26:36.048+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1763882796048 | took 0ms | commit | connection 2297| url jdbc:p6spy:postgresql://localhost:5433/testdb

;
2025-11-23T11:26:36.068+04:00 DEBUG 23528 --- [carservices] [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    SELECT
        spr.sparepartsrequest_id          AS sparePartsRequestId,
        spr.date                          AS date,
        b.branch_name                     AS branchName,
        b.address                         AS address,
        b.city                            AS city,
        spr.vin_number                    AS vin,
        sp.spareparts_type                AS sparepartsType,
        bbsp.state                        AS state,
        sprd.spare_part                   AS sparePart,
        sprd.class_type                   AS classType,
        sprd.qty                          AS qty,
        sprd.price                        AS price,
        c.manager_mobile                  AS managerMobile,
        bbsp.id                           AS id,
        spr.request_status                AS requestStatus,
        sprd.id                           AS detailId,
        br.brand_id                       AS brandId,
        br.brand_name                     AS brandName 
    FROM
        spare_parts_request spr 
    JOIN
        spare_parts             sp   
            ON sp.spareparts_id = spr.spareparts_id 
    JOIN
        branch_brand_spare_part bbsp 
            ON bbsp.branch_id = spr.branch_id 
    JOIN
        branch                  b    
            ON b.branch_id     = bbsp.branch_id 
    JOIN
        company                 c    
            ON c.company_id    = b.company_id 
    JOIN
        spare_parts_request_details sprd 
            ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id 
    JOIN
        brand                   br   
            ON br.brand_id     = bbsp.brand_id 
    WHERE
        b.branch_id = ? 
    ORDER BY
        spr.date DESC,
        b.branch_name ASC 
2025-11-23T11:26:36.069+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-11-23T11:26:36.074+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-9] p6spy                                    : #1763882796074 | took 4ms | statement | connection 2297| url jdbc:p6spy:postgresql://localhost:5433/testdb
SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,
    br.brand_name                     AS brandName
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id
WHERE b.branch_id = ?
ORDER BY spr.date DESC, b.branch_name ASC

SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,
    br.brand_name                     AS brandName
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id
WHERE b.branch_id = 1
ORDER BY spr.date DESC, b.branch_name ASC
;
2025-11-23T11:26:50.227+04:00 DEBUG 23528 --- [carservices] [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    SELECT
        spr.sparepartsrequest_id          AS sparePartsRequestId,
        spr.date                          AS date,
        b.branch_name                     AS branchName,
        b.address                         AS address,
        b.city                            AS city,
        spr.vin_number                    AS vin,
        sp.spareparts_type                AS sparepartsType,
        bbsp.state                        AS state,
        sprd.spare_part                   AS sparePart,
        sprd.class_type                   AS classType,
        sprd.qty                          AS qty,
        sprd.price                        AS price,
        c.manager_mobile                  AS managerMobile,
        bbsp.id                           AS id,
        spr.request_status                AS requestStatus,
        sprd.id                           AS detailId,
        br.brand_id                       AS brandId,
        br.brand_name                     AS brandName 
    FROM
        spare_parts_request spr 
    JOIN
        spare_parts             sp   
            ON sp.spareparts_id = spr.spareparts_id 
    JOIN
        branch_brand_spare_part bbsp 
            ON bbsp.branch_id = spr.branch_id 
    JOIN
        branch                  b    
            ON b.branch_id     = bbsp.branch_id 
    JOIN
        company                 c    
            ON c.company_id    = b.company_id 
    JOIN
        spare_parts_request_details sprd 
            ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id 
    JOIN
        brand                   br   
            ON br.brand_id     = bbsp.brand_id 
    WHERE
        b.branch_id = ? 
    ORDER BY
        spr.date DESC,
        b.branch_name ASC 
2025-11-23T11:26:50.231+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-6] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-11-23T11:26:50.237+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-6] p6spy                                    : #1763882810237 | took 4ms | statement | connection 2297| url jdbc:p6spy:postgresql://localhost:5433/testdb
SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,
    br.brand_name                     AS brandName
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id
WHERE b.branch_id = ?
ORDER BY spr.date DESC, b.branch_name ASC

SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,
    br.brand_name                     AS brandName
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id
WHERE b.branch_id = 1
ORDER BY spr.date DESC, b.branch_name ASC
;
2025-11-23T11:27:10.119+04:00 DEBUG 23528 --- [carservices] [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    SELECT
        spr.sparepartsrequest_id          AS sparePartsRequestId,
        spr.date                          AS date,
        b.branch_name                     AS branchName,
        b.address                         AS address,
        b.city                            AS city,
        spr.vin_number                    AS vin,
        sp.spareparts_type                AS sparepartsType,
        bbsp.state                        AS state,
        sprd.spare_part                   AS sparePart,
        sprd.class_type                   AS classType,
        sprd.qty                          AS qty,
        sprd.price                        AS price,
        c.manager_mobile                  AS managerMobile,
        bbsp.id                           AS id,
        spr.request_status                AS requestStatus,
        sprd.id                           AS detailId,
        br.brand_id                       AS brandId,
        -- NEW     br.brand_name                     AS brandName    -- NEW 
    FROM
        spare_parts_request spr 
    JOIN
        spare_parts             sp   
            ON sp.spareparts_id = spr.spareparts_id 
    JOIN
        branch_brand_spare_part bbsp 
            ON bbsp.branch_id = spr.branch_id 
    JOIN
        branch                  b    
            ON b.branch_id     = bbsp.branch_id 
    JOIN
        company                 c    
            ON c.company_id    = b.company_id 
    JOIN
        spare_parts_request_details sprd 
            ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id 
    JOIN
        brand                   br   
            ON br.brand_id     = bbsp.brand_id     -- NEW 
    JOIN
        
    WHERE
        spr.user_id = ? 
    ORDER BY
        spr.date DESC,
        b.branch_name ASC 
2025-11-23T11:27:10.125+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-11-23T11:27:10.131+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1763882830131 | took 4ms | statement | connection 2297| url jdbc:p6spy:postgresql://localhost:5433/testdb
SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,     -- NEW
    br.brand_name                     AS brandName    -- NEW
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id     -- NEW JOIN
WHERE spr.user_id = ?
ORDER BY spr.date DESC, b.branch_name ASC

SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,     -- NEW
    br.brand_name                     AS brandName    -- NEW
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id     -- NEW JOIN
WHERE spr.user_id = 1
ORDER BY spr.date DESC, b.branch_name ASC
;
2025-11-23T11:31:58.284+04:00 DEBUG 23528 --- [carservices] [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    SELECT
        spr.sparepartsrequest_id          AS sparePartsRequestId,
        spr.date                          AS date,
        b.branch_name                     AS branchName,
        b.address                         AS address,
        b.city                            AS city,
        spr.vin_number                    AS vin,
        sp.spareparts_type                AS sparepartsType,
        bbsp.state                        AS state,
        sprd.spare_part                   AS sparePart,
        sprd.class_type                   AS classType,
        sprd.qty                          AS qty,
        sprd.price                        AS price,
        c.manager_mobile                  AS managerMobile,
        bbsp.id                           AS id,
        spr.request_status                AS requestStatus,
        sprd.id                           AS detailId,
        br.brand_id                       AS brandId,
        br.brand_name                     AS brandName 
    FROM
        spare_parts_request spr 
    JOIN
        spare_parts             sp   
            ON sp.spareparts_id = spr.spareparts_id 
    JOIN
        branch_brand_spare_part bbsp 
            ON bbsp.branch_id = spr.branch_id 
    JOIN
        branch                  b    
            ON b.branch_id     = bbsp.branch_id 
    JOIN
        company                 c    
            ON c.company_id    = b.company_id 
    JOIN
        spare_parts_request_details sprd 
            ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id 
    JOIN
        brand                   br   
            ON br.brand_id     = bbsp.brand_id 
    WHERE
        b.branch_id = ? 
    ORDER BY
        spr.date DESC,
        b.branch_name ASC 
2025-11-23T11:31:58.342+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-11-23T11:31:58.366+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1763883118366 | took 16ms | statement | connection 2297| url jdbc:p6spy:postgresql://localhost:5433/testdb
SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,
    br.brand_name                     AS brandName
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id
WHERE b.branch_id = ?
ORDER BY spr.date DESC, b.branch_name ASC

SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,
    br.brand_name                     AS brandName
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id
WHERE b.branch_id = 1
ORDER BY spr.date DESC, b.branch_name ASC
;
2025-11-23T11:32:11.047+04:00 DEBUG 23528 --- [carservices] [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    SELECT
        spr.sparepartsrequest_id          AS sparePartsRequestId,
        spr.date                          AS date,
        b.branch_name                     AS branchName,
        b.address                         AS address,
        b.city                            AS city,
        spr.vin_number                    AS vin,
        sp.spareparts_type                AS sparepartsType,
        bbsp.state                        AS state,
        sprd.spare_part                   AS sparePart,
        sprd.class_type                   AS classType,
        sprd.qty                          AS qty,
        sprd.price                        AS price,
        c.manager_mobile                  AS managerMobile,
        bbsp.id                           AS id,
        spr.request_status                AS requestStatus,
        sprd.id                           AS detailId,
        br.brand_id                       AS brandId,
        br.brand_name                     AS brandName 
    FROM
        spare_parts_request spr 
    JOIN
        spare_parts             sp   
            ON sp.spareparts_id = spr.spareparts_id 
    JOIN
        branch_brand_spare_part bbsp 
            ON bbsp.branch_id = spr.branch_id 
    JOIN
        branch                  b    
            ON b.branch_id     = bbsp.branch_id 
    JOIN
        company                 c    
            ON c.company_id    = b.company_id 
    JOIN
        spare_parts_request_details sprd 
            ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id 
    JOIN
        brand                   br   
            ON br.brand_id     = bbsp.brand_id 
    WHERE
        b.branch_id = ? 
    ORDER BY
        spr.date DESC,
        b.branch_name ASC 
2025-11-23T11:32:11.050+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-11-23T11:32:11.055+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-9] p6spy                                    : #1763883131055 | took 4ms | statement | connection 2297| url jdbc:p6spy:postgresql://localhost:5433/testdb
SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,
    br.brand_name                     AS brandName
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id
WHERE b.branch_id = ?
ORDER BY spr.date DESC, b.branch_name ASC

SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,
    br.brand_name                     AS brandName
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id
WHERE b.branch_id = 1
ORDER BY spr.date DESC, b.branch_name ASC
;
2025-11-23T11:32:22.051+04:00 DEBUG 23528 --- [carservices] [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        sprd1_0.id,
        sprd1_0.class_type,
        sprd1_0.price,
        sprd1_0.qty,
        sprd1_0.spare_part,
        sprd1_0.sparepartsrequest_id 
    from
        spare_parts_request_details sprd1_0 
    where
        sprd1_0.id=?
2025-11-23T11:32:22.053+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [11]
2025-11-23T11:32:22.059+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1763883142059 | took 3ms | statement | connection 2297| url jdbc:p6spy:postgresql://localhost:5433/testdb
select sprd1_0.id,sprd1_0.class_type,sprd1_0.price,sprd1_0.qty,sprd1_0.spare_part,sprd1_0.sparepartsrequest_id from spare_parts_request_details sprd1_0 where sprd1_0.id=?
select sprd1_0.id,sprd1_0.class_type,sprd1_0.price,sprd1_0.qty,sprd1_0.spare_part,sprd1_0.sparepartsrequest_id from spare_parts_request_details sprd1_0 where sprd1_0.id=11;
2025-11-23T11:32:22.117+04:00 DEBUG 23528 --- [carservices] [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    update
        spare_parts_request_details 
    set
        class_type=?,
        price=?,
        qty=?,
        spare_part=?,
        sparepartsrequest_id=? 
    where
        id=?
2025-11-23T11:32:22.121+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [class A]
2025-11-23T11:32:22.123+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (2:NUMERIC) <- [26]
2025-11-23T11:32:22.128+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (3:INTEGER) <- [5]
2025-11-23T11:32:22.129+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (4:VARCHAR) <- [Tyre]
2025-11-23T11:32:22.130+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (5:BIGINT) <- [2]
2025-11-23T11:32:22.130+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (6:BIGINT) <- [11]
2025-11-23T11:32:22.136+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1763883142136 | took 3ms | statement | connection 2297| url jdbc:p6spy:postgresql://localhost:5433/testdb
update spare_parts_request_details set class_type=?,price=?,qty=?,spare_part=?,sparepartsrequest_id=? where id=?
update spare_parts_request_details set class_type='class A',price=26,qty=5,spare_part='Tyre',sparepartsrequest_id=2 where id=11;
2025-11-23T11:32:22.139+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1763883142139 | took 1ms | commit | connection 2297| url jdbc:p6spy:postgresql://localhost:5433/testdb

;
2025-11-23T11:32:22.193+04:00 DEBUG 23528 --- [carservices] [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        spr1_0.sparepartsrequest_id,
        spr1_0.branch_id,
        spr1_0.date,
        spr1_0.request_status,
        spr1_0.spareparts_id,
        spr1_0.user_id,
        spr1_0.vin_number 
    from
        spare_parts_request spr1_0 
    where
        spr1_0.sparepartsrequest_id=?
2025-11-23T11:32:22.194+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [2]
2025-11-23T11:32:22.196+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1763883142196 | took 1ms | statement | connection 2297| url jdbc:p6spy:postgresql://localhost:5433/testdb
select spr1_0.sparepartsrequest_id,spr1_0.branch_id,spr1_0.date,spr1_0.request_status,spr1_0.spareparts_id,spr1_0.user_id,spr1_0.vin_number from spare_parts_request spr1_0 where spr1_0.sparepartsrequest_id=?
select spr1_0.sparepartsrequest_id,spr1_0.branch_id,spr1_0.date,spr1_0.request_status,spr1_0.spareparts_id,spr1_0.user_id,spr1_0.vin_number from spare_parts_request spr1_0 where spr1_0.sparepartsrequest_id=2;
2025-11-23T11:32:22.200+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1763883142200 | took 0ms | commit | connection 2297| url jdbc:p6spy:postgresql://localhost:5433/testdb

;
2025-11-23T11:32:22.210+04:00 DEBUG 23528 --- [carservices] [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    update
        spare_parts_request 
    set
        branch_id=?,
        date=?,
        request_status=?,
        spareparts_id=?,
        user_id=?,
        vin_number=? 
    where
        sparepartsrequest_id=?
2025-11-23T11:32:22.211+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [null]
2025-11-23T11:32:22.211+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (2:VARCHAR) <- [null]
2025-11-23T11:32:22.212+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (3:VARCHAR) <- [null]
2025-11-23T11:32:22.212+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (4:BIGINT) <- [null]
2025-11-23T11:32:22.212+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (5:BIGINT) <- [null]
2025-11-23T11:32:22.212+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (6:VARCHAR) <- [null]
2025-11-23T11:32:22.213+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (7:BIGINT) <- [2]
2025-11-23T11:32:22.214+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1763883142214 | took 0ms | statement | connection 2297| url jdbc:p6spy:postgresql://localhost:5433/testdb
update spare_parts_request set branch_id=?,date=?,request_status=?,spareparts_id=?,user_id=?,vin_number=? where sparepartsrequest_id=?
update spare_parts_request set branch_id=NULL,date=NULL,request_status=NULL,spareparts_id=NULL,user_id=NULL,vin_number=NULL where sparepartsrequest_id=2;
2025-11-23T11:32:22.215+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1763883142215 | took 0ms | commit | connection 2297| url jdbc:p6spy:postgresql://localhost:5433/testdb

;
2025-11-23T11:32:22.229+04:00 DEBUG 23528 --- [carservices] [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    SELECT
        spr.sparepartsrequest_id          AS sparePartsRequestId,
        spr.date                          AS date,
        b.branch_name                     AS branchName,
        b.address                         AS address,
        b.city                            AS city,
        spr.vin_number                    AS vin,
        sp.spareparts_type                AS sparepartsType,
        bbsp.state                        AS state,
        sprd.spare_part                   AS sparePart,
        sprd.class_type                   AS classType,
        sprd.qty                          AS qty,
        sprd.price                        AS price,
        c.manager_mobile                  AS managerMobile,
        bbsp.id                           AS id,
        spr.request_status                AS requestStatus,
        sprd.id                           AS detailId,
        br.brand_id                       AS brandId,
        br.brand_name                     AS brandName 
    FROM
        spare_parts_request spr 
    JOIN
        spare_parts             sp   
            ON sp.spareparts_id = spr.spareparts_id 
    JOIN
        branch_brand_spare_part bbsp 
            ON bbsp.branch_id = spr.branch_id 
    JOIN
        branch                  b    
            ON b.branch_id     = bbsp.branch_id 
    JOIN
        company                 c    
            ON c.company_id    = b.company_id 
    JOIN
        spare_parts_request_details sprd 
            ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id 
    JOIN
        brand                   br   
            ON br.brand_id     = bbsp.brand_id 
    WHERE
        b.branch_id = ? 
    ORDER BY
        spr.date DESC,
        b.branch_name ASC 
2025-11-23T11:32:22.231+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-11-23T11:32:22.233+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-10] p6spy                                    : #1763883142233 | took 1ms | statement | connection 2297| url jdbc:p6spy:postgresql://localhost:5433/testdb
SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,
    br.brand_name                     AS brandName
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id
WHERE b.branch_id = ?
ORDER BY spr.date DESC, b.branch_name ASC

SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,
    br.brand_name                     AS brandName
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id
WHERE b.branch_id = 1
ORDER BY spr.date DESC, b.branch_name ASC
;
2025-11-23T11:32:58.802+04:00 DEBUG 23528 --- [carservices] [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    SELECT
        spr.sparepartsrequest_id          AS sparePartsRequestId,
        spr.date                          AS date,
        b.branch_name                     AS branchName,
        b.address                         AS address,
        b.city                            AS city,
        spr.vin_number                    AS vin,
        sp.spareparts_type                AS sparepartsType,
        bbsp.state                        AS state,
        sprd.spare_part                   AS sparePart,
        sprd.class_type                   AS classType,
        sprd.qty                          AS qty,
        sprd.price                        AS price,
        c.manager_mobile                  AS managerMobile,
        bbsp.id                           AS id,
        spr.request_status                AS requestStatus,
        sprd.id                           AS detailId,
        br.brand_id                       AS brandId,
        br.brand_name                     AS brandName 
    FROM
        spare_parts_request spr 
    JOIN
        spare_parts             sp   
            ON sp.spareparts_id = spr.spareparts_id 
    JOIN
        branch_brand_spare_part bbsp 
            ON bbsp.branch_id = spr.branch_id 
    JOIN
        branch                  b    
            ON b.branch_id     = bbsp.branch_id 
    JOIN
        company                 c    
            ON c.company_id    = b.company_id 
    JOIN
        spare_parts_request_details sprd 
            ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id 
    JOIN
        brand                   br   
            ON br.brand_id     = bbsp.brand_id 
    WHERE
        b.branch_id = ? 
    ORDER BY
        spr.date DESC,
        b.branch_name ASC 
2025-11-23T11:32:58.815+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-11-23T11:32:58.823+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1763883178823 | took 7ms | statement | connection 2297| url jdbc:p6spy:postgresql://localhost:5433/testdb
SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,
    br.brand_name                     AS brandName
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id
WHERE b.branch_id = ?
ORDER BY spr.date DESC, b.branch_name ASC

SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,
    br.brand_name                     AS brandName
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id
WHERE b.branch_id = 1
ORDER BY spr.date DESC, b.branch_name ASC
;
2025-11-23T11:34:20.000+04:00 DEBUG 23528 --- [carservices] [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    SELECT
        spr.sparepartsrequest_id          AS sparePartsRequestId,
        spr.date                          AS date,
        b.branch_name                     AS branchName,
        b.address                         AS address,
        b.city                            AS city,
        spr.vin_number                    AS vin,
        sp.spareparts_type                AS sparepartsType,
        bbsp.state                        AS state,
        sprd.spare_part                   AS sparePart,
        sprd.class_type                   AS classType,
        sprd.qty                          AS qty,
        sprd.price                        AS price,
        c.manager_mobile                  AS managerMobile,
        bbsp.id                           AS id,
        spr.request_status                AS requestStatus,
        sprd.id                           AS detailId,
        br.brand_id                       AS brandId,
        -- NEW     br.brand_name                     AS brandName    -- NEW 
    FROM
        spare_parts_request spr 
    JOIN
        spare_parts             sp   
            ON sp.spareparts_id = spr.spareparts_id 
    JOIN
        branch_brand_spare_part bbsp 
            ON bbsp.branch_id = spr.branch_id 
    JOIN
        branch                  b    
            ON b.branch_id     = bbsp.branch_id 
    JOIN
        company                 c    
            ON c.company_id    = b.company_id 
    JOIN
        spare_parts_request_details sprd 
            ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id 
    JOIN
        brand                   br   
            ON br.brand_id     = bbsp.brand_id     -- NEW 
    JOIN
        
    WHERE
        spr.user_id = ? 
    ORDER BY
        spr.date DESC,
        b.branch_name ASC 
2025-11-23T11:34:20.007+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-11-23T11:34:20.014+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-9] p6spy                                    : #1763883260014 | took 7ms | statement | connection 2297| url jdbc:p6spy:postgresql://localhost:5433/testdb
SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,     -- NEW
    br.brand_name                     AS brandName    -- NEW
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id     -- NEW JOIN
WHERE spr.user_id = ?
ORDER BY spr.date DESC, b.branch_name ASC

SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,     -- NEW
    br.brand_name                     AS brandName    -- NEW
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id     -- NEW JOIN
WHERE spr.user_id = 1
ORDER BY spr.date DESC, b.branch_name ASC
;
2025-11-23T11:34:23.833+04:00 DEBUG 23528 --- [carservices] [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    SELECT
        spr.sparepartsrequest_id          AS sparePartsRequestId,
        spr.date                          AS date,
        b.branch_name                     AS branchName,
        b.address                         AS address,
        b.city                            AS city,
        spr.vin_number                    AS vin,
        sp.spareparts_type                AS sparepartsType,
        bbsp.state                        AS state,
        sprd.spare_part                   AS sparePart,
        sprd.class_type                   AS classType,
        sprd.qty                          AS qty,
        sprd.price                        AS price,
        c.manager_mobile                  AS managerMobile,
        bbsp.id                           AS id,
        spr.request_status                AS requestStatus,
        sprd.id                           AS detailId,
        br.brand_id                       AS brandId,
        -- NEW     br.brand_name                     AS brandName    -- NEW 
    FROM
        spare_parts_request spr 
    JOIN
        spare_parts             sp   
            ON sp.spareparts_id = spr.spareparts_id 
    JOIN
        branch_brand_spare_part bbsp 
            ON bbsp.branch_id = spr.branch_id 
    JOIN
        branch                  b    
            ON b.branch_id     = bbsp.branch_id 
    JOIN
        company                 c    
            ON c.company_id    = b.company_id 
    JOIN
        spare_parts_request_details sprd 
            ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id 
    JOIN
        brand                   br   
            ON br.brand_id     = bbsp.brand_id     -- NEW 
    JOIN
        
    WHERE
        spr.user_id = ? 
    ORDER BY
        spr.date DESC,
        b.branch_name ASC 
2025-11-23T11:34:23.835+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-11-23T11:34:23.854+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-8] p6spy                                    : #1763883263854 | took 18ms | statement | connection 2297| url jdbc:p6spy:postgresql://localhost:5433/testdb
SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,     -- NEW
    br.brand_name                     AS brandName    -- NEW
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id     -- NEW JOIN
WHERE spr.user_id = ?
ORDER BY spr.date DESC, b.branch_name ASC

SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,     -- NEW
    br.brand_name                     AS brandName    -- NEW
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id     -- NEW JOIN
WHERE spr.user_id = 1
ORDER BY spr.date DESC, b.branch_name ASC
;
2025-11-23T11:34:30.235+04:00 DEBUG 23528 --- [carservices] [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        sprd1_0.id,
        sprd1_0.class_type,
        sprd1_0.price,
        sprd1_0.qty,
        sprd1_0.spare_part,
        sprd1_0.sparepartsrequest_id 
    from
        spare_parts_request_details sprd1_0 
    where
        sprd1_0.id=?
2025-11-23T11:34:30.236+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [5]
2025-11-23T11:34:30.237+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1763883270237 | took 0ms | statement | connection 2297| url jdbc:p6spy:postgresql://localhost:5433/testdb
select sprd1_0.id,sprd1_0.class_type,sprd1_0.price,sprd1_0.qty,sprd1_0.spare_part,sprd1_0.sparepartsrequest_id from spare_parts_request_details sprd1_0 where sprd1_0.id=?
select sprd1_0.id,sprd1_0.class_type,sprd1_0.price,sprd1_0.qty,sprd1_0.spare_part,sprd1_0.sparepartsrequest_id from spare_parts_request_details sprd1_0 where sprd1_0.id=5;
2025-11-23T11:34:30.268+04:00 DEBUG 23528 --- [carservices] [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    update
        spare_parts_request_details 
    set
        class_type=?,
        price=?,
        qty=?,
        spare_part=?,
        sparepartsrequest_id=? 
    where
        id=?
2025-11-23T11:34:30.271+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (1:VARCHAR) <- [class C]
2025-11-23T11:34:30.272+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (2:NUMERIC) <- [23.52]
2025-11-23T11:34:30.273+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (3:INTEGER) <- [7]
2025-11-23T11:34:30.273+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (4:VARCHAR) <- [CNG Enginee]
2025-11-23T11:34:30.273+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (5:BIGINT) <- [3]
2025-11-23T11:34:30.274+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (6:BIGINT) <- [5]
2025-11-23T11:34:30.279+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1763883270279 | took 3ms | statement | connection 2297| url jdbc:p6spy:postgresql://localhost:5433/testdb
update spare_parts_request_details set class_type=?,price=?,qty=?,spare_part=?,sparepartsrequest_id=? where id=?
update spare_parts_request_details set class_type='class C',price=23.52,qty=7,spare_part='CNG Enginee',sparepartsrequest_id=3 where id=5;
2025-11-23T11:34:30.281+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1763883270281 | took 1ms | commit | connection 2297| url jdbc:p6spy:postgresql://localhost:5433/testdb

;
2025-11-23T11:34:30.292+04:00 DEBUG 23528 --- [carservices] [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    SELECT
        spr.sparepartsrequest_id          AS sparePartsRequestId,
        spr.date                          AS date,
        b.branch_name                     AS branchName,
        b.address                         AS address,
        b.city                            AS city,
        spr.vin_number                    AS vin,
        sp.spareparts_type                AS sparepartsType,
        bbsp.state                        AS state,
        sprd.spare_part                   AS sparePart,
        sprd.class_type                   AS classType,
        sprd.qty                          AS qty,
        sprd.price                        AS price,
        c.manager_mobile                  AS managerMobile,
        bbsp.id                           AS id,
        spr.request_status                AS requestStatus,
        sprd.id                           AS detailId,
        br.brand_id                       AS brandId,
        -- NEW     br.brand_name                     AS brandName    -- NEW 
    FROM
        spare_parts_request spr 
    JOIN
        spare_parts             sp   
            ON sp.spareparts_id = spr.spareparts_id 
    JOIN
        branch_brand_spare_part bbsp 
            ON bbsp.branch_id = spr.branch_id 
    JOIN
        branch                  b    
            ON b.branch_id     = bbsp.branch_id 
    JOIN
        company                 c    
            ON c.company_id    = b.company_id 
    JOIN
        spare_parts_request_details sprd 
            ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id 
    JOIN
        brand                   br   
            ON br.brand_id     = bbsp.brand_id     -- NEW 
    JOIN
        
    WHERE
        spr.user_id = ? 
    ORDER BY
        spr.date DESC,
        b.branch_name ASC 
2025-11-23T11:34:30.293+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-11-23T11:34:30.299+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-10] p6spy                                    : #1763883270299 | took 6ms | statement | connection 2297| url jdbc:p6spy:postgresql://localhost:5433/testdb
SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,     -- NEW
    br.brand_name                     AS brandName    -- NEW
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id     -- NEW JOIN
WHERE spr.user_id = ?
ORDER BY spr.date DESC, b.branch_name ASC

SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,     -- NEW
    br.brand_name                     AS brandName    -- NEW
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id     -- NEW JOIN
WHERE spr.user_id = 1
ORDER BY spr.date DESC, b.branch_name ASC
;
2025-11-23T11:34:36.300+04:00 DEBUG 23528 --- [carservices] [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    SELECT
        spr.sparepartsrequest_id          AS sparePartsRequestId,
        spr.date                          AS date,
        b.branch_name                     AS branchName,
        b.address                         AS address,
        b.city                            AS city,
        spr.vin_number                    AS vin,
        sp.spareparts_type                AS sparepartsType,
        bbsp.state                        AS state,
        sprd.spare_part                   AS sparePart,
        sprd.class_type                   AS classType,
        sprd.qty                          AS qty,
        sprd.price                        AS price,
        c.manager_mobile                  AS managerMobile,
        bbsp.id                           AS id,
        spr.request_status                AS requestStatus,
        sprd.id                           AS detailId,
        br.brand_id                       AS brandId,
        -- NEW     br.brand_name                     AS brandName    -- NEW 
    FROM
        spare_parts_request spr 
    JOIN
        spare_parts             sp   
            ON sp.spareparts_id = spr.spareparts_id 
    JOIN
        branch_brand_spare_part bbsp 
            ON bbsp.branch_id = spr.branch_id 
    JOIN
        branch                  b    
            ON b.branch_id     = bbsp.branch_id 
    JOIN
        company                 c    
            ON c.company_id    = b.company_id 
    JOIN
        spare_parts_request_details sprd 
            ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id 
    JOIN
        brand                   br   
            ON br.brand_id     = bbsp.brand_id     -- NEW 
    JOIN
        
    WHERE
        spr.user_id = ? 
    ORDER BY
        spr.date DESC,
        b.branch_name ASC 
2025-11-23T11:34:36.308+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-11-23T11:34:36.315+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-1] p6spy                                    : #1763883276315 | took 4ms | statement | connection 2297| url jdbc:p6spy:postgresql://localhost:5433/testdb
SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,     -- NEW
    br.brand_name                     AS brandName    -- NEW
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id     -- NEW JOIN
WHERE spr.user_id = ?
ORDER BY spr.date DESC, b.branch_name ASC

SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,     -- NEW
    br.brand_name                     AS brandName    -- NEW
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id     -- NEW JOIN
WHERE spr.user_id = 1
ORDER BY spr.date DESC, b.branch_name ASC
;
2025-11-23T11:34:47.190+04:00 DEBUG 23528 --- [carservices] [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    SELECT
        spr.sparepartsrequest_id          AS sparePartsRequestId,
        spr.date                          AS date,
        b.branch_name                     AS branchName,
        b.address                         AS address,
        b.city                            AS city,
        spr.vin_number                    AS vin,
        sp.spareparts_type                AS sparepartsType,
        bbsp.state                        AS state,
        sprd.spare_part                   AS sparePart,
        sprd.class_type                   AS classType,
        sprd.qty                          AS qty,
        sprd.price                        AS price,
        c.manager_mobile                  AS managerMobile,
        bbsp.id                           AS id,
        spr.request_status                AS requestStatus,
        sprd.id                           AS detailId,
        br.brand_id                       AS brandId,
        -- NEW     br.brand_name                     AS brandName    -- NEW 
    FROM
        spare_parts_request spr 
    JOIN
        spare_parts             sp   
            ON sp.spareparts_id = spr.spareparts_id 
    JOIN
        branch_brand_spare_part bbsp 
            ON bbsp.branch_id = spr.branch_id 
    JOIN
        branch                  b    
            ON b.branch_id     = bbsp.branch_id 
    JOIN
        company                 c    
            ON c.company_id    = b.company_id 
    JOIN
        spare_parts_request_details sprd 
            ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id 
    JOIN
        brand                   br   
            ON br.brand_id     = bbsp.brand_id     -- NEW 
    JOIN
        
    WHERE
        spr.user_id = ? 
    ORDER BY
        spr.date DESC,
        b.branch_name ASC 
2025-11-23T11:34:47.194+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-11-23T11:34:47.198+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1763883287198 | took 4ms | statement | connection 2297| url jdbc:p6spy:postgresql://localhost:5433/testdb
SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,     -- NEW
    br.brand_name                     AS brandName    -- NEW
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id     -- NEW JOIN
WHERE spr.user_id = ?
ORDER BY spr.date DESC, b.branch_name ASC

SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,     -- NEW
    br.brand_name                     AS brandName    -- NEW
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id     -- NEW JOIN
WHERE spr.user_id = 1
ORDER BY spr.date DESC, b.branch_name ASC
;
2025-11-23T11:34:58.826+04:00 DEBUG 23528 --- [carservices] [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    SELECT
        spr.sparepartsrequest_id          AS sparePartsRequestId,
        spr.date                          AS date,
        b.branch_name                     AS branchName,
        b.address                         AS address,
        b.city                            AS city,
        spr.vin_number                    AS vin,
        sp.spareparts_type                AS sparepartsType,
        bbsp.state                        AS state,
        sprd.spare_part                   AS sparePart,
        sprd.class_type                   AS classType,
        sprd.qty                          AS qty,
        sprd.price                        AS price,
        c.manager_mobile                  AS managerMobile,
        bbsp.id                           AS id,
        spr.request_status                AS requestStatus,
        sprd.id                           AS detailId,
        br.brand_id                       AS brandId,
        -- NEW     br.brand_name                     AS brandName    -- NEW 
    FROM
        spare_parts_request spr 
    JOIN
        spare_parts             sp   
            ON sp.spareparts_id = spr.spareparts_id 
    JOIN
        branch_brand_spare_part bbsp 
            ON bbsp.branch_id = spr.branch_id 
    JOIN
        branch                  b    
            ON b.branch_id     = bbsp.branch_id 
    JOIN
        company                 c    
            ON c.company_id    = b.company_id 
    JOIN
        spare_parts_request_details sprd 
            ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id 
    JOIN
        brand                   br   
            ON br.brand_id     = bbsp.brand_id     -- NEW 
    JOIN
        
    WHERE
        spr.user_id = ? 
    ORDER BY
        spr.date DESC,
        b.branch_name ASC 
2025-11-23T11:34:58.830+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-11-23T11:34:58.835+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1763883298835 | took 4ms | statement | connection 2297| url jdbc:p6spy:postgresql://localhost:5433/testdb
SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,     -- NEW
    br.brand_name                     AS brandName    -- NEW
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id     -- NEW JOIN
WHERE spr.user_id = ?
ORDER BY spr.date DESC, b.branch_name ASC

SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,     -- NEW
    br.brand_name                     AS brandName    -- NEW
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id     -- NEW JOIN
WHERE spr.user_id = 1
ORDER BY spr.date DESC, b.branch_name ASC
;
2025-11-23T11:35:07.404+04:00 DEBUG 23528 --- [carservices] [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        sprd1_0.id,
        sprd1_0.class_type,
        sprd1_0.price,
        sprd1_0.qty,
        sprd1_0.spare_part,
        sprd1_0.sparepartsrequest_id 
    from
        spare_parts_request_details sprd1_0 
    where
        sprd1_0.id=?
2025-11-23T11:35:07.446+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-6] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [5]
2025-11-23T11:35:07.454+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-6] p6spy                                    : #1763883307454 | took 1ms | statement | connection 2297| url jdbc:p6spy:postgresql://localhost:5433/testdb
select sprd1_0.id,sprd1_0.class_type,sprd1_0.price,sprd1_0.qty,sprd1_0.spare_part,sprd1_0.sparepartsrequest_id from spare_parts_request_details sprd1_0 where sprd1_0.id=?
select sprd1_0.id,sprd1_0.class_type,sprd1_0.price,sprd1_0.qty,sprd1_0.spare_part,sprd1_0.sparepartsrequest_id from spare_parts_request_details sprd1_0 where sprd1_0.id=5;
2025-11-23T11:35:07.468+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-6] p6spy                                    : #1763883307468 | took 2ms | commit | connection 2297| url jdbc:p6spy:postgresql://localhost:5433/testdb

;
2025-11-23T11:35:07.481+04:00 DEBUG 23528 --- [carservices] [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    SELECT
        spr.sparepartsrequest_id          AS sparePartsRequestId,
        spr.date                          AS date,
        b.branch_name                     AS branchName,
        b.address                         AS address,
        b.city                            AS city,
        spr.vin_number                    AS vin,
        sp.spareparts_type                AS sparepartsType,
        bbsp.state                        AS state,
        sprd.spare_part                   AS sparePart,
        sprd.class_type                   AS classType,
        sprd.qty                          AS qty,
        sprd.price                        AS price,
        c.manager_mobile                  AS managerMobile,
        bbsp.id                           AS id,
        spr.request_status                AS requestStatus,
        sprd.id                           AS detailId,
        br.brand_id                       AS brandId,
        -- NEW     br.brand_name                     AS brandName    -- NEW 
    FROM
        spare_parts_request spr 
    JOIN
        spare_parts             sp   
            ON sp.spareparts_id = spr.spareparts_id 
    JOIN
        branch_brand_spare_part bbsp 
            ON bbsp.branch_id = spr.branch_id 
    JOIN
        branch                  b    
            ON b.branch_id     = bbsp.branch_id 
    JOIN
        company                 c    
            ON c.company_id    = b.company_id 
    JOIN
        spare_parts_request_details sprd 
            ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id 
    JOIN
        brand                   br   
            ON br.brand_id     = bbsp.brand_id     -- NEW 
    JOIN
        
    WHERE
        spr.user_id = ? 
    ORDER BY
        spr.date DESC,
        b.branch_name ASC 
2025-11-23T11:35:07.510+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-11-23T11:35:07.521+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1763883307521 | took 5ms | statement | connection 2297| url jdbc:p6spy:postgresql://localhost:5433/testdb
SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,     -- NEW
    br.brand_name                     AS brandName    -- NEW
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id     -- NEW JOIN
WHERE spr.user_id = ?
ORDER BY spr.date DESC, b.branch_name ASC

SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,     -- NEW
    br.brand_name                     AS brandName    -- NEW
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id     -- NEW JOIN
WHERE spr.user_id = 1
ORDER BY spr.date DESC, b.branch_name ASC
;
2025-11-23T11:36:51.940+04:00 DEBUG 23528 --- [carservices] [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        sprd1_0.id,
        sprd1_0.class_type,
        sprd1_0.price,
        sprd1_0.qty,
        sprd1_0.spare_part,
        sprd1_0.sparepartsrequest_id 
    from
        spare_parts_request_details sprd1_0 
    where
        sprd1_0.id=?
2025-11-23T11:36:51.942+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [5]
2025-11-23T11:36:51.944+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1763883411944 | took 1ms | statement | connection 2297| url jdbc:p6spy:postgresql://localhost:5433/testdb
select sprd1_0.id,sprd1_0.class_type,sprd1_0.price,sprd1_0.qty,sprd1_0.spare_part,sprd1_0.sparepartsrequest_id from spare_parts_request_details sprd1_0 where sprd1_0.id=?
select sprd1_0.id,sprd1_0.class_type,sprd1_0.price,sprd1_0.qty,sprd1_0.spare_part,sprd1_0.sparepartsrequest_id from spare_parts_request_details sprd1_0 where sprd1_0.id=5;
2025-11-23T11:36:51.977+04:00 DEBUG 23528 --- [carservices] [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    delete 
    from
        spare_parts_request_details 
    where
        id=?
2025-11-23T11:36:51.979+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [5]
2025-11-23T11:36:51.982+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1763883411982 | took 2ms | statement | connection 2297| url jdbc:p6spy:postgresql://localhost:5433/testdb
delete from spare_parts_request_details where id=?
delete from spare_parts_request_details where id=5;
2025-11-23T11:36:51.988+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1763883411988 | took 1ms | commit | connection 2297| url jdbc:p6spy:postgresql://localhost:5433/testdb

;
2025-11-23T11:36:52.007+04:00 DEBUG 23528 --- [carservices] [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    SELECT
        spr.sparepartsrequest_id          AS sparePartsRequestId,
        spr.date                          AS date,
        b.branch_name                     AS branchName,
        b.address                         AS address,
        b.city                            AS city,
        spr.vin_number                    AS vin,
        sp.spareparts_type                AS sparepartsType,
        bbsp.state                        AS state,
        sprd.spare_part                   AS sparePart,
        sprd.class_type                   AS classType,
        sprd.qty                          AS qty,
        sprd.price                        AS price,
        c.manager_mobile                  AS managerMobile,
        bbsp.id                           AS id,
        spr.request_status                AS requestStatus,
        sprd.id                           AS detailId,
        br.brand_id                       AS brandId,
        -- NEW     br.brand_name                     AS brandName    -- NEW 
    FROM
        spare_parts_request spr 
    JOIN
        spare_parts             sp   
            ON sp.spareparts_id = spr.spareparts_id 
    JOIN
        branch_brand_spare_part bbsp 
            ON bbsp.branch_id = spr.branch_id 
    JOIN
        branch                  b    
            ON b.branch_id     = bbsp.branch_id 
    JOIN
        company                 c    
            ON c.company_id    = b.company_id 
    JOIN
        spare_parts_request_details sprd 
            ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id 
    JOIN
        brand                   br   
            ON br.brand_id     = bbsp.brand_id     -- NEW 
    JOIN
        
    WHERE
        spr.user_id = ? 
    ORDER BY
        spr.date DESC,
        b.branch_name ASC 
2025-11-23T11:36:52.008+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-11-23T11:36:52.012+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-10] p6spy                                    : #1763883412012 | took 3ms | statement | connection 2297| url jdbc:p6spy:postgresql://localhost:5433/testdb
SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,     -- NEW
    br.brand_name                     AS brandName    -- NEW
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id     -- NEW JOIN
WHERE spr.user_id = ?
ORDER BY spr.date DESC, b.branch_name ASC

SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,     -- NEW
    br.brand_name                     AS brandName    -- NEW
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id     -- NEW JOIN
WHERE spr.user_id = 1
ORDER BY spr.date DESC, b.branch_name ASC
;
2025-11-23T11:36:53.435+04:00 DEBUG 23528 --- [carservices] [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        sprd1_0.id,
        sprd1_0.class_type,
        sprd1_0.price,
        sprd1_0.qty,
        sprd1_0.spare_part,
        sprd1_0.sparepartsrequest_id 
    from
        spare_parts_request_details sprd1_0 
    where
        sprd1_0.id=?
2025-11-23T11:36:53.435+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [5]
2025-11-23T11:36:53.436+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-1] p6spy                                    : #1763883413436 | took 0ms | statement | connection 2297| url jdbc:p6spy:postgresql://localhost:5433/testdb
select sprd1_0.id,sprd1_0.class_type,sprd1_0.price,sprd1_0.qty,sprd1_0.spare_part,sprd1_0.sparepartsrequest_id from spare_parts_request_details sprd1_0 where sprd1_0.id=?
select sprd1_0.id,sprd1_0.class_type,sprd1_0.price,sprd1_0.qty,sprd1_0.spare_part,sprd1_0.sparepartsrequest_id from spare_parts_request_details sprd1_0 where sprd1_0.id=5;
2025-11-23T11:36:53.440+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-1] p6spy                                    : #1763883413440 | took 0ms | commit | connection 2297| url jdbc:p6spy:postgresql://localhost:5433/testdb

;
2025-11-23T11:36:53.454+04:00 DEBUG 23528 --- [carservices] [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    SELECT
        spr.sparepartsrequest_id          AS sparePartsRequestId,
        spr.date                          AS date,
        b.branch_name                     AS branchName,
        b.address                         AS address,
        b.city                            AS city,
        spr.vin_number                    AS vin,
        sp.spareparts_type                AS sparepartsType,
        bbsp.state                        AS state,
        sprd.spare_part                   AS sparePart,
        sprd.class_type                   AS classType,
        sprd.qty                          AS qty,
        sprd.price                        AS price,
        c.manager_mobile                  AS managerMobile,
        bbsp.id                           AS id,
        spr.request_status                AS requestStatus,
        sprd.id                           AS detailId,
        br.brand_id                       AS brandId,
        -- NEW     br.brand_name                     AS brandName    -- NEW 
    FROM
        spare_parts_request spr 
    JOIN
        spare_parts             sp   
            ON sp.spareparts_id = spr.spareparts_id 
    JOIN
        branch_brand_spare_part bbsp 
            ON bbsp.branch_id = spr.branch_id 
    JOIN
        branch                  b    
            ON b.branch_id     = bbsp.branch_id 
    JOIN
        company                 c    
            ON c.company_id    = b.company_id 
    JOIN
        spare_parts_request_details sprd 
            ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id 
    JOIN
        brand                   br   
            ON br.brand_id     = bbsp.brand_id     -- NEW 
    JOIN
        
    WHERE
        spr.user_id = ? 
    ORDER BY
        spr.date DESC,
        b.branch_name ASC 
2025-11-23T11:36:53.455+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-11-23T11:36:53.457+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1763883413457 | took 2ms | statement | connection 2297| url jdbc:p6spy:postgresql://localhost:5433/testdb
SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,     -- NEW
    br.brand_name                     AS brandName    -- NEW
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id     -- NEW JOIN
WHERE spr.user_id = ?
ORDER BY spr.date DESC, b.branch_name ASC

SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,     -- NEW
    br.brand_name                     AS brandName    -- NEW
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id     -- NEW JOIN
WHERE spr.user_id = 1
ORDER BY spr.date DESC, b.branch_name ASC
;
2025-11-23T11:37:49.992+04:00 DEBUG 23528 --- [carservices] [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    SELECT
        spr.sparepartsrequest_id          AS sparePartsRequestId,
        spr.date                          AS date,
        b.branch_name                     AS branchName,
        b.address                         AS address,
        b.city                            AS city,
        spr.vin_number                    AS vin,
        sp.spareparts_type                AS sparepartsType,
        bbsp.state                        AS state,
        sprd.spare_part                   AS sparePart,
        sprd.class_type                   AS classType,
        sprd.qty                          AS qty,
        sprd.price                        AS price,
        c.manager_mobile                  AS managerMobile,
        bbsp.id                           AS id,
        spr.request_status                AS requestStatus,
        sprd.id                           AS detailId,
        br.brand_id                       AS brandId,
        -- NEW     br.brand_name                     AS brandName    -- NEW 
    FROM
        spare_parts_request spr 
    JOIN
        spare_parts             sp   
            ON sp.spareparts_id = spr.spareparts_id 
    JOIN
        branch_brand_spare_part bbsp 
            ON bbsp.branch_id = spr.branch_id 
    JOIN
        branch                  b    
            ON b.branch_id     = bbsp.branch_id 
    JOIN
        company                 c    
            ON c.company_id    = b.company_id 
    JOIN
        spare_parts_request_details sprd 
            ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id 
    JOIN
        brand                   br   
            ON br.brand_id     = bbsp.brand_id     -- NEW 
    JOIN
        
    WHERE
        spr.user_id = ? 
    ORDER BY
        spr.date DESC,
        b.branch_name ASC 
2025-11-23T11:37:50.003+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-11-23T11:37:50.009+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-8] p6spy                                    : #1763883470009 | took 1ms | statement | connection 2297| url jdbc:p6spy:postgresql://localhost:5433/testdb
SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,     -- NEW
    br.brand_name                     AS brandName    -- NEW
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id     -- NEW JOIN
WHERE spr.user_id = ?
ORDER BY spr.date DESC, b.branch_name ASC

SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,     -- NEW
    br.brand_name                     AS brandName    -- NEW
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id     -- NEW JOIN
WHERE spr.user_id = 1
ORDER BY spr.date DESC, b.branch_name ASC
;
2025-11-23T11:38:56.889+04:00 DEBUG 23528 --- [carservices] [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    SELECT
        spr.sparepartsrequest_id          AS sparePartsRequestId,
        spr.date                          AS date,
        b.branch_name                     AS branchName,
        b.address                         AS address,
        b.city                            AS city,
        spr.vin_number                    AS vin,
        sp.spareparts_type                AS sparepartsType,
        bbsp.state                        AS state,
        sprd.spare_part                   AS sparePart,
        sprd.class_type                   AS classType,
        sprd.qty                          AS qty,
        sprd.price                        AS price,
        c.manager_mobile                  AS managerMobile,
        bbsp.id                           AS id,
        spr.request_status                AS requestStatus,
        sprd.id                           AS detailId,
        br.brand_id                       AS brandId,
        -- NEW     br.brand_name                     AS brandName    -- NEW 
    FROM
        spare_parts_request spr 
    JOIN
        spare_parts             sp   
            ON sp.spareparts_id = spr.spareparts_id 
    JOIN
        branch_brand_spare_part bbsp 
            ON bbsp.branch_id = spr.branch_id 
    JOIN
        branch                  b    
            ON b.branch_id     = bbsp.branch_id 
    JOIN
        company                 c    
            ON c.company_id    = b.company_id 
    JOIN
        spare_parts_request_details sprd 
            ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id 
    JOIN
        brand                   br   
            ON br.brand_id     = bbsp.brand_id     -- NEW 
    JOIN
        
    WHERE
        spr.user_id = ? 
    ORDER BY
        spr.date DESC,
        b.branch_name ASC 
2025-11-23T11:38:56.904+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-6] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-11-23T11:38:56.910+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-6] p6spy                                    : #1763883536910 | took 2ms | statement | connection 2297| url jdbc:p6spy:postgresql://localhost:5433/testdb
SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,     -- NEW
    br.brand_name                     AS brandName    -- NEW
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id     -- NEW JOIN
WHERE spr.user_id = ?
ORDER BY spr.date DESC, b.branch_name ASC

SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,     -- NEW
    br.brand_name                     AS brandName    -- NEW
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id     -- NEW JOIN
WHERE spr.user_id = 1
ORDER BY spr.date DESC, b.branch_name ASC
;
2025-11-23T11:39:51.606+04:00 DEBUG 23528 --- [carservices] [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    SELECT
        spr.sparepartsrequest_id          AS sparePartsRequestId,
        spr.date                          AS date,
        b.branch_name                     AS branchName,
        b.address                         AS address,
        b.city                            AS city,
        spr.vin_number                    AS vin,
        sp.spareparts_type                AS sparepartsType,
        bbsp.state                        AS state,
        sprd.spare_part                   AS sparePart,
        sprd.class_type                   AS classType,
        sprd.qty                          AS qty,
        sprd.price                        AS price,
        c.manager_mobile                  AS managerMobile,
        bbsp.id                           AS id,
        spr.request_status                AS requestStatus,
        sprd.id                           AS detailId,
        br.brand_id                       AS brandId,
        -- NEW     br.brand_name                     AS brandName    -- NEW 
    FROM
        spare_parts_request spr 
    JOIN
        spare_parts             sp   
            ON sp.spareparts_id = spr.spareparts_id 
    JOIN
        branch_brand_spare_part bbsp 
            ON bbsp.branch_id = spr.branch_id 
    JOIN
        branch                  b    
            ON b.branch_id     = bbsp.branch_id 
    JOIN
        company                 c    
            ON c.company_id    = b.company_id 
    JOIN
        spare_parts_request_details sprd 
            ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id 
    JOIN
        brand                   br   
            ON br.brand_id     = bbsp.brand_id     -- NEW 
    JOIN
        
    WHERE
        spr.user_id = ? 
    ORDER BY
        spr.date DESC,
        b.branch_name ASC 
2025-11-23T11:39:51.610+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-11-23T11:39:51.612+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-7] p6spy                                    : #1763883591612 | took 1ms | statement | connection 2297| url jdbc:p6spy:postgresql://localhost:5433/testdb
SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,     -- NEW
    br.brand_name                     AS brandName    -- NEW
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id     -- NEW JOIN
WHERE spr.user_id = ?
ORDER BY spr.date DESC, b.branch_name ASC

SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,     -- NEW
    br.brand_name                     AS brandName    -- NEW
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id     -- NEW JOIN
WHERE spr.user_id = 1
ORDER BY spr.date DESC, b.branch_name ASC
;
2025-11-23T11:39:58.177+04:00 DEBUG 23528 --- [carservices] [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    SELECT
        spr.sparepartsrequest_id          AS sparePartsRequestId,
        spr.date                          AS date,
        b.branch_name                     AS branchName,
        b.address                         AS address,
        b.city                            AS city,
        spr.vin_number                    AS vin,
        sp.spareparts_type                AS sparepartsType,
        bbsp.state                        AS state,
        sprd.spare_part                   AS sparePart,
        sprd.class_type                   AS classType,
        sprd.qty                          AS qty,
        sprd.price                        AS price,
        c.manager_mobile                  AS managerMobile,
        bbsp.id                           AS id,
        spr.request_status                AS requestStatus,
        sprd.id                           AS detailId,
        br.brand_id                       AS brandId,
        -- NEW     br.brand_name                     AS brandName    -- NEW 
    FROM
        spare_parts_request spr 
    JOIN
        spare_parts             sp   
            ON sp.spareparts_id = spr.spareparts_id 
    JOIN
        branch_brand_spare_part bbsp 
            ON bbsp.branch_id = spr.branch_id 
    JOIN
        branch                  b    
            ON b.branch_id     = bbsp.branch_id 
    JOIN
        company                 c    
            ON c.company_id    = b.company_id 
    JOIN
        spare_parts_request_details sprd 
            ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id 
    JOIN
        brand                   br   
            ON br.brand_id     = bbsp.brand_id     -- NEW 
    JOIN
        
    WHERE
        spr.user_id = ? 
    ORDER BY
        spr.date DESC,
        b.branch_name ASC 
2025-11-23T11:39:58.184+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-11-23T11:39:58.187+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-10] p6spy                                    : #1763883598187 | took 0ms | statement | connection 2297| url jdbc:p6spy:postgresql://localhost:5433/testdb
SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,     -- NEW
    br.brand_name                     AS brandName    -- NEW
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id     -- NEW JOIN
WHERE spr.user_id = ?
ORDER BY spr.date DESC, b.branch_name ASC

SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,     -- NEW
    br.brand_name                     AS brandName    -- NEW
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id     -- NEW JOIN
WHERE spr.user_id = 1
ORDER BY spr.date DESC, b.branch_name ASC
;
2025-11-23T11:40:51.649+04:00 DEBUG 23528 --- [carservices] [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    SELECT
        spr.sparepartsrequest_id          AS sparePartsRequestId,
        spr.date                          AS date,
        b.branch_name                     AS branchName,
        b.address                         AS address,
        b.city                            AS city,
        spr.vin_number                    AS vin,
        sp.spareparts_type                AS sparepartsType,
        bbsp.state                        AS state,
        sprd.spare_part                   AS sparePart,
        sprd.class_type                   AS classType,
        sprd.qty                          AS qty,
        sprd.price                        AS price,
        c.manager_mobile                  AS managerMobile,
        bbsp.id                           AS id,
        spr.request_status                AS requestStatus,
        sprd.id                           AS detailId,
        br.brand_id                       AS brandId,
        -- NEW     br.brand_name                     AS brandName    -- NEW 
    FROM
        spare_parts_request spr 
    JOIN
        spare_parts             sp   
            ON sp.spareparts_id = spr.spareparts_id 
    JOIN
        branch_brand_spare_part bbsp 
            ON bbsp.branch_id = spr.branch_id 
    JOIN
        branch                  b    
            ON b.branch_id     = bbsp.branch_id 
    JOIN
        company                 c    
            ON c.company_id    = b.company_id 
    JOIN
        spare_parts_request_details sprd 
            ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id 
    JOIN
        brand                   br   
            ON br.brand_id     = bbsp.brand_id     -- NEW 
    JOIN
        
    WHERE
        spr.user_id = ? 
    ORDER BY
        spr.date DESC,
        b.branch_name ASC 
2025-11-23T11:40:51.685+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-11-23T11:40:51.690+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1763883651690 | took 1ms | statement | connection 2297| url jdbc:p6spy:postgresql://localhost:5433/testdb
SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,     -- NEW
    br.brand_name                     AS brandName    -- NEW
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id     -- NEW JOIN
WHERE spr.user_id = ?
ORDER BY spr.date DESC, b.branch_name ASC

SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,     -- NEW
    br.brand_name                     AS brandName    -- NEW
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id     -- NEW JOIN
WHERE spr.user_id = 1
ORDER BY spr.date DESC, b.branch_name ASC
;
2025-11-23T11:42:28.384+04:00 DEBUG 23528 --- [carservices] [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    SELECT
        spr.sparepartsrequest_id          AS sparePartsRequestId,
        spr.date                          AS date,
        b.branch_name                     AS branchName,
        b.address                         AS address,
        b.city                            AS city,
        spr.vin_number                    AS vin,
        sp.spareparts_type                AS sparepartsType,
        bbsp.state                        AS state,
        sprd.spare_part                   AS sparePart,
        sprd.class_type                   AS classType,
        sprd.qty                          AS qty,
        sprd.price                        AS price,
        c.manager_mobile                  AS managerMobile,
        bbsp.id                           AS id,
        spr.request_status                AS requestStatus,
        sprd.id                           AS detailId,
        br.brand_id                       AS brandId,
        br.brand_name                     AS brandName 
    FROM
        spare_parts_request spr 
    JOIN
        spare_parts             sp   
            ON sp.spareparts_id = spr.spareparts_id 
    JOIN
        branch_brand_spare_part bbsp 
            ON bbsp.branch_id = spr.branch_id 
    JOIN
        branch                  b    
            ON b.branch_id     = bbsp.branch_id 
    JOIN
        company                 c    
            ON c.company_id    = b.company_id 
    JOIN
        spare_parts_request_details sprd 
            ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id 
    JOIN
        brand                   br   
            ON br.brand_id     = bbsp.brand_id 
    WHERE
        b.branch_id = ? 
    ORDER BY
        spr.date DESC,
        b.branch_name ASC 
2025-11-23T11:42:28.404+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-11-23T11:42:28.488+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-8] p6spy                                    : #1763883748488 | took 71ms | statement | connection 2297| url jdbc:p6spy:postgresql://localhost:5433/testdb
SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,
    br.brand_name                     AS brandName
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id
WHERE b.branch_id = ?
ORDER BY spr.date DESC, b.branch_name ASC

SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,
    br.brand_name                     AS brandName
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id
WHERE b.branch_id = 1
ORDER BY spr.date DESC, b.branch_name ASC
;
2025-11-23T11:42:38.477+04:00 DEBUG 23528 --- [carservices] [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    SELECT
        spr.sparepartsrequest_id          AS sparePartsRequestId,
        spr.date                          AS date,
        b.branch_name                     AS branchName,
        b.address                         AS address,
        b.city                            AS city,
        spr.vin_number                    AS vin,
        sp.spareparts_type                AS sparepartsType,
        bbsp.state                        AS state,
        sprd.spare_part                   AS sparePart,
        sprd.class_type                   AS classType,
        sprd.qty                          AS qty,
        sprd.price                        AS price,
        c.manager_mobile                  AS managerMobile,
        bbsp.id                           AS id,
        spr.request_status                AS requestStatus,
        sprd.id                           AS detailId,
        br.brand_id                       AS brandId,
        -- NEW     br.brand_name                     AS brandName    -- NEW 
    FROM
        spare_parts_request spr 
    JOIN
        spare_parts             sp   
            ON sp.spareparts_id = spr.spareparts_id 
    JOIN
        branch_brand_spare_part bbsp 
            ON bbsp.branch_id = spr.branch_id 
    JOIN
        branch                  b    
            ON b.branch_id     = bbsp.branch_id 
    JOIN
        company                 c    
            ON c.company_id    = b.company_id 
    JOIN
        spare_parts_request_details sprd 
            ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id 
    JOIN
        brand                   br   
            ON br.brand_id     = bbsp.brand_id     -- NEW 
    JOIN
        
    WHERE
        spr.user_id = ? 
    ORDER BY
        spr.date DESC,
        b.branch_name ASC 
2025-11-23T11:42:38.491+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-6] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-11-23T11:42:38.515+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-6] p6spy                                    : #1763883758515 | took 13ms | statement | connection 2297| url jdbc:p6spy:postgresql://localhost:5433/testdb
SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,     -- NEW
    br.brand_name                     AS brandName    -- NEW
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id     -- NEW JOIN
WHERE spr.user_id = ?
ORDER BY spr.date DESC, b.branch_name ASC

SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,     -- NEW
    br.brand_name                     AS brandName    -- NEW
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id     -- NEW JOIN
WHERE spr.user_id = 1
ORDER BY spr.date DESC, b.branch_name ASC
;
2025-11-23T11:43:10.470+04:00 DEBUG 23528 --- [carservices] [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    SELECT
        spr.sparepartsrequest_id          AS sparePartsRequestId,
        spr.date                          AS date,
        b.branch_name                     AS branchName,
        b.address                         AS address,
        b.city                            AS city,
        spr.vin_number                    AS vin,
        sp.spareparts_type                AS sparepartsType,
        bbsp.state                        AS state,
        sprd.spare_part                   AS sparePart,
        sprd.class_type                   AS classType,
        sprd.qty                          AS qty,
        sprd.price                        AS price,
        c.manager_mobile                  AS managerMobile,
        bbsp.id                           AS id,
        spr.request_status                AS requestStatus,
        sprd.id                           AS detailId,
        br.brand_id                       AS brandId,
        -- NEW     br.brand_name                     AS brandName    -- NEW 
    FROM
        spare_parts_request spr 
    JOIN
        spare_parts             sp   
            ON sp.spareparts_id = spr.spareparts_id 
    JOIN
        branch_brand_spare_part bbsp 
            ON bbsp.branch_id = spr.branch_id 
    JOIN
        branch                  b    
            ON b.branch_id     = bbsp.branch_id 
    JOIN
        company                 c    
            ON c.company_id    = b.company_id 
    JOIN
        spare_parts_request_details sprd 
            ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id 
    JOIN
        brand                   br   
            ON br.brand_id     = bbsp.brand_id     -- NEW 
    JOIN
        
    WHERE
        spr.user_id = ? 
    ORDER BY
        spr.date DESC,
        b.branch_name ASC 
2025-11-23T11:43:10.472+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-11-23T11:43:10.473+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-7] p6spy                                    : #1763883790473 | took 0ms | statement | connection 2297| url jdbc:p6spy:postgresql://localhost:5433/testdb
SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,     -- NEW
    br.brand_name                     AS brandName    -- NEW
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id     -- NEW JOIN
WHERE spr.user_id = ?
ORDER BY spr.date DESC, b.branch_name ASC

SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,     -- NEW
    br.brand_name                     AS brandName    -- NEW
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id     -- NEW JOIN
WHERE spr.user_id = 1
ORDER BY spr.date DESC, b.branch_name ASC
;
2025-11-23T11:44:47.548+04:00 DEBUG 23528 --- [carservices] [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    SELECT
        spr.sparepartsrequest_id          AS sparePartsRequestId,
        spr.date                          AS date,
        b.branch_name                     AS branchName,
        b.address                         AS address,
        b.city                            AS city,
        spr.vin_number                    AS vin,
        sp.spareparts_type                AS sparepartsType,
        bbsp.state                        AS state,
        sprd.spare_part                   AS sparePart,
        sprd.class_type                   AS classType,
        sprd.qty                          AS qty,
        sprd.price                        AS price,
        c.manager_mobile                  AS managerMobile,
        bbsp.id                           AS id,
        spr.request_status                AS requestStatus,
        sprd.id                           AS detailId,
        br.brand_id                       AS brandId,
        br.brand_name                     AS brandName 
    FROM
        spare_parts_request spr 
    JOIN
        spare_parts             sp   
            ON sp.spareparts_id = spr.spareparts_id 
    JOIN
        branch_brand_spare_part bbsp 
            ON bbsp.branch_id = spr.branch_id 
    JOIN
        branch                  b    
            ON b.branch_id     = bbsp.branch_id 
    JOIN
        company                 c    
            ON c.company_id    = b.company_id 
    JOIN
        spare_parts_request_details sprd 
            ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id 
    JOIN
        brand                   br   
            ON br.brand_id     = bbsp.brand_id 
    WHERE
        b.branch_id = ? 
    ORDER BY
        spr.date DESC,
        b.branch_name ASC 
2025-11-23T11:44:47.590+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-10] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-11-23T11:44:47.731+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-10] p6spy                                    : #1763883887731 | took 135ms | statement | connection 2302| url jdbc:p6spy:postgresql://localhost:5433/testdb
SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,
    br.brand_name                     AS brandName
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id
WHERE b.branch_id = ?
ORDER BY spr.date DESC, b.branch_name ASC

SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,
    br.brand_name                     AS brandName
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id
WHERE b.branch_id = 1
ORDER BY spr.date DESC, b.branch_name ASC
;
2025-11-23T11:45:02.734+04:00 DEBUG 23528 --- [carservices] [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    SELECT
        spr.sparepartsrequest_id          AS sparePartsRequestId,
        spr.date                          AS date,
        b.branch_name                     AS branchName,
        b.address                         AS address,
        b.city                            AS city,
        spr.vin_number                    AS vin,
        sp.spareparts_type                AS sparepartsType,
        bbsp.state                        AS state,
        sprd.spare_part                   AS sparePart,
        sprd.class_type                   AS classType,
        sprd.qty                          AS qty,
        sprd.price                        AS price,
        c.manager_mobile                  AS managerMobile,
        bbsp.id                           AS id,
        spr.request_status                AS requestStatus,
        sprd.id                           AS detailId,
        br.brand_id                       AS brandId,
        br.brand_name                     AS brandName 
    FROM
        spare_parts_request spr 
    JOIN
        spare_parts             sp   
            ON sp.spareparts_id = spr.spareparts_id 
    JOIN
        branch_brand_spare_part bbsp 
            ON bbsp.branch_id = spr.branch_id 
    JOIN
        branch                  b    
            ON b.branch_id     = bbsp.branch_id 
    JOIN
        company                 c    
            ON c.company_id    = b.company_id 
    JOIN
        spare_parts_request_details sprd 
            ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id 
    JOIN
        brand                   br   
            ON br.brand_id     = bbsp.brand_id 
    WHERE
        b.branch_id = ? 
    ORDER BY
        spr.date DESC,
        b.branch_name ASC 
2025-11-23T11:45:02.764+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-11-23T11:45:02.806+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-1] p6spy                                    : #1763883902806 | took 33ms | statement | connection 2305| url jdbc:p6spy:postgresql://localhost:5433/testdb
SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,
    br.brand_name                     AS brandName
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id
WHERE b.branch_id = ?
ORDER BY spr.date DESC, b.branch_name ASC

SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,
    br.brand_name                     AS brandName
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id
WHERE b.branch_id = 1
ORDER BY spr.date DESC, b.branch_name ASC
;
2025-11-23T11:45:53.451+04:00 DEBUG 23528 --- [carservices] [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    SELECT
        spr.sparepartsrequest_id          AS sparePartsRequestId,
        spr.date                          AS date,
        b.branch_name                     AS branchName,
        b.address                         AS address,
        b.city                            AS city,
        spr.vin_number                    AS vin,
        sp.spareparts_type                AS sparepartsType,
        bbsp.state                        AS state,
        sprd.spare_part                   AS sparePart,
        sprd.class_type                   AS classType,
        sprd.qty                          AS qty,
        sprd.price                        AS price,
        c.manager_mobile                  AS managerMobile,
        bbsp.id                           AS id,
        spr.request_status                AS requestStatus,
        sprd.id                           AS detailId,
        br.brand_id                       AS brandId,
        br.brand_name                     AS brandName 
    FROM
        spare_parts_request spr 
    JOIN
        spare_parts             sp   
            ON sp.spareparts_id = spr.spareparts_id 
    JOIN
        branch_brand_spare_part bbsp 
            ON bbsp.branch_id = spr.branch_id 
    JOIN
        branch                  b    
            ON b.branch_id     = bbsp.branch_id 
    JOIN
        company                 c    
            ON c.company_id    = b.company_id 
    JOIN
        spare_parts_request_details sprd 
            ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id 
    JOIN
        brand                   br   
            ON br.brand_id     = bbsp.brand_id 
    WHERE
        b.branch_id = ? 
    ORDER BY
        spr.date DESC,
        b.branch_name ASC 
2025-11-23T11:45:53.473+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-11-23T11:45:53.505+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1763883953505 | took 26ms | statement | connection 2307| url jdbc:p6spy:postgresql://localhost:5433/testdb
SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,
    br.brand_name                     AS brandName
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id
WHERE b.branch_id = ?
ORDER BY spr.date DESC, b.branch_name ASC

SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,
    br.brand_name                     AS brandName
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id
WHERE b.branch_id = 1
ORDER BY spr.date DESC, b.branch_name ASC
;
2025-11-23T11:48:51.628+04:00 DEBUG 23528 --- [carservices] [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    SELECT
        spr.sparepartsrequest_id          AS sparePartsRequestId,
        spr.date                          AS date,
        b.branch_name                     AS branchName,
        b.address                         AS address,
        b.city                            AS city,
        spr.vin_number                    AS vin,
        sp.spareparts_type                AS sparepartsType,
        bbsp.state                        AS state,
        sprd.spare_part                   AS sparePart,
        sprd.class_type                   AS classType,
        sprd.qty                          AS qty,
        sprd.price                        AS price,
        c.manager_mobile                  AS managerMobile,
        bbsp.id                           AS id,
        spr.request_status                AS requestStatus,
        sprd.id                           AS detailId,
        br.brand_id                       AS brandId,
        br.brand_name                     AS brandName 
    FROM
        spare_parts_request spr 
    JOIN
        spare_parts             sp   
            ON sp.spareparts_id = spr.spareparts_id 
    JOIN
        branch_brand_spare_part bbsp 
            ON bbsp.branch_id = spr.branch_id 
    JOIN
        branch                  b    
            ON b.branch_id     = bbsp.branch_id 
    JOIN
        company                 c    
            ON c.company_id    = b.company_id 
    JOIN
        spare_parts_request_details sprd 
            ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id 
    JOIN
        brand                   br   
            ON br.brand_id     = bbsp.brand_id 
    WHERE
        b.branch_id = ? 
    ORDER BY
        spr.date DESC,
        b.branch_name ASC 
2025-11-23T11:48:51.649+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-11-23T11:48:51.671+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-9] p6spy                                    : #1763884131671 | took 20ms | statement | connection 2307| url jdbc:p6spy:postgresql://localhost:5433/testdb
SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,
    br.brand_name                     AS brandName
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id
WHERE b.branch_id = ?
ORDER BY spr.date DESC, b.branch_name ASC

SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,
    br.brand_name                     AS brandName
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id
WHERE b.branch_id = 1
ORDER BY spr.date DESC, b.branch_name ASC
;
2025-11-23T11:48:59.205+04:00 DEBUG 23528 --- [carservices] [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    SELECT
        spr.sparepartsrequest_id          AS sparePartsRequestId,
        spr.date                          AS date,
        b.branch_name                     AS branchName,
        b.address                         AS address,
        b.city                            AS city,
        spr.vin_number                    AS vin,
        sp.spareparts_type                AS sparepartsType,
        bbsp.state                        AS state,
        sprd.spare_part                   AS sparePart,
        sprd.class_type                   AS classType,
        sprd.qty                          AS qty,
        sprd.price                        AS price,
        c.manager_mobile                  AS managerMobile,
        bbsp.id                           AS id,
        spr.request_status                AS requestStatus,
        sprd.id                           AS detailId,
        br.brand_id                       AS brandId,
        -- NEW     br.brand_name                     AS brandName    -- NEW 
    FROM
        spare_parts_request spr 
    JOIN
        spare_parts             sp   
            ON sp.spareparts_id = spr.spareparts_id 
    JOIN
        branch_brand_spare_part bbsp 
            ON bbsp.branch_id = spr.branch_id 
    JOIN
        branch                  b    
            ON b.branch_id     = bbsp.branch_id 
    JOIN
        company                 c    
            ON c.company_id    = b.company_id 
    JOIN
        spare_parts_request_details sprd 
            ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id 
    JOIN
        brand                   br   
            ON br.brand_id     = bbsp.brand_id     -- NEW 
    JOIN
        
    WHERE
        spr.user_id = ? 
    ORDER BY
        spr.date DESC,
        b.branch_name ASC 
2025-11-23T11:48:59.219+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-11-23T11:48:59.230+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1763884139230 | took 8ms | statement | connection 2307| url jdbc:p6spy:postgresql://localhost:5433/testdb
SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,     -- NEW
    br.brand_name                     AS brandName    -- NEW
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id     -- NEW JOIN
WHERE spr.user_id = ?
ORDER BY spr.date DESC, b.branch_name ASC

SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,     -- NEW
    br.brand_name                     AS brandName    -- NEW
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id     -- NEW JOIN
WHERE spr.user_id = 1
ORDER BY spr.date DESC, b.branch_name ASC
;
2025-11-23T11:49:25.077+04:00 DEBUG 23528 --- [carservices] [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    SELECT
        spr.sparepartsrequest_id          AS sparePartsRequestId,
        spr.date                          AS date,
        b.branch_name                     AS branchName,
        b.address                         AS address,
        b.city                            AS city,
        spr.vin_number                    AS vin,
        sp.spareparts_type                AS sparepartsType,
        bbsp.state                        AS state,
        sprd.spare_part                   AS sparePart,
        sprd.class_type                   AS classType,
        sprd.qty                          AS qty,
        sprd.price                        AS price,
        c.manager_mobile                  AS managerMobile,
        bbsp.id                           AS id,
        spr.request_status                AS requestStatus,
        sprd.id                           AS detailId,
        br.brand_id                       AS brandId,
        br.brand_name                     AS brandName 
    FROM
        spare_parts_request spr 
    JOIN
        spare_parts             sp   
            ON sp.spareparts_id = spr.spareparts_id 
    JOIN
        branch_brand_spare_part bbsp 
            ON bbsp.branch_id = spr.branch_id 
    JOIN
        branch                  b    
            ON b.branch_id     = bbsp.branch_id 
    JOIN
        company                 c    
            ON c.company_id    = b.company_id 
    JOIN
        spare_parts_request_details sprd 
            ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id 
    JOIN
        brand                   br   
            ON br.brand_id     = bbsp.brand_id 
    WHERE
        b.branch_id = ? 
    ORDER BY
        spr.date DESC,
        b.branch_name ASC 
2025-11-23T11:49:25.081+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-11-23T11:49:25.084+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1763884165084 | took 2ms | statement | connection 2307| url jdbc:p6spy:postgresql://localhost:5433/testdb
SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,
    br.brand_name                     AS brandName
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id
WHERE b.branch_id = ?
ORDER BY spr.date DESC, b.branch_name ASC

SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,
    br.brand_name                     AS brandName
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id
WHERE b.branch_id = 1
ORDER BY spr.date DESC, b.branch_name ASC
;
2025-11-23T11:49:49.151+04:00 DEBUG 23528 --- [carservices] [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    SELECT
        spr.sparepartsrequest_id          AS sparePartsRequestId,
        spr.date                          AS date,
        b.branch_name                     AS branchName,
        b.address                         AS address,
        b.city                            AS city,
        spr.vin_number                    AS vin,
        sp.spareparts_type                AS sparepartsType,
        bbsp.state                        AS state,
        sprd.spare_part                   AS sparePart,
        sprd.class_type                   AS classType,
        sprd.qty                          AS qty,
        sprd.price                        AS price,
        c.manager_mobile                  AS managerMobile,
        bbsp.id                           AS id,
        spr.request_status                AS requestStatus,
        sprd.id                           AS detailId,
        br.brand_id                       AS brandId,
        -- NEW     br.brand_name                     AS brandName    -- NEW 
    FROM
        spare_parts_request spr 
    JOIN
        spare_parts             sp   
            ON sp.spareparts_id = spr.spareparts_id 
    JOIN
        branch_brand_spare_part bbsp 
            ON bbsp.branch_id = spr.branch_id 
    JOIN
        branch                  b    
            ON b.branch_id     = bbsp.branch_id 
    JOIN
        company                 c    
            ON c.company_id    = b.company_id 
    JOIN
        spare_parts_request_details sprd 
            ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id 
    JOIN
        brand                   br   
            ON br.brand_id     = bbsp.brand_id     -- NEW 
    JOIN
        
    WHERE
        spr.user_id = ? 
    ORDER BY
        spr.date DESC,
        b.branch_name ASC 
2025-11-23T11:49:49.216+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-11-23T11:49:49.245+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-1] p6spy                                    : #1763884189245 | took 17ms | statement | connection 2307| url jdbc:p6spy:postgresql://localhost:5433/testdb
SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,     -- NEW
    br.brand_name                     AS brandName    -- NEW
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id     -- NEW JOIN
WHERE spr.user_id = ?
ORDER BY spr.date DESC, b.branch_name ASC

SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,     -- NEW
    br.brand_name                     AS brandName    -- NEW
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id     -- NEW JOIN
WHERE spr.user_id = 1
ORDER BY spr.date DESC, b.branch_name ASC
;
2025-11-23T11:51:45.430+04:00 DEBUG 23528 --- [carservices] [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    SELECT
        spr.sparepartsrequest_id          AS sparePartsRequestId,
        spr.date                          AS date,
        b.branch_name                     AS branchName,
        b.address                         AS address,
        b.city                            AS city,
        spr.vin_number                    AS vin,
        sp.spareparts_type                AS sparepartsType,
        bbsp.state                        AS state,
        sprd.spare_part                   AS sparePart,
        sprd.class_type                   AS classType,
        sprd.qty                          AS qty,
        sprd.price                        AS price,
        c.manager_mobile                  AS managerMobile,
        bbsp.id                           AS id,
        spr.request_status                AS requestStatus,
        sprd.id                           AS detailId,
        br.brand_id                       AS brandId,
        -- NEW     br.brand_name                     AS brandName    -- NEW 
    FROM
        spare_parts_request spr 
    JOIN
        spare_parts             sp   
            ON sp.spareparts_id = spr.spareparts_id 
    JOIN
        branch_brand_spare_part bbsp 
            ON bbsp.branch_id = spr.branch_id 
    JOIN
        branch                  b    
            ON b.branch_id     = bbsp.branch_id 
    JOIN
        company                 c    
            ON c.company_id    = b.company_id 
    JOIN
        spare_parts_request_details sprd 
            ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id 
    JOIN
        brand                   br   
            ON br.brand_id     = bbsp.brand_id     -- NEW 
    JOIN
        
    WHERE
        spr.user_id = ? 
    ORDER BY
        spr.date DESC,
        b.branch_name ASC 
2025-11-23T11:51:45.449+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-11-23T11:51:45.466+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1763884305466 | took 14ms | statement | connection 2307| url jdbc:p6spy:postgresql://localhost:5433/testdb
SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,     -- NEW
    br.brand_name                     AS brandName    -- NEW
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id     -- NEW JOIN
WHERE spr.user_id = ?
ORDER BY spr.date DESC, b.branch_name ASC

SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,     -- NEW
    br.brand_name                     AS brandName    -- NEW
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id     -- NEW JOIN
WHERE spr.user_id = 1
ORDER BY spr.date DESC, b.branch_name ASC
;
2025-11-23T11:51:54.899+04:00 DEBUG 23528 --- [carservices] [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    SELECT
        spr.sparepartsrequest_id          AS sparePartsRequestId,
        spr.date                          AS date,
        b.branch_name                     AS branchName,
        b.address                         AS address,
        b.city                            AS city,
        spr.vin_number                    AS vin,
        sp.spareparts_type                AS sparepartsType,
        bbsp.state                        AS state,
        sprd.spare_part                   AS sparePart,
        sprd.class_type                   AS classType,
        sprd.qty                          AS qty,
        sprd.price                        AS price,
        c.manager_mobile                  AS managerMobile,
        bbsp.id                           AS id,
        spr.request_status                AS requestStatus,
        sprd.id                           AS detailId,
        br.brand_id                       AS brandId,
        br.brand_name                     AS brandName 
    FROM
        spare_parts_request spr 
    JOIN
        spare_parts             sp   
            ON sp.spareparts_id = spr.spareparts_id 
    JOIN
        branch_brand_spare_part bbsp 
            ON bbsp.branch_id = spr.branch_id 
    JOIN
        branch                  b    
            ON b.branch_id     = bbsp.branch_id 
    JOIN
        company                 c    
            ON c.company_id    = b.company_id 
    JOIN
        spare_parts_request_details sprd 
            ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id 
    JOIN
        brand                   br   
            ON br.brand_id     = bbsp.brand_id 
    WHERE
        b.branch_id = ? 
    ORDER BY
        spr.date DESC,
        b.branch_name ASC 
2025-11-23T11:51:54.901+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-8] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-11-23T11:51:54.905+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-8] p6spy                                    : #1763884314905 | took 3ms | statement | connection 2307| url jdbc:p6spy:postgresql://localhost:5433/testdb
SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,
    br.brand_name                     AS brandName
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id
WHERE b.branch_id = ?
ORDER BY spr.date DESC, b.branch_name ASC

SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,
    br.brand_name                     AS brandName
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id
WHERE b.branch_id = 1
ORDER BY spr.date DESC, b.branch_name ASC
;
2025-11-23T11:53:51.734+04:00 DEBUG 23528 --- [carservices] [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    SELECT
        spr.sparepartsrequest_id          AS sparePartsRequestId,
        spr.date                          AS date,
        b.branch_name                     AS branchName,
        b.address                         AS address,
        b.city                            AS city,
        spr.vin_number                    AS vin,
        sp.spareparts_type                AS sparepartsType,
        bbsp.state                        AS state,
        sprd.spare_part                   AS sparePart,
        sprd.class_type                   AS classType,
        sprd.qty                          AS qty,
        sprd.price                        AS price,
        c.manager_mobile                  AS managerMobile,
        bbsp.id                           AS id,
        spr.request_status                AS requestStatus,
        sprd.id                           AS detailId,
        br.brand_id                       AS brandId,
        -- NEW     br.brand_name                     AS brandName    -- NEW 
    FROM
        spare_parts_request spr 
    JOIN
        spare_parts             sp   
            ON sp.spareparts_id = spr.spareparts_id 
    JOIN
        branch_brand_spare_part bbsp 
            ON bbsp.branch_id = spr.branch_id 
    JOIN
        branch                  b    
            ON b.branch_id     = bbsp.branch_id 
    JOIN
        company                 c    
            ON c.company_id    = b.company_id 
    JOIN
        spare_parts_request_details sprd 
            ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id 
    JOIN
        brand                   br   
            ON br.brand_id     = bbsp.brand_id     -- NEW 
    JOIN
        
    WHERE
        spr.user_id = ? 
    ORDER BY
        spr.date DESC,
        b.branch_name ASC 
2025-11-23T11:53:51.739+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-11-23T11:53:51.748+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1763884431748 | took 7ms | statement | connection 2307| url jdbc:p6spy:postgresql://localhost:5433/testdb
SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,     -- NEW
    br.brand_name                     AS brandName    -- NEW
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id     -- NEW JOIN
WHERE spr.user_id = ?
ORDER BY spr.date DESC, b.branch_name ASC

SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,     -- NEW
    br.brand_name                     AS brandName    -- NEW
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id     -- NEW JOIN
WHERE spr.user_id = 1
ORDER BY spr.date DESC, b.branch_name ASC
;
2025-11-23T11:54:27.333+04:00 DEBUG 23528 --- [carservices] [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    SELECT
        spr.sparepartsrequest_id          AS sparePartsRequestId,
        spr.date                          AS date,
        b.branch_name                     AS branchName,
        b.address                         AS address,
        b.city                            AS city,
        spr.vin_number                    AS vin,
        sp.spareparts_type                AS sparepartsType,
        bbsp.state                        AS state,
        sprd.spare_part                   AS sparePart,
        sprd.class_type                   AS classType,
        sprd.qty                          AS qty,
        sprd.price                        AS price,
        c.manager_mobile                  AS managerMobile,
        bbsp.id                           AS id,
        spr.request_status                AS requestStatus,
        sprd.id                           AS detailId,
        br.brand_id                       AS brandId,
        -- NEW     br.brand_name                     AS brandName    -- NEW 
    FROM
        spare_parts_request spr 
    JOIN
        spare_parts             sp   
            ON sp.spareparts_id = spr.spareparts_id 
    JOIN
        branch_brand_spare_part bbsp 
            ON bbsp.branch_id = spr.branch_id 
    JOIN
        branch                  b    
            ON b.branch_id     = bbsp.branch_id 
    JOIN
        company                 c    
            ON c.company_id    = b.company_id 
    JOIN
        spare_parts_request_details sprd 
            ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id 
    JOIN
        brand                   br   
            ON br.brand_id     = bbsp.brand_id     -- NEW 
    JOIN
        
    WHERE
        spr.user_id = ? 
    ORDER BY
        spr.date DESC,
        b.branch_name ASC 
2025-11-23T11:54:27.355+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-11-23T11:54:27.364+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1763884467364 | took 8ms | statement | connection 2307| url jdbc:p6spy:postgresql://localhost:5433/testdb
SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,     -- NEW
    br.brand_name                     AS brandName    -- NEW
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id     -- NEW JOIN
WHERE spr.user_id = ?
ORDER BY spr.date DESC, b.branch_name ASC

SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,     -- NEW
    br.brand_name                     AS brandName    -- NEW
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id     -- NEW JOIN
WHERE spr.user_id = 1
ORDER BY spr.date DESC, b.branch_name ASC
;
2025-11-23T11:55:40.028+04:00 DEBUG 23528 --- [carservices] [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    SELECT
        spr.sparepartsrequest_id          AS sparePartsRequestId,
        spr.date                          AS date,
        b.branch_name                     AS branchName,
        b.address                         AS address,
        b.city                            AS city,
        spr.vin_number                    AS vin,
        sp.spareparts_type                AS sparepartsType,
        bbsp.state                        AS state,
        sprd.spare_part                   AS sparePart,
        sprd.class_type                   AS classType,
        sprd.qty                          AS qty,
        sprd.price                        AS price,
        c.manager_mobile                  AS managerMobile,
        bbsp.id                           AS id,
        spr.request_status                AS requestStatus,
        sprd.id                           AS detailId,
        br.brand_id                       AS brandId,
        -- NEW     br.brand_name                     AS brandName    -- NEW 
    FROM
        spare_parts_request spr 
    JOIN
        spare_parts             sp   
            ON sp.spareparts_id = spr.spareparts_id 
    JOIN
        branch_brand_spare_part bbsp 
            ON bbsp.branch_id = spr.branch_id 
    JOIN
        branch                  b    
            ON b.branch_id     = bbsp.branch_id 
    JOIN
        company                 c    
            ON c.company_id    = b.company_id 
    JOIN
        spare_parts_request_details sprd 
            ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id 
    JOIN
        brand                   br   
            ON br.brand_id     = bbsp.brand_id     -- NEW 
    JOIN
        
    WHERE
        spr.user_id = ? 
    ORDER BY
        spr.date DESC,
        b.branch_name ASC 
2025-11-23T11:55:40.032+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-11-23T11:55:40.042+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-1] p6spy                                    : #1763884540042 | took 8ms | statement | connection 2307| url jdbc:p6spy:postgresql://localhost:5433/testdb
SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,     -- NEW
    br.brand_name                     AS brandName    -- NEW
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id     -- NEW JOIN
WHERE spr.user_id = ?
ORDER BY spr.date DESC, b.branch_name ASC

SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,     -- NEW
    br.brand_name                     AS brandName    -- NEW
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id     -- NEW JOIN
WHERE spr.user_id = 1
ORDER BY spr.date DESC, b.branch_name ASC
;
2025-11-23T11:56:01.923+04:00 DEBUG 23528 --- [carservices] [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    SELECT
        spr.sparepartsrequest_id          AS sparePartsRequestId,
        spr.date                          AS date,
        b.branch_name                     AS branchName,
        b.address                         AS address,
        b.city                            AS city,
        spr.vin_number                    AS vin,
        sp.spareparts_type                AS sparepartsType,
        bbsp.state                        AS state,
        sprd.spare_part                   AS sparePart,
        sprd.class_type                   AS classType,
        sprd.qty                          AS qty,
        sprd.price                        AS price,
        c.manager_mobile                  AS managerMobile,
        bbsp.id                           AS id,
        spr.request_status                AS requestStatus,
        sprd.id                           AS detailId,
        br.brand_id                       AS brandId,
        -- NEW     br.brand_name                     AS brandName    -- NEW 
    FROM
        spare_parts_request spr 
    JOIN
        spare_parts             sp   
            ON sp.spareparts_id = spr.spareparts_id 
    JOIN
        branch_brand_spare_part bbsp 
            ON bbsp.branch_id = spr.branch_id 
    JOIN
        branch                  b    
            ON b.branch_id     = bbsp.branch_id 
    JOIN
        company                 c    
            ON c.company_id    = b.company_id 
    JOIN
        spare_parts_request_details sprd 
            ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id 
    JOIN
        brand                   br   
            ON br.brand_id     = bbsp.brand_id     -- NEW 
    JOIN
        
    WHERE
        spr.user_id = ? 
    ORDER BY
        spr.date DESC,
        b.branch_name ASC 
2025-11-23T11:56:01.925+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-11-23T11:56:01.930+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1763884561930 | took 3ms | statement | connection 2307| url jdbc:p6spy:postgresql://localhost:5433/testdb
SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,     -- NEW
    br.brand_name                     AS brandName    -- NEW
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id     -- NEW JOIN
WHERE spr.user_id = ?
ORDER BY spr.date DESC, b.branch_name ASC

SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,     -- NEW
    br.brand_name                     AS brandName    -- NEW
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id     -- NEW JOIN
WHERE spr.user_id = 1
ORDER BY spr.date DESC, b.branch_name ASC
;
2025-11-23T11:57:48.833+04:00 DEBUG 23528 --- [carservices] [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    SELECT
        spr.sparepartsrequest_id          AS sparePartsRequestId,
        spr.date                          AS date,
        b.branch_name                     AS branchName,
        b.address                         AS address,
        b.city                            AS city,
        spr.vin_number                    AS vin,
        sp.spareparts_type                AS sparepartsType,
        bbsp.state                        AS state,
        sprd.spare_part                   AS sparePart,
        sprd.class_type                   AS classType,
        sprd.qty                          AS qty,
        sprd.price                        AS price,
        c.manager_mobile                  AS managerMobile,
        bbsp.id                           AS id,
        spr.request_status                AS requestStatus,
        sprd.id                           AS detailId,
        br.brand_id                       AS brandId,
        -- NEW     br.brand_name                     AS brandName    -- NEW 
    FROM
        spare_parts_request spr 
    JOIN
        spare_parts             sp   
            ON sp.spareparts_id = spr.spareparts_id 
    JOIN
        branch_brand_spare_part bbsp 
            ON bbsp.branch_id = spr.branch_id 
    JOIN
        branch                  b    
            ON b.branch_id     = bbsp.branch_id 
    JOIN
        company                 c    
            ON c.company_id    = b.company_id 
    JOIN
        spare_parts_request_details sprd 
            ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id 
    JOIN
        brand                   br   
            ON br.brand_id     = bbsp.brand_id     -- NEW 
    JOIN
        
    WHERE
        spr.user_id = ? 
    ORDER BY
        spr.date DESC,
        b.branch_name ASC 
2025-11-23T11:57:48.852+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-11-23T11:57:48.866+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-9] p6spy                                    : #1763884668866 | took 9ms | statement | connection 2307| url jdbc:p6spy:postgresql://localhost:5433/testdb
SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,     -- NEW
    br.brand_name                     AS brandName    -- NEW
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id     -- NEW JOIN
WHERE spr.user_id = ?
ORDER BY spr.date DESC, b.branch_name ASC

SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,     -- NEW
    br.brand_name                     AS brandName    -- NEW
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id     -- NEW JOIN
WHERE spr.user_id = 1
ORDER BY spr.date DESC, b.branch_name ASC
;
2025-11-23T11:57:57.304+04:00 DEBUG 23528 --- [carservices] [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    SELECT
        spr.sparepartsrequest_id          AS sparePartsRequestId,
        spr.date                          AS date,
        b.branch_name                     AS branchName,
        b.address                         AS address,
        b.city                            AS city,
        spr.vin_number                    AS vin,
        sp.spareparts_type                AS sparepartsType,
        bbsp.state                        AS state,
        sprd.spare_part                   AS sparePart,
        sprd.class_type                   AS classType,
        sprd.qty                          AS qty,
        sprd.price                        AS price,
        c.manager_mobile                  AS managerMobile,
        bbsp.id                           AS id,
        spr.request_status                AS requestStatus,
        sprd.id                           AS detailId,
        br.brand_id                       AS brandId,
        br.brand_name                     AS brandName 
    FROM
        spare_parts_request spr 
    JOIN
        spare_parts             sp   
            ON sp.spareparts_id = spr.spareparts_id 
    JOIN
        branch_brand_spare_part bbsp 
            ON bbsp.branch_id = spr.branch_id 
    JOIN
        branch                  b    
            ON b.branch_id     = bbsp.branch_id 
    JOIN
        company                 c    
            ON c.company_id    = b.company_id 
    JOIN
        spare_parts_request_details sprd 
            ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id 
    JOIN
        brand                   br   
            ON br.brand_id     = bbsp.brand_id 
    WHERE
        b.branch_id = ? 
    ORDER BY
        spr.date DESC,
        b.branch_name ASC 
2025-11-23T11:57:57.314+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-11-23T11:57:57.330+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1763884677330 | took 10ms | statement | connection 2307| url jdbc:p6spy:postgresql://localhost:5433/testdb
SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,
    br.brand_name                     AS brandName
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id
WHERE b.branch_id = ?
ORDER BY spr.date DESC, b.branch_name ASC

SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,
    br.brand_name                     AS brandName
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id
WHERE b.branch_id = 1
ORDER BY spr.date DESC, b.branch_name ASC
;
2025-11-23T12:03:00.571+04:00 DEBUG 23528 --- [carservices] [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    SELECT
        spr.sparepartsrequest_id          AS sparePartsRequestId,
        spr.date                          AS date,
        b.branch_name                     AS branchName,
        b.address                         AS address,
        b.city                            AS city,
        spr.vin_number                    AS vin,
        sp.spareparts_type                AS sparepartsType,
        bbsp.state                        AS state,
        sprd.spare_part                   AS sparePart,
        sprd.class_type                   AS classType,
        sprd.qty                          AS qty,
        sprd.price                        AS price,
        c.manager_mobile                  AS managerMobile,
        bbsp.id                           AS id,
        spr.request_status                AS requestStatus,
        sprd.id                           AS detailId,
        br.brand_id                       AS brandId,
        -- NEW     br.brand_name                     AS brandName    -- NEW 
    FROM
        spare_parts_request spr 
    JOIN
        spare_parts             sp   
            ON sp.spareparts_id = spr.spareparts_id 
    JOIN
        branch_brand_spare_part bbsp 
            ON bbsp.branch_id = spr.branch_id 
    JOIN
        branch                  b    
            ON b.branch_id     = bbsp.branch_id 
    JOIN
        company                 c    
            ON c.company_id    = b.company_id 
    JOIN
        spare_parts_request_details sprd 
            ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id 
    JOIN
        brand                   br   
            ON br.brand_id     = bbsp.brand_id     -- NEW 
    JOIN
        
    WHERE
        spr.user_id = ? 
    ORDER BY
        spr.date DESC,
        b.branch_name ASC 
2025-11-23T12:03:00.585+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-3] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-11-23T12:03:00.599+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-3] p6spy                                    : #1763884980599 | took 9ms | statement | connection 2307| url jdbc:p6spy:postgresql://localhost:5433/testdb
SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,     -- NEW
    br.brand_name                     AS brandName    -- NEW
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id     -- NEW JOIN
WHERE spr.user_id = ?
ORDER BY spr.date DESC, b.branch_name ASC

SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,     -- NEW
    br.brand_name                     AS brandName    -- NEW
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id     -- NEW JOIN
WHERE spr.user_id = 1
ORDER BY spr.date DESC, b.branch_name ASC
;
2025-11-23T12:03:13.951+04:00 DEBUG 23528 --- [carservices] [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        sprd1_0.id,
        sprd1_0.class_type,
        sprd1_0.price,
        sprd1_0.qty,
        sprd1_0.spare_part,
        sprd1_0.sparepartsrequest_id 
    from
        spare_parts_request_details sprd1_0 
    where
        sprd1_0.id=?
2025-11-23T12:03:13.955+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-4] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [9]
2025-11-23T12:03:13.965+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1763884993965 | took 9ms | statement | connection 2307| url jdbc:p6spy:postgresql://localhost:5433/testdb
select sprd1_0.id,sprd1_0.class_type,sprd1_0.price,sprd1_0.qty,sprd1_0.spare_part,sprd1_0.sparepartsrequest_id from spare_parts_request_details sprd1_0 where sprd1_0.id=?
select sprd1_0.id,sprd1_0.class_type,sprd1_0.price,sprd1_0.qty,sprd1_0.spare_part,sprd1_0.sparepartsrequest_id from spare_parts_request_details sprd1_0 where sprd1_0.id=9;
2025-11-23T12:03:14.016+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-4] p6spy                                    : #1763884994016 | took 2ms | commit | connection 2307| url jdbc:p6spy:postgresql://localhost:5433/testdb

;
2025-11-23T12:03:14.030+04:00 DEBUG 23528 --- [carservices] [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    SELECT
        spr.sparepartsrequest_id          AS sparePartsRequestId,
        spr.date                          AS date,
        b.branch_name                     AS branchName,
        b.address                         AS address,
        b.city                            AS city,
        spr.vin_number                    AS vin,
        sp.spareparts_type                AS sparepartsType,
        bbsp.state                        AS state,
        sprd.spare_part                   AS sparePart,
        sprd.class_type                   AS classType,
        sprd.qty                          AS qty,
        sprd.price                        AS price,
        c.manager_mobile                  AS managerMobile,
        bbsp.id                           AS id,
        spr.request_status                AS requestStatus,
        sprd.id                           AS detailId,
        br.brand_id                       AS brandId,
        -- NEW     br.brand_name                     AS brandName    -- NEW 
    FROM
        spare_parts_request spr 
    JOIN
        spare_parts             sp   
            ON sp.spareparts_id = spr.spareparts_id 
    JOIN
        branch_brand_spare_part bbsp 
            ON bbsp.branch_id = spr.branch_id 
    JOIN
        branch                  b    
            ON b.branch_id     = bbsp.branch_id 
    JOIN
        company                 c    
            ON c.company_id    = b.company_id 
    JOIN
        spare_parts_request_details sprd 
            ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id 
    JOIN
        brand                   br   
            ON br.brand_id     = bbsp.brand_id     -- NEW 
    JOIN
        
    WHERE
        spr.user_id = ? 
    ORDER BY
        spr.date DESC,
        b.branch_name ASC 
2025-11-23T12:03:14.031+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-11-23T12:03:14.034+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1763884994034 | took 2ms | statement | connection 2307| url jdbc:p6spy:postgresql://localhost:5433/testdb
SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,     -- NEW
    br.brand_name                     AS brandName    -- NEW
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id     -- NEW JOIN
WHERE spr.user_id = ?
ORDER BY spr.date DESC, b.branch_name ASC

SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,     -- NEW
    br.brand_name                     AS brandName    -- NEW
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id     -- NEW JOIN
WHERE spr.user_id = 1
ORDER BY spr.date DESC, b.branch_name ASC
;
2025-11-23T12:05:04.525+04:00 DEBUG 23528 --- [carservices] [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    SELECT
        spr.sparepartsrequest_id          AS sparePartsRequestId,
        spr.date                          AS date,
        b.branch_name                     AS branchName,
        b.address                         AS address,
        b.city                            AS city,
        spr.vin_number                    AS vin,
        sp.spareparts_type                AS sparepartsType,
        bbsp.state                        AS state,
        sprd.spare_part                   AS sparePart,
        sprd.class_type                   AS classType,
        sprd.qty                          AS qty,
        sprd.price                        AS price,
        c.manager_mobile                  AS managerMobile,
        bbsp.id                           AS id,
        spr.request_status                AS requestStatus,
        sprd.id                           AS detailId,
        br.brand_id                       AS brandId,
        br.brand_name                     AS brandName 
    FROM
        spare_parts_request spr 
    JOIN
        spare_parts             sp   
            ON sp.spareparts_id = spr.spareparts_id 
    JOIN
        branch_brand_spare_part bbsp 
            ON bbsp.branch_id = spr.branch_id 
    JOIN
        branch                  b    
            ON b.branch_id     = bbsp.branch_id 
    JOIN
        company                 c    
            ON c.company_id    = b.company_id 
    JOIN
        spare_parts_request_details sprd 
            ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id 
    JOIN
        brand                   br   
            ON br.brand_id     = bbsp.brand_id 
    WHERE
        b.branch_id = ? 
    ORDER BY
        spr.date DESC,
        b.branch_name ASC 
2025-11-23T12:05:04.526+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-9] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-11-23T12:05:04.529+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-9] p6spy                                    : #1763885104529 | took 1ms | statement | connection 2307| url jdbc:p6spy:postgresql://localhost:5433/testdb
SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,
    br.brand_name                     AS brandName
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id
WHERE b.branch_id = ?
ORDER BY spr.date DESC, b.branch_name ASC

SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,
    br.brand_name                     AS brandName
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id
WHERE b.branch_id = 1
ORDER BY spr.date DESC, b.branch_name ASC
;
2025-11-23T12:05:52.095+04:00 DEBUG 23528 --- [carservices] [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    SELECT
        spr.sparepartsrequest_id          AS sparePartsRequestId,
        spr.date                          AS date,
        b.branch_name                     AS branchName,
        b.address                         AS address,
        b.city                            AS city,
        spr.vin_number                    AS vin,
        sp.spareparts_type                AS sparepartsType,
        bbsp.state                        AS state,
        sprd.spare_part                   AS sparePart,
        sprd.class_type                   AS classType,
        sprd.qty                          AS qty,
        sprd.price                        AS price,
        c.manager_mobile                  AS managerMobile,
        bbsp.id                           AS id,
        spr.request_status                AS requestStatus,
        sprd.id                           AS detailId,
        br.brand_id                       AS brandId,
        -- NEW     br.brand_name                     AS brandName    -- NEW 
    FROM
        spare_parts_request spr 
    JOIN
        spare_parts             sp   
            ON sp.spareparts_id = spr.spareparts_id 
    JOIN
        branch_brand_spare_part bbsp 
            ON bbsp.branch_id = spr.branch_id 
    JOIN
        branch                  b    
            ON b.branch_id     = bbsp.branch_id 
    JOIN
        company                 c    
            ON c.company_id    = b.company_id 
    JOIN
        spare_parts_request_details sprd 
            ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id 
    JOIN
        brand                   br   
            ON br.brand_id     = bbsp.brand_id     -- NEW 
    JOIN
        
    WHERE
        spr.user_id = ? 
    ORDER BY
        spr.date DESC,
        b.branch_name ASC 
2025-11-23T12:05:52.096+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-6] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-11-23T12:05:52.098+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-6] p6spy                                    : #1763885152098 | took 0ms | statement | connection 2307| url jdbc:p6spy:postgresql://localhost:5433/testdb
SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,     -- NEW
    br.brand_name                     AS brandName    -- NEW
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id     -- NEW JOIN
WHERE spr.user_id = ?
ORDER BY spr.date DESC, b.branch_name ASC

SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,     -- NEW
    br.brand_name                     AS brandName    -- NEW
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id     -- NEW JOIN
WHERE spr.user_id = 1
ORDER BY spr.date DESC, b.branch_name ASC
;
2025-11-23T12:06:01.325+04:00 DEBUG 23528 --- [carservices] [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        sprd1_0.id,
        sprd1_0.class_type,
        sprd1_0.price,
        sprd1_0.qty,
        sprd1_0.spare_part,
        sprd1_0.sparepartsrequest_id 
    from
        spare_parts_request_details sprd1_0 
    where
        sprd1_0.id=?
2025-11-23T12:06:01.325+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-2] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [9]
2025-11-23T12:06:01.327+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1763885161327 | took 0ms | statement | connection 2307| url jdbc:p6spy:postgresql://localhost:5433/testdb
select sprd1_0.id,sprd1_0.class_type,sprd1_0.price,sprd1_0.qty,sprd1_0.spare_part,sprd1_0.sparepartsrequest_id from spare_parts_request_details sprd1_0 where sprd1_0.id=?
select sprd1_0.id,sprd1_0.class_type,sprd1_0.price,sprd1_0.qty,sprd1_0.spare_part,sprd1_0.sparepartsrequest_id from spare_parts_request_details sprd1_0 where sprd1_0.id=9;
2025-11-23T12:06:01.330+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-2] p6spy                                    : #1763885161330 | took 0ms | commit | connection 2307| url jdbc:p6spy:postgresql://localhost:5433/testdb

;
2025-11-23T12:06:01.357+04:00 DEBUG 23528 --- [carservices] [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    SELECT
        spr.sparepartsrequest_id          AS sparePartsRequestId,
        spr.date                          AS date,
        b.branch_name                     AS branchName,
        b.address                         AS address,
        b.city                            AS city,
        spr.vin_number                    AS vin,
        sp.spareparts_type                AS sparepartsType,
        bbsp.state                        AS state,
        sprd.spare_part                   AS sparePart,
        sprd.class_type                   AS classType,
        sprd.qty                          AS qty,
        sprd.price                        AS price,
        c.manager_mobile                  AS managerMobile,
        bbsp.id                           AS id,
        spr.request_status                AS requestStatus,
        sprd.id                           AS detailId,
        br.brand_id                       AS brandId,
        -- NEW     br.brand_name                     AS brandName    -- NEW 
    FROM
        spare_parts_request spr 
    JOIN
        spare_parts             sp   
            ON sp.spareparts_id = spr.spareparts_id 
    JOIN
        branch_brand_spare_part bbsp 
            ON bbsp.branch_id = spr.branch_id 
    JOIN
        branch                  b    
            ON b.branch_id     = bbsp.branch_id 
    JOIN
        company                 c    
            ON c.company_id    = b.company_id 
    JOIN
        spare_parts_request_details sprd 
            ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id 
    JOIN
        brand                   br   
            ON br.brand_id     = bbsp.brand_id     -- NEW 
    JOIN
        
    WHERE
        spr.user_id = ? 
    ORDER BY
        spr.date DESC,
        b.branch_name ASC 
2025-11-23T12:06:01.365+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-7] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-11-23T12:06:01.368+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-7] p6spy                                    : #1763885161368 | took 0ms | statement | connection 2307| url jdbc:p6spy:postgresql://localhost:5433/testdb
SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,     -- NEW
    br.brand_name                     AS brandName    -- NEW
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id     -- NEW JOIN
WHERE spr.user_id = ?
ORDER BY spr.date DESC, b.branch_name ASC

SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,     -- NEW
    br.brand_name                     AS brandName    -- NEW
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id     -- NEW JOIN
WHERE spr.user_id = 1
ORDER BY spr.date DESC, b.branch_name ASC
;
2025-11-23T12:07:25.692+04:00 DEBUG 23528 --- [carservices] [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    SELECT
        spr.sparepartsrequest_id          AS sparePartsRequestId,
        spr.date                          AS date,
        b.branch_name                     AS branchName,
        b.address                         AS address,
        b.city                            AS city,
        spr.vin_number                    AS vin,
        sp.spareparts_type                AS sparepartsType,
        bbsp.state                        AS state,
        sprd.spare_part                   AS sparePart,
        sprd.class_type                   AS classType,
        sprd.qty                          AS qty,
        sprd.price                        AS price,
        c.manager_mobile                  AS managerMobile,
        bbsp.id                           AS id,
        spr.request_status                AS requestStatus,
        sprd.id                           AS detailId,
        br.brand_id                       AS brandId,
        -- NEW     br.brand_name                     AS brandName    -- NEW 
    FROM
        spare_parts_request spr 
    JOIN
        spare_parts             sp   
            ON sp.spareparts_id = spr.spareparts_id 
    JOIN
        branch_brand_spare_part bbsp 
            ON bbsp.branch_id = spr.branch_id 
    JOIN
        branch                  b    
            ON b.branch_id     = bbsp.branch_id 
    JOIN
        company                 c    
            ON c.company_id    = b.company_id 
    JOIN
        spare_parts_request_details sprd 
            ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id 
    JOIN
        brand                   br   
            ON br.brand_id     = bbsp.brand_id     -- NEW 
    JOIN
        
    WHERE
        spr.user_id = ? 
    ORDER BY
        spr.date DESC,
        b.branch_name ASC 
2025-11-23T12:07:25.692+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-11-23T12:07:25.695+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-1] p6spy                                    : #1763885245695 | took 1ms | statement | connection 2307| url jdbc:p6spy:postgresql://localhost:5433/testdb
SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,     -- NEW
    br.brand_name                     AS brandName    -- NEW
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id     -- NEW JOIN
WHERE spr.user_id = ?
ORDER BY spr.date DESC, b.branch_name ASC

SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,     -- NEW
    br.brand_name                     AS brandName    -- NEW
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id     -- NEW JOIN
WHERE spr.user_id = 1
ORDER BY spr.date DESC, b.branch_name ASC
;
2025-11-23T12:07:37.609+04:00 DEBUG 23528 --- [carservices] [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        spr1_0.sparepartsrequest_id,
        spr1_0.branch_id,
        spr1_0.date,
        spr1_0.request_status,
        spr1_0.spareparts_id,
        spr1_0.user_id,
        spr1_0.vin_number 
    from
        spare_parts_request spr1_0 
    where
        spr1_0.sparepartsrequest_id=?
2025-11-23T12:07:37.610+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [9]
2025-11-23T12:07:37.615+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1763885257615 | took 4ms | statement | connection 2307| url jdbc:p6spy:postgresql://localhost:5433/testdb
select spr1_0.sparepartsrequest_id,spr1_0.branch_id,spr1_0.date,spr1_0.request_status,spr1_0.spareparts_id,spr1_0.user_id,spr1_0.vin_number from spare_parts_request spr1_0 where spr1_0.sparepartsrequest_id=?
select spr1_0.sparepartsrequest_id,spr1_0.branch_id,spr1_0.date,spr1_0.request_status,spr1_0.spareparts_id,spr1_0.user_id,spr1_0.vin_number from spare_parts_request spr1_0 where spr1_0.sparepartsrequest_id=9;
2025-11-23T12:07:37.619+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1763885257619 | took 0ms | commit | connection 2307| url jdbc:p6spy:postgresql://localhost:5433/testdb

;
2025-11-23T12:07:37.687+04:00 DEBUG 23528 --- [carservices] [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    update
        spare_parts_request 
    set
        branch_id=?,
        date=?,
        request_status=?,
        spareparts_id=?,
        user_id=?,
        vin_number=? 
    where
        sparepartsrequest_id=?
2025-11-23T12:07:37.693+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [null]
2025-11-23T12:07:37.695+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (2:VARCHAR) <- [null]
2025-11-23T12:07:37.695+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (3:VARCHAR) <- [null]
2025-11-23T12:07:37.695+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (4:BIGINT) <- [null]
2025-11-23T12:07:37.695+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (5:BIGINT) <- [null]
2025-11-23T12:07:37.695+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (6:VARCHAR) <- [null]
2025-11-23T12:07:37.695+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-5] org.hibernate.orm.jdbc.bind              : binding parameter (7:BIGINT) <- [9]
2025-11-23T12:07:37.706+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1763885257706 | took 8ms | statement | connection 2307| url jdbc:p6spy:postgresql://localhost:5433/testdb
update spare_parts_request set branch_id=?,date=?,request_status=?,spareparts_id=?,user_id=?,vin_number=? where sparepartsrequest_id=?
update spare_parts_request set branch_id=NULL,date=NULL,request_status=NULL,spareparts_id=NULL,user_id=NULL,vin_number=NULL where sparepartsrequest_id=9;
2025-11-23T12:07:37.711+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-5] p6spy                                    : #1763885257711 | took 1ms | commit | connection 2307| url jdbc:p6spy:postgresql://localhost:5433/testdb

;
2025-11-23T12:20:12.260+04:00 DEBUG 23528 --- [carservices] [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    SELECT
        spr.sparepartsrequest_id          AS sparePartsRequestId,
        spr.date                          AS date,
        b.branch_name                     AS branchName,
        b.address                         AS address,
        b.city                            AS city,
        spr.vin_number                    AS vin,
        sp.spareparts_type                AS sparepartsType,
        bbsp.state                        AS state,
        sprd.spare_part                   AS sparePart,
        sprd.class_type                   AS classType,
        sprd.qty                          AS qty,
        sprd.price                        AS price,
        c.manager_mobile                  AS managerMobile,
        bbsp.id                           AS id,
        spr.request_status                AS requestStatus,
        sprd.id                           AS detailId,
        br.brand_id                       AS brandId,
        br.brand_name                     AS brandName 
    FROM
        spare_parts_request spr 
    JOIN
        spare_parts             sp   
            ON sp.spareparts_id = spr.spareparts_id 
    JOIN
        branch_brand_spare_part bbsp 
            ON bbsp.branch_id = spr.branch_id 
    JOIN
        branch                  b    
            ON b.branch_id     = bbsp.branch_id 
    JOIN
        company                 c    
            ON c.company_id    = b.company_id 
    JOIN
        spare_parts_request_details sprd 
            ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id 
    JOIN
        brand                   br   
            ON br.brand_id     = bbsp.brand_id 
    WHERE
        b.branch_id = ? 
    ORDER BY
        spr.date DESC,
        b.branch_name ASC 
2025-11-23T12:20:12.282+04:00 TRACE 23528 --- [carservices] [http-nio-8081-exec-6] org.hibernate.orm.jdbc.bind              : binding parameter (1:BIGINT) <- [1]
2025-11-23T12:20:12.544+04:00  INFO 23528 --- [carservices] [http-nio-8081-exec-6] p6spy                                    : #1763886012544 | took 262ms | statement | connection 2317| url jdbc:p6spy:postgresql://localhost:5433/testdb
SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,
    br.brand_name                     AS brandName
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id
WHERE b.branch_id = ?
ORDER BY spr.date DESC, b.branch_name ASC

SELECT
    spr.sparepartsrequest_id          AS sparePartsRequestId,
    spr.date                          AS date,
    b.branch_name                     AS branchName,
    b.address                         AS address,
    b.city                            AS city,
    spr.vin_number                    AS vin,
    sp.spareparts_type                AS sparepartsType,
    bbsp.state                        AS state,
    sprd.spare_part                   AS sparePart,
    sprd.class_type                   AS classType,
    sprd.qty                          AS qty,
    sprd.price                        AS price,
    c.manager_mobile                  AS managerMobile,
    bbsp.id                           AS id,
    spr.request_status                AS requestStatus,
    sprd.id                           AS detailId,
    br.brand_id                       AS brandId,
    br.brand_name                     AS brandName
FROM spare_parts_request spr
JOIN spare_parts             sp   ON sp.spareparts_id = spr.spareparts_id
JOIN branch_brand_spare_part bbsp ON bbsp.branch_id = spr.branch_id
JOIN branch                  b    ON b.branch_id     = bbsp.branch_id
JOIN company                 c    ON c.company_id    = b.company_id
JOIN spare_parts_request_details sprd ON sprd.sparepartsrequest_id = spr.sparepartsrequest_id
JOIN brand                   br   ON br.brand_id     = bbsp.brand_id
WHERE b.branch_id = 1
ORDER BY spr.date DESC, b.branch_name ASC
;
2025-11-23T12:57:19.802+04:00  INFO 23528 --- [carservices] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-11-23T12:57:20.012+04:00  INFO 23528 --- [carservices] [Thread-372] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-23T12:57:20.083+04:00  INFO 23528 --- [carservices] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-23T12:57:20.161+04:00  INFO 23528 --- [carservices] [Thread-372] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-23T12:57:20.277+04:00  INFO 23528 --- [carservices] [Thread-372] com.zaxxer.hikari.HikariDataSource       : HikariPool-91 - Shutdown initiated...
2025-11-23T12:57:20.317+04:00  INFO 23528 --- [carservices] [Thread-372] com.zaxxer.hikari.HikariDataSource       : HikariPool-91 - Shutdown completed.
2025-11-23T12:57:21.405+04:00  INFO 23528 --- [carservices] [restartedMain] c.c.carservices.CarservicesApplication   : Starting CarservicesApplication using Java 21.0.7 with PID 23528 (C:\Grand BackUp\Sheikh-2\Private\Sheikhkashifiqbal\temp\Spare Parts Project\SpringBoot\car-dev-1\carservices\target\classes started by lenovo in C:\Grand BackUp\Sheikh-2\Private\Sheikhkashifiqbal\temp\Spare Parts Project\SpringBoot\car-dev-1\carservices)
2025-11-23T12:57:21.406+04:00  INFO 23528 --- [carservices] [restartedMain] c.c.carservices.CarservicesApplication   : No active profile set, falling back to 1 default profile: "default"
2025-11-23T12:57:22.889+04:00  INFO 23528 --- [carservices] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-23T12:57:23.169+04:00  INFO 23528 --- [carservices] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 278 ms. Found 36 JPA repository interfaces.
2025-11-23T12:57:23.739+04:00  INFO 23528 --- [carservices] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-11-23T12:57:23.748+04:00  INFO 23528 --- [carservices] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-23T12:57:23.750+04:00  INFO 23528 --- [carservices] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-11-23T12:57:23.803+04:00  INFO 23528 --- [carservices] [restartedMain] o.a.c.c.C.[Tomcat-19].[localhost].[/]    : Initializing Spring embedded WebApplicationContext
2025-11-23T12:57:23.804+04:00  INFO 23528 --- [carservices] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2389 ms
2025-11-23T12:57:24.015+04:00  INFO 23528 --- [carservices] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-23T12:57:24.027+04:00  INFO 23528 --- [carservices] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-11-23T12:57:24.082+04:00  INFO 23528 --- [carservices] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-23T12:57:24.091+04:00  INFO 23528 --- [carservices] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-92 - Starting...
2025-11-23T12:57:24.209+04:00  INFO 23528 --- [carservices] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-92 - Added connection com.p6spy.engine.wrapper.ConnectionWrapper@31270045
2025-11-23T12:57:24.209+04:00  INFO 23528 --- [carservices] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-92 - Start completed.
2025-11-23T12:57:24.244+04:00  WARN 23528 --- [carservices] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-23T12:57:24.247+04:00  INFO 23528 --- [carservices] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-92)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-23T12:57:25.073+04:00  INFO 23528 --- [carservices] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-23T12:57:25.105+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763888245105 | took 29ms | statement | connection 2337| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from information_schema.sequences
select * from information_schema.sequences;
2025-11-23T12:57:25.190+04:00  INFO 23528 --- [carservices] [restartedMain] t.s.e.i.AbstractInformationExtractorImpl : HHH000475: Cannot locate column information using identifier [lower((manager_email)::text)]; ignoring index [ux_company_manager_email]
2025-11-23T12:57:25.191+04:00 DEBUG 23528 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       drop constraint if exists ux_company_company_name_ci
2025-11-23T12:57:25.201+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763888245201 | took 8ms | statement | connection 2337| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       drop constraint if exists ux_company_company_name_ci

    alter table if exists company 
       drop constraint if exists ux_company_company_name_ci;
2025-11-23T12:57:25.201+04:00  WARN 23528 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2025-11-23T12:57:25.201+04:00  WARN 23528 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "ux_company_company_name_ci" of relation "company" does not exist, skipping
2025-11-23T12:57:25.202+04:00 DEBUG 23528 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       add constraint ux_company_company_name_ci unique (company_name)
2025-11-23T12:57:25.247+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763888245247 | took 44ms | statement | connection 2337| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       add constraint ux_company_company_name_ci unique (company_name)

    alter table if exists company 
       add constraint ux_company_company_name_ci unique (company_name);
2025-11-23T12:57:25.248+04:00 DEBUG 23528 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       drop constraint if exists ux_company_brand_name_ci
2025-11-23T12:57:25.250+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763888245250 | took 0ms | statement | connection 2337| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       drop constraint if exists ux_company_brand_name_ci

    alter table if exists company 
       drop constraint if exists ux_company_brand_name_ci;
2025-11-23T12:57:25.250+04:00  WARN 23528 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2025-11-23T12:57:25.250+04:00  WARN 23528 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "ux_company_brand_name_ci" of relation "company" does not exist, skipping
2025-11-23T12:57:25.250+04:00 DEBUG 23528 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       add constraint ux_company_brand_name_ci unique (brand_name)
2025-11-23T12:57:25.255+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763888245255 | took 3ms | statement | connection 2337| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       add constraint ux_company_brand_name_ci unique (brand_name)

    alter table if exists company 
       add constraint ux_company_brand_name_ci unique (brand_name);
2025-11-23T12:57:25.386+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763888245386 | took 3ms | statement | connection 2337| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."company" where 1=0
select * from "public"."company" where 1=0;
2025-11-23T12:57:25.503+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763888245503 | took 3ms | statement | connection 2337| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."branch" where 1=0
select * from "public"."branch" where 1=0;
2025-11-23T12:57:25.509+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763888245509 | took 2ms | statement | connection 2337| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-11-23T12:57:25.519+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763888245519 | took 4ms | statement | connection 2337| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."service_entity" where 1=0
select * from "public"."service_entity" where 1=0;
2025-11-23T12:57:25.622+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763888245622 | took 0ms | statement | connection 2337| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."branch" where 1=0
select * from "public"."branch" where 1=0;
2025-11-23T12:57:25.625+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763888245625 | took 0ms | statement | connection 2337| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-11-23T12:57:25.629+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763888245629 | took 2ms | statement | connection 2337| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."spare_parts" where 1=0
select * from "public"."spare_parts" where 1=0;
2025-11-23T12:57:25.737+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763888245737 | took 0ms | statement | connection 2337| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-11-23T12:57:25.839+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763888245839 | took 0ms | statement | connection 2337| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-11-23T12:57:25.851+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763888245851 | took 9ms | statement | connection 2337| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."user_registration" where 1=0
select * from "public"."user_registration" where 1=0;
2025-11-23T12:57:25.961+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763888245961 | took 0ms | statement | connection 2337| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."spare_parts" where 1=0
select * from "public"."spare_parts" where 1=0;
2025-11-23T12:57:26.130+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763888246130 | took 2ms | statement | connection 2337| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."problem" where 1=0
select * from "public"."problem" where 1=0;
2025-11-23T12:57:26.222+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763888246222 | took 0ms | statement | connection 2337| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."branch" where 1=0
select * from "public"."branch" where 1=0;
2025-11-23T12:57:26.222+04:00  INFO 23528 --- [carservices] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-23T12:57:27.805+04:00  WARN 23528 --- [carservices] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-23T12:57:28.347+04:00  INFO 23528 --- [carservices] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-11-23T12:57:28.378+04:00  INFO 23528 --- [carservices] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2025-11-23T12:57:28.389+04:00  INFO 23528 --- [carservices] [restartedMain] c.c.carservices.CarservicesApplication   : Started CarservicesApplication in 7.197 seconds (process running for 526286.411)
2025-11-23T12:57:28.396+04:00  INFO 23528 --- [carservices] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-11-23T12:57:30.128+04:00  INFO 23528 --- [carservices] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-11-23T12:57:30.132+04:00  INFO 23528 --- [carservices] [Thread-376] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-23T12:57:30.137+04:00  INFO 23528 --- [carservices] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-23T12:57:30.142+04:00  INFO 23528 --- [carservices] [Thread-376] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-23T12:57:30.144+04:00  INFO 23528 --- [carservices] [Thread-376] com.zaxxer.hikari.HikariDataSource       : HikariPool-92 - Shutdown initiated...
2025-11-23T12:57:30.146+04:00  INFO 23528 --- [carservices] [Thread-376] com.zaxxer.hikari.HikariDataSource       : HikariPool-92 - Shutdown completed.
2025-11-23T12:57:30.332+04:00  INFO 23528 --- [carservices] [restartedMain] c.c.carservices.CarservicesApplication   : Starting CarservicesApplication using Java 21.0.7 with PID 23528 (C:\Grand BackUp\Sheikh-2\Private\Sheikhkashifiqbal\temp\Spare Parts Project\SpringBoot\car-dev-1\carservices\target\classes started by lenovo in C:\Grand BackUp\Sheikh-2\Private\Sheikhkashifiqbal\temp\Spare Parts Project\SpringBoot\car-dev-1\carservices)
2025-11-23T12:57:30.333+04:00  INFO 23528 --- [carservices] [restartedMain] c.c.carservices.CarservicesApplication   : No active profile set, falling back to 1 default profile: "default"
2025-11-23T12:57:31.053+04:00  INFO 23528 --- [carservices] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-23T12:57:31.324+04:00  INFO 23528 --- [carservices] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 269 ms. Found 36 JPA repository interfaces.
2025-11-23T12:57:31.519+04:00  INFO 23528 --- [carservices] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-11-23T12:57:31.523+04:00  INFO 23528 --- [carservices] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-23T12:57:31.525+04:00  INFO 23528 --- [carservices] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.40]
2025-11-23T12:57:31.576+04:00  INFO 23528 --- [carservices] [restartedMain] o.a.c.c.C.[Tomcat-19].[localhost].[/]    : Initializing Spring embedded WebApplicationContext
2025-11-23T12:57:31.577+04:00  INFO 23528 --- [carservices] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1241 ms
2025-11-23T12:57:31.667+04:00  INFO 23528 --- [carservices] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-23T12:57:31.670+04:00  INFO 23528 --- [carservices] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-11-23T12:57:31.686+04:00  INFO 23528 --- [carservices] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-23T12:57:31.688+04:00  INFO 23528 --- [carservices] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-93 - Starting...
2025-11-23T12:57:31.750+04:00  INFO 23528 --- [carservices] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-93 - Added connection com.p6spy.engine.wrapper.ConnectionWrapper@63acd89a
2025-11-23T12:57:31.750+04:00  INFO 23528 --- [carservices] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-93 - Start completed.
2025-11-23T12:57:31.764+04:00  WARN 23528 --- [carservices] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-23T12:57:31.767+04:00  INFO 23528 --- [carservices] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-93)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-23T12:57:32.273+04:00  INFO 23528 --- [carservices] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-23T12:57:32.292+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763888252292 | took 17ms | statement | connection 2347| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from information_schema.sequences
select * from information_schema.sequences;
2025-11-23T12:57:32.330+04:00  INFO 23528 --- [carservices] [restartedMain] t.s.e.i.AbstractInformationExtractorImpl : HHH000475: Cannot locate column information using identifier [lower((manager_email)::text)]; ignoring index [ux_company_manager_email]
2025-11-23T12:57:32.331+04:00 DEBUG 23528 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       drop constraint if exists ux_company_company_name_ci
2025-11-23T12:57:32.334+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763888252334 | took 2ms | statement | connection 2347| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       drop constraint if exists ux_company_company_name_ci

    alter table if exists company 
       drop constraint if exists ux_company_company_name_ci;
2025-11-23T12:57:32.334+04:00  WARN 23528 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2025-11-23T12:57:32.334+04:00  WARN 23528 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "ux_company_company_name_ci" of relation "company" does not exist, skipping
2025-11-23T12:57:32.334+04:00 DEBUG 23528 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       add constraint ux_company_company_name_ci unique (company_name)
2025-11-23T12:57:32.346+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763888252346 | took 10ms | statement | connection 2347| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       add constraint ux_company_company_name_ci unique (company_name)

    alter table if exists company 
       add constraint ux_company_company_name_ci unique (company_name);
2025-11-23T12:57:32.347+04:00 DEBUG 23528 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       drop constraint if exists ux_company_brand_name_ci
2025-11-23T12:57:32.348+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763888252348 | took 1ms | statement | connection 2347| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       drop constraint if exists ux_company_brand_name_ci

    alter table if exists company 
       drop constraint if exists ux_company_brand_name_ci;
2025-11-23T12:57:32.349+04:00  WARN 23528 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2025-11-23T12:57:32.349+04:00  WARN 23528 --- [carservices] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "ux_company_brand_name_ci" of relation "company" does not exist, skipping
2025-11-23T12:57:32.349+04:00 DEBUG 23528 --- [carservices] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists company 
       add constraint ux_company_brand_name_ci unique (brand_name)
2025-11-23T12:57:32.354+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763888252354 | took 5ms | statement | connection 2347| url jdbc:p6spy:postgresql://localhost:5433/testdb

    alter table if exists company 
       add constraint ux_company_brand_name_ci unique (brand_name)

    alter table if exists company 
       add constraint ux_company_brand_name_ci unique (brand_name);
2025-11-23T12:57:32.461+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763888252461 | took 4ms | statement | connection 2347| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."company" where 1=0
select * from "public"."company" where 1=0;
2025-11-23T12:57:32.545+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763888252545 | took 2ms | statement | connection 2347| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."branch" where 1=0
select * from "public"."branch" where 1=0;
2025-11-23T12:57:32.552+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763888252552 | took 1ms | statement | connection 2347| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-11-23T12:57:32.559+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763888252559 | took 2ms | statement | connection 2347| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."service_entity" where 1=0
select * from "public"."service_entity" where 1=0;
2025-11-23T12:57:32.649+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763888252649 | took 0ms | statement | connection 2347| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."branch" where 1=0
select * from "public"."branch" where 1=0;
2025-11-23T12:57:32.652+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763888252652 | took 0ms | statement | connection 2347| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-11-23T12:57:32.656+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763888252656 | took 2ms | statement | connection 2347| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."spare_parts" where 1=0
select * from "public"."spare_parts" where 1=0;
2025-11-23T12:57:32.765+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763888252765 | took 0ms | statement | connection 2347| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-11-23T12:57:32.885+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763888252885 | took 0ms | statement | connection 2347| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."brand" where 1=0
select * from "public"."brand" where 1=0;
2025-11-23T12:57:32.891+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763888252891 | took 2ms | statement | connection 2347| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."user_registration" where 1=0
select * from "public"."user_registration" where 1=0;
2025-11-23T12:57:32.991+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763888252991 | took 0ms | statement | connection 2347| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."spare_parts" where 1=0
select * from "public"."spare_parts" where 1=0;
2025-11-23T12:57:33.078+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763888253078 | took 1ms | statement | connection 2347| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."problem" where 1=0
select * from "public"."problem" where 1=0;
2025-11-23T12:57:33.176+04:00  INFO 23528 --- [carservices] [restartedMain] p6spy                                    : #1763888253176 | took 0ms | statement | connection 2347| url jdbc:p6spy:postgresql://localhost:5433/testdb
select * from "public"."branch" where 1=0
select * from "public"."branch" where 1=0;
2025-11-23T12:57:33.177+04:00  INFO 23528 --- [carservices] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-23T12:57:34.227+04:00  WARN 23528 --- [carservices] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-23T12:57:34.551+04:00  INFO 23528 --- [carservices] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-11-23T12:57:34.567+04:00  INFO 23528 --- [carservices] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/'
2025-11-23T12:57:34.570+04:00  INFO 23528 --- [carservices] [restartedMain] c.c.carservices.CarservicesApplication   : Started CarservicesApplication in 4.303 seconds (process running for 526292.593)
2025-11-23T12:57:34.572+04:00  INFO 23528 --- [carservices] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-11-23T12:58:11.115+04:00  INFO 23528 --- [carservices] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-11-23T12:58:11.120+04:00  INFO 23528 --- [carservices] [Thread-380] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-23T12:58:11.126+04:00  INFO 23528 --- [carservices] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-23T12:58:11.132+04:00  INFO 23528 --- [carservices] [Thread-380] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-23T12:58:11.133+04:00  INFO 23528 --- [carservices] [Thread-380] com.zaxxer.hikari.HikariDataSource       : HikariPool-93 - Shutdown initiated...
2025-11-23T12:58:11.148+04:00  INFO 23528 --- [carservices] [Thread-380] com.zaxxer.hikari.HikariDataSource       : HikariPool-93 - Shutdown completed.
2025-11-23T12:58:11.270+04:00  INFO 23528 --- [carservices] [restartedMain] c.c.carservices.CarservicesApplication   : Starting CarservicesApplication using Java 21.0.7 with PID 23528 (C:\Grand BackUp\Sheikh-2\Private\Sheikhkashifiqbal\temp\Spare Parts Project\SpringBoot\car-dev-1\carservices\target\classes started by lenovo in C:\Grand BackUp\Sheikh-2\Private\Sheikhkashifiqbal\temp\Spare Parts Project\SpringBoot\car-dev-1\carservices)
2025-11-23T12:58:11.271+04:00  INFO 23528 --- [carservices] [restartedMain] c.c.carservices.CarservicesApplication   : No active profile set, falling back to 1 default profile: "default"
